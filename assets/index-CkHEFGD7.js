(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function OS(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var cm={exports:{}},Pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mv;function xS(){if(mv)return Pl;mv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Pl.Fragment=t,Pl.jsx=n,Pl.jsxs=n,Pl}var pv;function MS(){return pv||(pv=1,cm.exports=xS()),cm.exports}var Y=MS(),hm={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv;function VS(){if(gv)return Rt;gv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function R(M){return M===null||typeof M!="object"?null:(M=A&&M[A]||M["@@iterator"],typeof M=="function"?M:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,G={};function L(M,nt,pt){this.props=M,this.context=nt,this.refs=G,this.updater=pt||O}L.prototype.isReactComponent={},L.prototype.setState=function(M,nt){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,nt,"setState")},L.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function q(){}q.prototype=L.prototype;function $(M,nt,pt){this.props=M,this.context=nt,this.refs=G,this.updater=pt||O}var K=$.prototype=new q;K.constructor=$,k(K,L.prototype),K.isPureReactComponent=!0;var it=Array.isArray,st={H:null,A:null,T:null,S:null},mt=Object.prototype.hasOwnProperty;function N(M,nt,pt,ot,lt,It){return pt=It.ref,{$$typeof:i,type:M,key:nt,ref:pt!==void 0?pt:null,props:It}}function w(M,nt){return N(M.type,nt,void 0,void 0,void 0,M.props)}function S(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function C(M){var nt={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(pt){return nt[pt]})}var x=/\/+/g;function U(M,nt){return typeof M=="object"&&M!==null&&M.key!=null?C(""+M.key):nt.toString(36)}function D(){}function fe(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(D,D):(M.status="pending",M.then(function(nt){M.status==="pending"&&(M.status="fulfilled",M.value=nt)},function(nt){M.status==="pending"&&(M.status="rejected",M.reason=nt)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function ne(M,nt,pt,ot,lt){var It=typeof M;(It==="undefined"||It==="boolean")&&(M=null);var wt=!1;if(M===null)wt=!0;else switch(It){case"bigint":case"string":case"number":wt=!0;break;case"object":switch(M.$$typeof){case i:case t:wt=!0;break;case E:return wt=M._init,ne(wt(M._payload),nt,pt,ot,lt)}}if(wt)return lt=lt(M),wt=ot===""?"."+U(M,0):ot,it(lt)?(pt="",wt!=null&&(pt=wt.replace(x,"$&/")+"/"),ne(lt,nt,pt,"",function(oe){return oe})):lt!=null&&(S(lt)&&(lt=w(lt,pt+(lt.key==null||M&&M.key===lt.key?"":(""+lt.key).replace(x,"$&/")+"/")+wt)),nt.push(lt)),1;wt=0;var ge=ot===""?".":ot+":";if(it(M))for(var jt=0;jt<M.length;jt++)ot=M[jt],It=ge+U(ot,jt),wt+=ne(ot,nt,pt,It,lt);else if(jt=R(M),typeof jt=="function")for(M=jt.call(M),jt=0;!(ot=M.next()).done;)ot=ot.value,It=ge+U(ot,jt++),wt+=ne(ot,nt,pt,It,lt);else if(It==="object"){if(typeof M.then=="function")return ne(fe(M),nt,pt,ot,lt);throw nt=String(M),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return wt}function at(M,nt,pt){if(M==null)return M;var ot=[],lt=0;return ne(M,ot,"","",function(It){return nt.call(pt,It,lt++)}),ot}function _t(M){if(M._status===-1){var nt=M._result;nt=nt(),nt.then(function(pt){(M._status===0||M._status===-1)&&(M._status=1,M._result=pt)},function(pt){(M._status===0||M._status===-1)&&(M._status=2,M._result=pt)}),M._status===-1&&(M._status=0,M._result=nt)}if(M._status===1)return M._result.default;throw M._result}var ft=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function Gt(){}return Rt.Children={map:at,forEach:function(M,nt,pt){at(M,function(){nt.apply(this,arguments)},pt)},count:function(M){var nt=0;return at(M,function(){nt++}),nt},toArray:function(M){return at(M,function(nt){return nt})||[]},only:function(M){if(!S(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Rt.Component=L,Rt.Fragment=n,Rt.Profiler=o,Rt.PureComponent=$,Rt.StrictMode=s,Rt.Suspense=p,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=st,Rt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Rt.cache=function(M){return function(){return M.apply(null,arguments)}},Rt.cloneElement=function(M,nt,pt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ot=k({},M.props),lt=M.key,It=void 0;if(nt!=null)for(wt in nt.ref!==void 0&&(It=void 0),nt.key!==void 0&&(lt=""+nt.key),nt)!mt.call(nt,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&nt.ref===void 0||(ot[wt]=nt[wt]);var wt=arguments.length-2;if(wt===1)ot.children=pt;else if(1<wt){for(var ge=Array(wt),jt=0;jt<wt;jt++)ge[jt]=arguments[jt+2];ot.children=ge}return N(M.type,lt,void 0,void 0,It,ot)},Rt.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Rt.createElement=function(M,nt,pt){var ot,lt={},It=null;if(nt!=null)for(ot in nt.key!==void 0&&(It=""+nt.key),nt)mt.call(nt,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(lt[ot]=nt[ot]);var wt=arguments.length-2;if(wt===1)lt.children=pt;else if(1<wt){for(var ge=Array(wt),jt=0;jt<wt;jt++)ge[jt]=arguments[jt+2];lt.children=ge}if(M&&M.defaultProps)for(ot in wt=M.defaultProps,wt)lt[ot]===void 0&&(lt[ot]=wt[ot]);return N(M,It,void 0,void 0,null,lt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(M){return{$$typeof:m,render:M}},Rt.isValidElement=S,Rt.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:_t}},Rt.memo=function(M,nt){return{$$typeof:g,type:M,compare:nt===void 0?null:nt}},Rt.startTransition=function(M){var nt=st.T,pt={};st.T=pt;try{var ot=M(),lt=st.S;lt!==null&&lt(pt,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(Gt,ft)}catch(It){ft(It)}finally{st.T=nt}},Rt.unstable_useCacheRefresh=function(){return st.H.useCacheRefresh()},Rt.use=function(M){return st.H.use(M)},Rt.useActionState=function(M,nt,pt){return st.H.useActionState(M,nt,pt)},Rt.useCallback=function(M,nt){return st.H.useCallback(M,nt)},Rt.useContext=function(M){return st.H.useContext(M)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(M,nt){return st.H.useDeferredValue(M,nt)},Rt.useEffect=function(M,nt){return st.H.useEffect(M,nt)},Rt.useId=function(){return st.H.useId()},Rt.useImperativeHandle=function(M,nt,pt){return st.H.useImperativeHandle(M,nt,pt)},Rt.useInsertionEffect=function(M,nt){return st.H.useInsertionEffect(M,nt)},Rt.useLayoutEffect=function(M,nt){return st.H.useLayoutEffect(M,nt)},Rt.useMemo=function(M,nt){return st.H.useMemo(M,nt)},Rt.useOptimistic=function(M,nt){return st.H.useOptimistic(M,nt)},Rt.useReducer=function(M,nt,pt){return st.H.useReducer(M,nt,pt)},Rt.useRef=function(M){return st.H.useRef(M)},Rt.useState=function(M){return st.H.useState(M)},Rt.useSyncExternalStore=function(M,nt,pt){return st.H.useSyncExternalStore(M,nt,pt)},Rt.useTransition=function(){return st.H.useTransition()},Rt.version="19.0.0",Rt}var yv;function lp(){return yv||(yv=1,hm.exports=VS()),hm.exports}var j=lp();const Ft=OS(j);var fm={exports:{}},Ll={},dm={exports:{}},mm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v;function kS(){return _v||(_v=1,function(i){function t(at,_t){var ft=at.length;at.push(_t);t:for(;0<ft;){var Gt=ft-1>>>1,M=at[Gt];if(0<o(M,_t))at[Gt]=_t,at[ft]=M,ft=Gt;else break t}}function n(at){return at.length===0?null:at[0]}function s(at){if(at.length===0)return null;var _t=at[0],ft=at.pop();if(ft!==_t){at[0]=ft;t:for(var Gt=0,M=at.length,nt=M>>>1;Gt<nt;){var pt=2*(Gt+1)-1,ot=at[pt],lt=pt+1,It=at[lt];if(0>o(ot,ft))lt<M&&0>o(It,ot)?(at[Gt]=It,at[lt]=ft,Gt=lt):(at[Gt]=ot,at[pt]=ft,Gt=pt);else if(lt<M&&0>o(It,ft))at[Gt]=It,at[lt]=ft,Gt=lt;else break t}}return _t}function o(at,_t){var ft=at.sortIndex-_t.sortIndex;return ft!==0?ft:at.id-_t.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,A=null,R=3,O=!1,k=!1,G=!1,L=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function K(at){for(var _t=n(g);_t!==null;){if(_t.callback===null)s(g);else if(_t.startTime<=at)s(g),_t.sortIndex=_t.expirationTime,t(p,_t);else break;_t=n(g)}}function it(at){if(G=!1,K(at),!k)if(n(p)!==null)k=!0,fe();else{var _t=n(g);_t!==null&&ne(it,_t.startTime-at)}}var st=!1,mt=-1,N=5,w=-1;function S(){return!(i.unstable_now()-w<N)}function C(){if(st){var at=i.unstable_now();w=at;var _t=!0;try{t:{k=!1,G&&(G=!1,q(mt),mt=-1),O=!0;var ft=R;try{e:{for(K(at),A=n(p);A!==null&&!(A.expirationTime>at&&S());){var Gt=A.callback;if(typeof Gt=="function"){A.callback=null,R=A.priorityLevel;var M=Gt(A.expirationTime<=at);if(at=i.unstable_now(),typeof M=="function"){A.callback=M,K(at),_t=!0;break e}A===n(p)&&s(p),K(at)}else s(p);A=n(p)}if(A!==null)_t=!0;else{var nt=n(g);nt!==null&&ne(it,nt.startTime-at),_t=!1}}break t}finally{A=null,R=ft,O=!1}_t=void 0}}finally{_t?x():st=!1}}}var x;if(typeof $=="function")x=function(){$(C)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,D=U.port2;U.port1.onmessage=C,x=function(){D.postMessage(null)}}else x=function(){L(C,0)};function fe(){st||(st=!0,x())}function ne(at,_t){mt=L(function(){at(i.unstable_now())},_t)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(at){at.callback=null},i.unstable_continueExecution=function(){k||O||(k=!0,fe())},i.unstable_forceFrameRate=function(at){0>at||125<at?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<at?Math.floor(1e3/at):5},i.unstable_getCurrentPriorityLevel=function(){return R},i.unstable_getFirstCallbackNode=function(){return n(p)},i.unstable_next=function(at){switch(R){case 1:case 2:case 3:var _t=3;break;default:_t=R}var ft=R;R=_t;try{return at()}finally{R=ft}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(at,_t){switch(at){case 1:case 2:case 3:case 4:case 5:break;default:at=3}var ft=R;R=at;try{return _t()}finally{R=ft}},i.unstable_scheduleCallback=function(at,_t,ft){var Gt=i.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Gt+ft:Gt):ft=Gt,at){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ft+M,at={id:E++,callback:_t,priorityLevel:at,startTime:ft,expirationTime:M,sortIndex:-1},ft>Gt?(at.sortIndex=ft,t(g,at),n(p)===null&&at===n(g)&&(G?(q(mt),mt=-1):G=!0,ne(it,ft-Gt))):(at.sortIndex=M,t(p,at),k||O||(k=!0,fe())),at},i.unstable_shouldYield=S,i.unstable_wrapCallback=function(at){var _t=R;return function(){var ft=R;R=_t;try{return at.apply(this,arguments)}finally{R=ft}}}}(mm)),mm}var vv;function PS(){return vv||(vv=1,dm.exports=kS()),dm.exports}var pm={exports:{}},Xe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function LS(){if(Ev)return Xe;Ev=1;var i=lp();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:g,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xe.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,E)},Xe.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Xe.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Xe.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Xe.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:R,fetchPriority:O}):E==="script"&&s.d.X(p,{crossOrigin:A,integrity:R,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Xe.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Xe.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Xe.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Xe.requestFormReset=function(p){s.d.r(p)},Xe.unstable_batchedUpdates=function(p,g){return p(g)},Xe.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Xe.useFormStatus=function(){return f.H.useHostTransitionStatus()},Xe.version="19.0.0",Xe}var Tv;function US(){if(Tv)return pm.exports;Tv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),pm.exports=LS(),pm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function zS(){if(bv)return Ll;bv=1;var i=PS(),t=lp(),n=US();function s(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),O=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),it=Symbol.for("react.memo_cache_sentinel"),st=Symbol.iterator;function mt(e){return e===null||typeof e!="object"?null:(e=st&&e[st]||e["@@iterator"],typeof e=="function"?e:null)}var N=Symbol.for("react.client.reference");function w(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===N?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case p:return"Fragment";case m:return"Portal";case E:return"Profiler";case g:return"StrictMode";case G:return"Suspense";case L:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case O:return(e.displayName||"Context")+".Provider";case R:return(e._context.displayName||"Context")+".Consumer";case k:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case q:return r=e.displayName||null,r!==null?r:w(e.type)||"Memo";case $:r=e._payload,e=e._init;try{return w(e(r))}catch{}}return null}var S=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C=Object.assign,x,U;function D(e){if(x===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);x=r&&r[1]||"",U=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+x+e+U}var fe=!1;function ne(e,r){if(!e||fe)return"";fe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(X){var F=X}Reflect.construct(e,[],et)}else{try{et.call()}catch(X){F=X}e.call(et.prototype)}}else{try{throw Error()}catch(X){F=X}(et=e())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(X){if(X&&F&&typeof X.stack=="string")return[X.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var I=v.split(`
`),P=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===P.length)for(l=I.length-1,h=P.length-1;1<=l&&0<=h&&I[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==P[h]){var W=`
`+I[l].replace(" at new "," at ");return e.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",e.displayName)),W}while(1<=l&&0<=h);break}}}finally{fe=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?D(a):""}function at(e){switch(e.tag){case 26:case 27:case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return e=ne(e.type,!1),e;case 11:return e=ne(e.type.render,!1),e;case 1:return e=ne(e.type,!0),e;default:return""}}function _t(e){try{var r="";do r+=at(e),e=e.return;while(e);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ft(e){var r=e,a=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(a=r.return),e=r.return;while(e)}return r.tag===3?a:null}function Gt(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function M(e){if(ft(e)!==e)throw Error(s(188))}function nt(e){var r=e.alternate;if(!r){if(r=ft(e),r===null)throw Error(s(188));return r!==e?null:e}for(var a=e,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return M(h),e;if(d===l)return M(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:r}function pt(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=pt(e),r!==null)return r;e=e.sibling}return null}var ot=Array.isArray,lt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,It={pending:!1,data:null,method:null,action:null},wt=[],ge=-1;function jt(e){return{current:e}}function oe(e){0>ge||(e.current=wt[ge],wt[ge]=null,ge--)}function Qt(e,r){ge++,wt[ge]=e.current,e.current=r}var nn=jt(null),Si=jt(null),Sn=jt(null),hr=jt(null);function fr(e,r){switch(Qt(Sn,r),Qt(Si,e),Qt(nn,null),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?q_(r):0;break;default:if(e=e===8?r.parentNode:r,r=e.tagName,e=e.namespaceURI)e=q_(e),r=F_(e,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}oe(nn),Qt(nn,r)}function wi(){oe(nn),oe(Si),oe(Sn)}function Oo(e){e.memoizedState!==null&&Qt(hr,e);var r=nn.current,a=F_(r,e.type);r!==a&&(Qt(Si,e),Qt(nn,a))}function ca(e){Si.current===e&&(oe(nn),oe(Si)),hr.current===e&&(oe(hr),Ol._currentValue=It)}var ha=Object.prototype.hasOwnProperty,gs=i.unstable_scheduleCallback,fa=i.unstable_cancelCallback,ff=i.unstable_shouldYield,xo=i.unstable_requestPaint,hn=i.unstable_now,Su=i.unstable_getCurrentPriorityLevel,Se=i.unstable_ImmediatePriority,Oe=i.unstable_UserBlockingPriority,Ri=i.unstable_NormalPriority,wu=i.unstable_LowPriority,Mo=i.unstable_IdlePriority,df=i.log,ys=i.unstable_setDisableYieldValue,dr=null,Qe=null;function Vo(e){if(Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(dr,e,void 0,(e.current.flags&128)===128)}catch{}}function ti(e){if(typeof df=="function"&&ys(e),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(dr,e)}catch{}}var rn=Math.clz32?Math.clz32:Iu,ko=Math.log,Ru=Math.LN2;function Iu(e){return e>>>=0,e===0?32:31-(ko(e)/Ru|0)|0}var ei=128,mr=4194304;function Gn(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function wn(e,r){var a=e.pendingLanes;if(a===0)return 0;var l=0,h=e.suspendedLanes,d=e.pingedLanes,v=e.warmLanes;e=e.finishedLanes!==0;var T=a&134217727;return T!==0?(a=T&~h,a!==0?l=Gn(a):(d&=T,d!==0?l=Gn(d):e||(v=T&~v,v!==0&&(l=Gn(v))))):(T=a&~h,T!==0?l=Gn(T):d!==0?l=Gn(d):e||(v=a&~v,v!==0&&(l=Gn(v)))),l===0?0:r!==0&&r!==l&&(r&h)===0&&(h=l&-l,v=r&-r,h>=v||h===32&&(v&4194176)!==0)?r:l}function pr(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function da(e,r){switch(e){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Po(){var e=ei;return ei<<=1,(ei&4194176)===0&&(ei=128),e}function gr(){var e=mr;return mr<<=1,(mr&62914560)===0&&(mr=4194304),e}function ma(e){for(var r=[],a=0;31>a;a++)r.push(e);return r}function de(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Cu(e,r,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,I=e.expirationTimes,P=e.hiddenUpdates;for(a=v&~a;0<a;){var W=31-rn(a),et=1<<W;T[W]=0,I[W]=-1;var F=P[W];if(F!==null)for(P[W]=null,W=0;W<F.length;W++){var X=F[W];X!==null&&(X.lane&=-536870913)}a&=~et}l!==0&&yr(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~r))}function yr(e,r,a){e.pendingLanes|=r,e.suspendedLanes&=~r;var l=31-rn(r);e.entangledLanes|=r,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194218}function _r(e,r){var a=e.entangledLanes|=r;for(e=e.entanglements;a;){var l=31-rn(a),h=1<<l;h&r|e[l]&r&&(e[l]|=r),a&=~h}}function Du(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Nu(){var e=lt.p;return e!==0?e:(e=window.event,e===void 0?32:lv(e.type))}function vr(e,r){var a=lt.p;try{return lt.p=e,r()}finally{lt.p=a}}var ni=Math.random().toString(36).slice(2),xe="__reactFiber$"+ni,we="__reactProps$"+ni,Ii="__reactContainer$"+ni,_s="__reactEvents$"+ni,pa="__reactListeners$"+ni,ii="__reactHandles$"+ni,Lo="__reactResources$"+ni,Er="__reactMarker$"+ni;function vs(e){delete e[xe],delete e[we],delete e[_s],delete e[pa],delete e[ii]}function Kn(e){var r=e[xe];if(r)return r;for(var a=e.parentNode;a;){if(r=a[Ii]||a[xe]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(e=$_(e);e!==null;){if(a=e[xe])return a;e=$_(e)}return r}e=a,a=e.parentNode}return null}function Ci(e){if(e=e[xe]||e[Ii]){var r=e.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return e}return null}function Tr(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(s(33))}function br(e){var r=e[Lo];return r||(r=e[Lo]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ie(e){e[Er]=!0}var Uo=new Set,ga={};function gn(e,r){fn(e,r),fn(e+"Capture",r)}function fn(e,r){for(ga[e]=r,e=0;e<r.length;e++)Uo.add(r[e])}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zo={},jo={};function Ou(e){return ha.call(jo,e)?!0:ha.call(zo,e)?!1:mf.test(e)?jo[e]=!0:(zo[e]=!0,!1)}function Ar(e,r,a){if(Ou(r))if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+a)}}function Sr(e,r,a){if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+a)}}function Rn(e,r,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(r,a,""+l)}}function sn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xu(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function pf(e){var r=xu(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),l=""+e[r];if(!e.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Es(e){e._valueTracker||(e._valueTracker=pf(e))}function Bo(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return e&&(l=xu(e)?e.checked?"true":"false":e.value),e=l,e!==a?(r.setValue(e),!0):!1}function ya(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Di=/[\n"\\]/g;function le(e){return e.replace(Di,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function wr(e,r,a,l,h,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),r!=null?v==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+sn(r)):e.value!==""+sn(r)&&(e.value=""+sn(r)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),r!=null?_a(e,v,sn(r)):a!=null?_a(e,v,sn(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+sn(T):e.removeAttribute("name")}function Ts(e,r,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+sn(a):"",r=r!=null?""+sn(r):a,T||r===e.value||(e.value=r),e.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function _a(e,r,a){r==="number"&&ya(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Bt(e,r,a,l){if(e=e.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=r.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+sn(a),r=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}r!==null||e[h].disabled||(r=e[h])}r!==null&&(r.selected=!0)}}function bs(e,r,a){if(r!=null&&(r=""+sn(r),r!==e.value&&(e.value=r),a==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=a!=null?""+sn(a):""}function Rr(e,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ot(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=sn(r),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function In(e,r){if(r){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=r;return}}e.textContent=r}var gf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ho(e,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":l?e.setProperty(r,a):typeof a!="number"||a===0||gf.has(r)?r==="float"?e.cssFloat=a:e[r]=(""+a).trim():e[r]=a+"px"}function Mu(e,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Ho(e,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Ho(e,d,r[d])}function qo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_f=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ri(e){return _f.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Cn=null;function va(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ni=null,Oi=null;function xi(e){var r=Ci(e);if(r&&(e=r.stateNode)){var a=e[we]||null;t:switch(e=r.stateNode,r.type){case"input":if(wr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+le(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==e&&l.form===e.form){var h=l[we]||null;if(!h)throw Error(s(90));wr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===e.form&&Bo(l)}break t;case"textarea":bs(e,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&Bt(e,!!a.multiple,r,!1)}}}var Fo=!1;function Vu(e,r,a){if(Fo)return e(r,a);Fo=!0;try{var l=e(r);return l}finally{if(Fo=!1,(Ni!==null||Oi!==null)&&(wc(),Ni&&(r=Ni,e=Oi,Oi=Ni=null,xi(r),e)))for(r=0;r<e.length;r++)xi(e[r])}}function As(e,r){var a=e.stateNode;if(a===null)return null;var l=a[we]||null;if(l===null)return null;a=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Dn=!1;if(yn)try{var Ss={};Object.defineProperty(Ss,"passive",{get:function(){Dn=!0}}),window.addEventListener("test",Ss,Ss),window.removeEventListener("test",Ss,Ss)}catch{Dn=!1}var si=null,Ir=null,Mi=null;function Go(){if(Mi)return Mi;var e,r=Ir,a=r.length,l,h="value"in si?si.value:si.textContent,d=h.length;for(e=0;e<a&&r[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&r[a-l]===h[d-l];l++);return Mi=h.slice(e,1<l?1-l:void 0)}function ai(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function oi(){return!0}function Ko(){return!1}function Me(e){function r(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?oi:Ko,this.isPropagationStopped=Ko,this}return C(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=oi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=oi)},persist:function(){},isPersistent:oi}),r}var Kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ea=Me(Kt),ws=C({},Kt,{view:0,detail:0}),ku=Me(ws),Ta,ba,li,Rs=C({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ds,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==li&&(li&&e.type==="mousemove"?(Ta=e.screenX-li.screenX,ba=e.screenY-li.screenY):ba=Ta=0,li=e),Ta)},movementY:function(e){return"movementY"in e?e.movementY:ba}}),Nn=Me(Rs),Pu=C({},Rs,{dataTransfer:0}),vf=Me(Pu),Is=C({},ws,{relatedTarget:0}),Aa=Me(Is),$o=C({},Kt,{animationName:0,elapsedTime:0,pseudoElement:0}),Sa=Me($o),Lu=C({},Kt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wa=Me(Lu),Ef=C({},Kt,{data:0}),Qo=Me(Ef),Cs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yo(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=zu[e])?!!r[e]:!1}function Ds(){return Yo}var ju=C({},ws,{key:function(e){if(e.key){var r=Cs[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=ai(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Uu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ds,charCode:function(e){return e.type==="keypress"?ai(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ai(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ra=Me(ju),Bu=C({},Rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xo=Me(Bu),Vi=C({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ds}),Hu=Me(Vi),qu=C({},Kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fu=Me(qu),Gu=C({},Rs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ia=Me(Gu),an=C({},Kt,{newState:0,oldState:0}),Ku=Me(an),$u=[9,13,27,32],ui=yn&&"CompositionEvent"in window,c=null;yn&&"documentMode"in document&&(c=document.documentMode);var y=yn&&"TextEvent"in window&&!c,_=yn&&(!ui||c&&8<c&&11>=c),b=" ",B=!1;function Q(e,r){switch(e){case"keyup":return $u.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pt=!1;function Re(e,r){switch(e){case"compositionend":return rt(r);case"keypress":return r.which!==32?null:(B=!0,b);case"textInput":return e=r.data,e===b&&B?null:e;default:return null}}function Lt(e,r){if(Pt)return e==="compositionend"||!ui&&Q(e,r)?(e=Go(),Mi=Ir=si=null,Pt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Ve={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ie(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!Ve[e.type]:r==="textarea"}function ki(e,r,a,l){Ni?Oi?Oi.push(l):Oi=[l]:Ni=l,r=Nc(r,"onChange"),0<r.length&&(a=new Ea("onChange","change",null,a,l),e.push({event:a,listeners:r}))}var ze=null,ci=null;function Wo(e){U_(e,0)}function Qu(e){var r=Tr(e);if(Bo(r))return e}function dg(e,r){if(e==="change")return r}var mg=!1;if(yn){var Tf;if(yn){var bf="oninput"in document;if(!bf){var pg=document.createElement("div");pg.setAttribute("oninput","return;"),bf=typeof pg.oninput=="function"}Tf=bf}else Tf=!1;mg=Tf&&(!document.documentMode||9<document.documentMode)}function gg(){ze&&(ze.detachEvent("onpropertychange",yg),ci=ze=null)}function yg(e){if(e.propertyName==="value"&&Qu(ci)){var r=[];ki(r,ci,e,va(e)),Vu(Wo,r)}}function oA(e,r,a){e==="focusin"?(gg(),ze=r,ci=a,ze.attachEvent("onpropertychange",yg)):e==="focusout"&&gg()}function lA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qu(ci)}function uA(e,r){if(e==="click")return Qu(r)}function cA(e,r){if(e==="input"||e==="change")return Qu(r)}function hA(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var _n=typeof Object.is=="function"?Object.is:hA;function Zo(e,r){if(_n(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var a=Object.keys(e),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ha.call(r,h)||!_n(e[h],r[h]))return!1}return!0}function _g(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vg(e,r){var a=_g(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=r&&l>=r)return{node:a,offset:r-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=_g(a)}}function Eg(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Eg(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function Tg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=ya(e.document);r instanceof e.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)e=r.contentWindow;else break;r=ya(e.document)}return r}function Af(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function fA(e,r){var a=Tg(r);r=e.focusedElem;var l=e.selectionRange;if(a!==r&&r&&r.ownerDocument&&Eg(r.ownerDocument.documentElement,r)){if(l!==null&&Af(r)){if(e=l.start,a=l.end,a===void 0&&(a=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(a,r.value.length);else if(a=(e=r.ownerDocument||document)&&e.defaultView||window,a.getSelection){a=a.getSelection();var h=r.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=vg(r,d);var v=vg(r,l);h&&v&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(e=e.createRange(),e.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(e),a.extend(v.node,v.offset)):(e.setEnd(v.node,v.offset),a.addRange(e)))}}for(e=[],a=r;a=a.parentNode;)a.nodeType===1&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)a=e[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var dA=yn&&"documentMode"in document&&11>=document.documentMode,Ca=null,Sf=null,Jo=null,wf=!1;function bg(e,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;wf||Ca==null||Ca!==ya(l)||(l=Ca,"selectionStart"in l&&Af(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Jo&&Zo(Jo,l)||(Jo=l,l=Nc(Sf,"onSelect"),0<l.length&&(r=new Ea("onSelect","select",null,r,a),e.push({event:r,listeners:l}),r.target=Ca)))}function Ns(e,r){var a={};return a[e.toLowerCase()]=r.toLowerCase(),a["Webkit"+e]="webkit"+r,a["Moz"+e]="moz"+r,a}var Da={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionrun:Ns("Transition","TransitionRun"),transitionstart:Ns("Transition","TransitionStart"),transitioncancel:Ns("Transition","TransitionCancel"),transitionend:Ns("Transition","TransitionEnd")},Rf={},Ag={};yn&&(Ag=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function Os(e){if(Rf[e])return Rf[e];if(!Da[e])return e;var r=Da[e],a;for(a in r)if(r.hasOwnProperty(a)&&a in Ag)return Rf[e]=r[a];return e}var Sg=Os("animationend"),wg=Os("animationiteration"),Rg=Os("animationstart"),mA=Os("transitionrun"),pA=Os("transitionstart"),gA=Os("transitioncancel"),Ig=Os("transitionend"),Cg=new Map,Dg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function $n(e,r){Cg.set(e,r),gn(r,[e])}var On=[],Na=0,If=0;function Yu(){for(var e=Na,r=If=Na=0;r<e;){var a=On[r];On[r++]=null;var l=On[r];On[r++]=null;var h=On[r];On[r++]=null;var d=On[r];if(On[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Ng(a,h,d)}}function Xu(e,r,a,l){On[Na++]=e,On[Na++]=r,On[Na++]=a,On[Na++]=l,If|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Cf(e,r,a,l){return Xu(e,r,a,l),Wu(e)}function Cr(e,r){return Xu(e,null,null,r),Wu(e)}function Ng(e,r,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;h&&r!==null&&e.tag===3&&(d=e.stateNode,h=31-rn(a),d=d.hiddenUpdates,e=d[h],e===null?d[h]=[r]:e.push(r),r.lane=a|536870912)}function Wu(e){if(50<Sl)throw Sl=0,Vd=null,Error(s(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var Oa={},Og=new WeakMap;function xn(e,r){if(typeof e=="object"&&e!==null){var a=Og.get(e);return a!==void 0?a:(r={value:e,source:r,stack:_t(r)},Og.set(e,r),r)}return{value:e,source:r,stack:_t(r)}}var xa=[],Ma=0,Zu=null,Ju=0,Mn=[],Vn=0,xs=null,Pi=1,Li="";function Ms(e,r){xa[Ma++]=Ju,xa[Ma++]=Zu,Zu=e,Ju=r}function xg(e,r,a){Mn[Vn++]=Pi,Mn[Vn++]=Li,Mn[Vn++]=xs,xs=e;var l=Pi;e=Li;var h=32-rn(l)-1;l&=~(1<<h),a+=1;var d=32-rn(r)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Pi=1<<32-rn(r)+h|a<<h|l,Li=d+e}else Pi=1<<d|a<<h|l,Li=e}function Df(e){e.return!==null&&(Ms(e,1),xg(e,1,0))}function Nf(e){for(;e===Zu;)Zu=xa[--Ma],xa[Ma]=null,Ju=xa[--Ma],xa[Ma]=null;for(;e===xs;)xs=Mn[--Vn],Mn[Vn]=null,Li=Mn[--Vn],Mn[Vn]=null,Pi=Mn[--Vn],Mn[Vn]=null}var on=null,je=null,Ht=!1,Qn=null,hi=!1,Of=Error(s(519));function Vs(e){var r=Error(s(418,""));throw nl(xn(r,e)),Of}function Mg(e){var r=e.stateNode,a=e.type,l=e.memoizedProps;switch(r[xe]=e,r[we]=l,a){case"dialog":Mt("cancel",r),Mt("close",r);break;case"iframe":case"object":case"embed":Mt("load",r);break;case"video":case"audio":for(a=0;a<Rl.length;a++)Mt(Rl[a],r);break;case"source":Mt("error",r);break;case"img":case"image":case"link":Mt("error",r),Mt("load",r);break;case"details":Mt("toggle",r);break;case"input":Mt("invalid",r),Ts(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Es(r);break;case"select":Mt("invalid",r);break;case"textarea":Mt("invalid",r),Rr(r,l.value,l.defaultValue,l.children),Es(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||H_(r.textContent,a)?(l.popover!=null&&(Mt("beforetoggle",r),Mt("toggle",r)),l.onScroll!=null&&Mt("scroll",r),l.onScrollEnd!=null&&Mt("scrollend",r),l.onClick!=null&&(r.onclick=Oc),r=!0):r=!1,r||Vs(e)}function Vg(e){for(on=e.return;on;)switch(on.tag){case 3:case 27:hi=!0;return;case 5:case 13:hi=!1;return;default:on=on.return}}function tl(e){if(e!==on)return!1;if(!Ht)return Vg(e),Ht=!0,!1;var r=!1,a;if((a=e.tag!==3&&e.tag!==27)&&((a=e.tag===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Wd(e.type,e.memoizedProps)),a=!a),a&&(r=!0),r&&je&&Vs(e),Vg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(r===0){je=Xn(e.nextSibling);break t}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;e=e.nextSibling}je=null}}else je=on?Xn(e.stateNode.nextSibling):null;return!0}function el(){je=on=null,Ht=!1}function nl(e){Qn===null?Qn=[e]:Qn.push(e)}var il=Error(s(460)),kg=Error(s(474)),xf={then:function(){}};function Pg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function tc(){}function Lg(e,r,a){switch(a=e[a],a===void 0?e.push(r):a!==r&&(r.then(tc,tc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,e===il?Error(s(483)):e;default:if(typeof r.status=="string")r.then(tc,tc);else{if(e=Zt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=r,e.status="pending",e.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,e===il?Error(s(483)):e}throw rl=r,il}}var rl=null;function Ug(){if(rl===null)throw Error(s(459));var e=rl;return rl=null,e}var Va=null,sl=0;function ec(e){var r=sl;return sl+=1,Va===null&&(Va=[]),Lg(Va,e,r)}function al(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function nc(e,r){throw r.$$typeof===u?Error(s(525)):(e=Object.prototype.toString.call(r),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function zg(e){var r=e._init;return r(e._payload)}function jg(e){function r(z,V){if(e){var H=z.deletions;H===null?(z.deletions=[V],z.flags|=16):H.push(V)}}function a(z,V){if(!e)return null;for(;V!==null;)r(z,V),V=V.sibling;return null}function l(z){for(var V=new Map;z!==null;)z.key!==null?V.set(z.key,z):V.set(z.index,z),z=z.sibling;return V}function h(z,V){return z=jr(z,V),z.index=0,z.sibling=null,z}function d(z,V,H){return z.index=H,e?(H=z.alternate,H!==null?(H=H.index,H<V?(z.flags|=33554434,V):H):(z.flags|=33554434,V)):(z.flags|=1048576,V)}function v(z){return e&&z.alternate===null&&(z.flags|=33554434),z}function T(z,V,H,Z){return V===null||V.tag!==6?(V=Rd(H,z.mode,Z),V.return=z,V):(V=h(V,H),V.return=z,V)}function I(z,V,H,Z){var ht=H.type;return ht===p?W(z,V,H.props.children,Z,H.key):V!==null&&(V.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===$&&zg(ht)===V.type)?(V=h(V,H.props),al(V,H),V.return=z,V):(V=Ec(H.type,H.key,H.props,null,z.mode,Z),al(V,H),V.return=z,V)}function P(z,V,H,Z){return V===null||V.tag!==4||V.stateNode.containerInfo!==H.containerInfo||V.stateNode.implementation!==H.implementation?(V=Id(H,z.mode,Z),V.return=z,V):(V=h(V,H.children||[]),V.return=z,V)}function W(z,V,H,Z,ht){return V===null||V.tag!==7?(V=Fs(H,z.mode,Z,ht),V.return=z,V):(V=h(V,H),V.return=z,V)}function et(z,V,H){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Rd(""+V,z.mode,H),V.return=z,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case f:return H=Ec(V.type,V.key,V.props,null,z.mode,H),al(H,V),H.return=z,H;case m:return V=Id(V,z.mode,H),V.return=z,V;case $:var Z=V._init;return V=Z(V._payload),et(z,V,H)}if(ot(V)||mt(V))return V=Fs(V,z.mode,H,null),V.return=z,V;if(typeof V.then=="function")return et(z,ec(V),H);if(V.$$typeof===O)return et(z,yc(z,V),H);nc(z,V)}return null}function F(z,V,H,Z){var ht=V!==null?V.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ht!==null?null:T(z,V,""+H,Z);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case f:return H.key===ht?I(z,V,H,Z):null;case m:return H.key===ht?P(z,V,H,Z):null;case $:return ht=H._init,H=ht(H._payload),F(z,V,H,Z)}if(ot(H)||mt(H))return ht!==null?null:W(z,V,H,Z,null);if(typeof H.then=="function")return F(z,V,ec(H),Z);if(H.$$typeof===O)return F(z,V,yc(z,H),Z);nc(z,H)}return null}function X(z,V,H,Z,ht){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return z=z.get(H)||null,T(V,z,""+Z,ht);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case f:return z=z.get(Z.key===null?H:Z.key)||null,I(V,z,Z,ht);case m:return z=z.get(Z.key===null?H:Z.key)||null,P(V,z,Z,ht);case $:var Dt=Z._init;return Z=Dt(Z._payload),X(z,V,H,Z,ht)}if(ot(Z)||mt(Z))return z=z.get(H)||null,W(V,z,Z,ht,null);if(typeof Z.then=="function")return X(z,V,H,ec(Z),ht);if(Z.$$typeof===O)return X(z,V,H,yc(V,Z),ht);nc(V,Z)}return null}function dt(z,V,H,Z){for(var ht=null,Dt=null,gt=V,vt=V=0,Le=null;gt!==null&&vt<H.length;vt++){gt.index>vt?(Le=gt,gt=null):Le=gt.sibling;var qt=F(z,gt,H[vt],Z);if(qt===null){gt===null&&(gt=Le);break}e&&gt&&qt.alternate===null&&r(z,gt),V=d(qt,V,vt),Dt===null?ht=qt:Dt.sibling=qt,Dt=qt,gt=Le}if(vt===H.length)return a(z,gt),Ht&&Ms(z,vt),ht;if(gt===null){for(;vt<H.length;vt++)gt=et(z,H[vt],Z),gt!==null&&(V=d(gt,V,vt),Dt===null?ht=gt:Dt.sibling=gt,Dt=gt);return Ht&&Ms(z,vt),ht}for(gt=l(gt);vt<H.length;vt++)Le=X(gt,z,vt,H[vt],Z),Le!==null&&(e&&Le.alternate!==null&&gt.delete(Le.key===null?vt:Le.key),V=d(Le,V,vt),Dt===null?ht=Le:Dt.sibling=Le,Dt=Le);return e&&gt.forEach(function($r){return r(z,$r)}),Ht&&Ms(z,vt),ht}function At(z,V,H,Z){if(H==null)throw Error(s(151));for(var ht=null,Dt=null,gt=V,vt=V=0,Le=null,qt=H.next();gt!==null&&!qt.done;vt++,qt=H.next()){gt.index>vt?(Le=gt,gt=null):Le=gt.sibling;var $r=F(z,gt,qt.value,Z);if($r===null){gt===null&&(gt=Le);break}e&&gt&&$r.alternate===null&&r(z,gt),V=d($r,V,vt),Dt===null?ht=$r:Dt.sibling=$r,Dt=$r,gt=Le}if(qt.done)return a(z,gt),Ht&&Ms(z,vt),ht;if(gt===null){for(;!qt.done;vt++,qt=H.next())qt=et(z,qt.value,Z),qt!==null&&(V=d(qt,V,vt),Dt===null?ht=qt:Dt.sibling=qt,Dt=qt);return Ht&&Ms(z,vt),ht}for(gt=l(gt);!qt.done;vt++,qt=H.next())qt=X(gt,z,vt,qt.value,Z),qt!==null&&(e&&qt.alternate!==null&&gt.delete(qt.key===null?vt:qt.key),V=d(qt,V,vt),Dt===null?ht=qt:Dt.sibling=qt,Dt=qt);return e&&gt.forEach(function(NS){return r(z,NS)}),Ht&&Ms(z,vt),ht}function he(z,V,H,Z){if(typeof H=="object"&&H!==null&&H.type===p&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case f:t:{for(var ht=H.key;V!==null;){if(V.key===ht){if(ht=H.type,ht===p){if(V.tag===7){a(z,V.sibling),Z=h(V,H.props.children),Z.return=z,z=Z;break t}}else if(V.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===$&&zg(ht)===V.type){a(z,V.sibling),Z=h(V,H.props),al(Z,H),Z.return=z,z=Z;break t}a(z,V);break}else r(z,V);V=V.sibling}H.type===p?(Z=Fs(H.props.children,z.mode,Z,H.key),Z.return=z,z=Z):(Z=Ec(H.type,H.key,H.props,null,z.mode,Z),al(Z,H),Z.return=z,z=Z)}return v(z);case m:t:{for(ht=H.key;V!==null;){if(V.key===ht)if(V.tag===4&&V.stateNode.containerInfo===H.containerInfo&&V.stateNode.implementation===H.implementation){a(z,V.sibling),Z=h(V,H.children||[]),Z.return=z,z=Z;break t}else{a(z,V);break}else r(z,V);V=V.sibling}Z=Id(H,z.mode,Z),Z.return=z,z=Z}return v(z);case $:return ht=H._init,H=ht(H._payload),he(z,V,H,Z)}if(ot(H))return dt(z,V,H,Z);if(mt(H)){if(ht=mt(H),typeof ht!="function")throw Error(s(150));return H=ht.call(H),At(z,V,H,Z)}if(typeof H.then=="function")return he(z,V,ec(H),Z);if(H.$$typeof===O)return he(z,V,yc(z,H),Z);nc(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,V!==null&&V.tag===6?(a(z,V.sibling),Z=h(V,H),Z.return=z,z=Z):(a(z,V),Z=Rd(H,z.mode,Z),Z.return=z,z=Z),v(z)):a(z,V)}return function(z,V,H,Z){try{sl=0;var ht=he(z,V,H,Z);return Va=null,ht}catch(gt){if(gt===il)throw gt;var Dt=Un(29,gt,null,z.mode);return Dt.lanes=Z,Dt.return=z,Dt}finally{}}}var ks=jg(!0),Bg=jg(!1),ka=jt(null),ic=jt(0);function Hg(e,r){e=Qi,Qt(ic,e),Qt(ka,r),Qi=e|r.baseLanes}function Mf(){Qt(ic,Qi),Qt(ka,ka.current)}function Vf(){Qi=ic.current,oe(ka),oe(ic)}var kn=jt(null),fi=null;function Dr(e){var r=e.alternate;Qt(Ce,Ce.current&1),Qt(kn,e),fi===null&&(r===null||ka.current!==null||r.memoizedState!==null)&&(fi=e)}function qg(e){if(e.tag===22){if(Qt(Ce,Ce.current),Qt(kn,e),fi===null){var r=e.alternate;r!==null&&r.memoizedState!==null&&(fi=e)}}else Nr()}function Nr(){Qt(Ce,Ce.current),Qt(kn,kn.current)}function Ui(e){oe(kn),fi===e&&(fi=null),oe(Ce)}var Ce=jt(0);function rc(e){for(var r=e;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var yA=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){r.aborted=!0,e.forEach(function(a){return a()})}},_A=i.unstable_scheduleCallback,vA=i.unstable_NormalPriority,De={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kf(){return{controller:new yA,data:new Map,refCount:0}}function ol(e){e.refCount--,e.refCount===0&&_A(vA,function(){e.controller.abort()})}var ll=null,Pf=0,Pa=0,La=null;function EA(e,r){if(ll===null){var a=ll=[];Pf=0,Pa=Hd(),La={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Pf++,r.then(Fg,Fg),r}function Fg(){if(--Pf===0&&ll!==null){La!==null&&(La.status="fulfilled");var e=ll;ll=null,Pa=0,La=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function TA(e,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Gg=S.S;S.S=function(e,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&EA(e,r),Gg!==null&&Gg(e,r)};var Ps=jt(null);function Lf(){var e=Ps.current;return e!==null?e:Zt.pooledCache}function sc(e,r){r===null?Qt(Ps,Ps.current):Qt(Ps,r.pool)}function Kg(){var e=Lf();return e===null?null:{parent:De._currentValue,pool:e}}var Or=0,Ct=null,Yt=null,ye=null,ac=!1,Ua=!1,Ls=!1,oc=0,ul=0,za=null,bA=0;function me(){throw Error(s(321))}function Uf(e,r){if(r===null)return!1;for(var a=0;a<r.length&&a<e.length;a++)if(!_n(e[a],r[a]))return!1;return!0}function zf(e,r,a,l,h,d){return Or=d,Ct=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,S.H=e===null||e.memoizedState===null?Us:xr,Ls=!1,d=a(l,h),Ls=!1,Ua&&(d=Qg(r,a,l,h)),$g(e),d}function $g(e){S.H=di;var r=Yt!==null&&Yt.next!==null;if(Or=0,ye=Yt=Ct=null,ac=!1,ul=0,za=null,r)throw Error(s(300));e===null||ke||(e=e.dependencies,e!==null&&gc(e)&&(ke=!0))}function Qg(e,r,a,l){Ct=e;var h=0;do{if(Ua&&(za=null),ul=0,Ua=!1,25<=h)throw Error(s(301));if(h+=1,ye=Yt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}S.H=zs,d=r(a,l)}while(Ua);return d}function AA(){var e=S.H,r=e.useState()[0];return r=typeof r.then=="function"?cl(r):r,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(Ct.flags|=1024),r}function jf(){var e=oc!==0;return oc=0,e}function Bf(e,r,a){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a}function Hf(e){if(ac){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}ac=!1}Or=0,ye=Yt=Ct=null,Ua=!1,ul=oc=0,za=null}function dn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?Ct.memoizedState=ye=e:ye=ye.next=e,ye}function _e(){if(Yt===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var r=ye===null?Ct.memoizedState:ye.next;if(r!==null)ye=r,Yt=e;else{if(e===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},ye===null?Ct.memoizedState=ye=e:ye=ye.next=e}return ye}var lc;lc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function cl(e){var r=ul;return ul+=1,za===null&&(za=[]),e=Lg(za,e,r),r=Ct,(ye===null?r.memoizedState:ye.next)===null&&(r=r.alternate,S.H=r===null||r.memoizedState===null?Us:xr),e}function uc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return cl(e);if(e.$$typeof===O)return Ye(e)}throw Error(s(438,String(e)))}function qf(e){var r=null,a=Ct.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=lc(),Ct.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(e),l=0;l<e;l++)a[l]=it;return r.index++,a}function zi(e,r){return typeof r=="function"?r(e):r}function cc(e){var r=_e();return Ff(r,Yt,e)}function Ff(e,r,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}r.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{r=h.next;var T=v=null,I=null,P=r,W=!1;do{var et=P.lane&-536870913;if(et!==P.lane?(Ut&et)===et:(Or&et)===et){var F=P.revertLane;if(F===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),et===Pa&&(W=!0);else if((Or&F)===F){P=P.next,F===Pa&&(W=!0);continue}else et={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(T=I=et,v=d):I=I.next=et,Ct.lanes|=F,Br|=F;et=P.action,Ls&&a(d,et),d=P.hasEagerState?P.eagerState:a(d,et)}else F={lane:et,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(T=I=F,v=d):I=I.next=F,Ct.lanes|=et,Br|=et;P=P.next}while(P!==null&&P!==r);if(I===null?v=d:I.next=T,!_n(d,e.memoizedState)&&(ke=!0,W&&(a=La,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Gf(e){var r=_e(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);_n(d,r.memoizedState)||(ke=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Yg(e,r,a){var l=Ct,h=_e(),d=Ht;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!_n((Yt||h).memoizedState,a);if(v&&(h.memoizedState=a,ke=!0),h=h.queue,Qf(Zg.bind(null,l,h,e),[e]),h.getSnapshot!==r||v||ye!==null&&ye.memoizedState.tag&1){if(l.flags|=2048,ja(9,Wg.bind(null,l,h,a,r),{destroy:void 0},null),Zt===null)throw Error(s(349));d||(Or&60)!==0||Xg(l,r,a)}return a}function Xg(e,r,a){e.flags|=16384,e={getSnapshot:r,value:a},r=Ct.updateQueue,r===null?(r=lc(),Ct.updateQueue=r,r.stores=[e]):(a=r.stores,a===null?r.stores=[e]:a.push(e))}function Wg(e,r,a,l){r.value=a,r.getSnapshot=l,Jg(r)&&ty(e)}function Zg(e,r,a){return a(function(){Jg(r)&&ty(e)})}function Jg(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!_n(e,a)}catch{return!0}}function ty(e){var r=Cr(e,2);r!==null&&ln(r,e,2)}function Kf(e){var r=dn();if(typeof e=="function"){var a=e;if(e=a(),Ls){ti(!0);try{a()}finally{ti(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:e},r}function ey(e,r,a,l){return e.baseState=a,Ff(e,Yt,typeof l=="function"?l:zi)}function SA(e,r,a,l,h){if(dc(e))throw Error(s(485));if(e=r.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};S.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,ny(r,d)):(d.next=a.next,r.pending=a.next=d)}}function ny(e,r){var a=r.action,l=r.payload,h=e.state;if(r.isTransition){var d=S.T,v={};S.T=v;try{var T=a(h,l),I=S.S;I!==null&&I(v,T),iy(e,r,T)}catch(P){$f(e,r,P)}finally{S.T=d}}else try{d=a(h,l),iy(e,r,d)}catch(P){$f(e,r,P)}}function iy(e,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ry(e,r,l)},function(l){return $f(e,r,l)}):ry(e,r,a)}function ry(e,r,a){r.status="fulfilled",r.value=a,sy(r),e.state=a,r=e.pending,r!==null&&(a=r.next,a===r?e.pending=null:(a=a.next,r.next=a,ny(e,a)))}function $f(e,r,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,sy(r),r=r.next;while(r!==l)}e.action=null}function sy(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function ay(e,r){return r}function oy(e,r){if(Ht){var a=Zt.formState;if(a!==null){t:{var l=Ct;if(Ht){if(je){e:{for(var h=je,d=hi;h.nodeType!==8;){if(!d){h=null;break e}if(h=Xn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){je=Xn(h.nextSibling),l=h.data==="F!";break t}}Vs(l)}l=!1}l&&(r=a[0])}}return a=dn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ay,lastRenderedState:r},a.queue=l,a=wy.bind(null,Ct,l),l.dispatch=a,l=Kf(!1),d=Jf.bind(null,Ct,!1,l.queue),l=dn(),h={state:r,dispatch:null,action:e,pending:null},l.queue=h,a=SA.bind(null,Ct,h,d,a),h.dispatch=a,l.memoizedState=e,[r,a,!1]}function ly(e){var r=_e();return uy(r,Yt,e)}function uy(e,r,a){r=Ff(e,r,ay)[0],e=cc(zi)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?cl(r):r;var l=_e(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(Ct.flags|=2048,ja(9,wA.bind(null,h,a),{destroy:void 0},null)),[r,d,e]}function wA(e,r){e.action=r}function cy(e){var r=_e(),a=Yt;if(a!==null)return uy(r,a,e);_e(),r=r.memoizedState,a=_e();var l=a.queue.dispatch;return a.memoizedState=e,[r,l,!1]}function ja(e,r,a,l){return e={tag:e,create:r,inst:a,deps:l,next:null},r=Ct.updateQueue,r===null&&(r=lc(),Ct.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,r.lastEffect=e),e}function hy(){return _e().memoizedState}function hc(e,r,a,l){var h=dn();Ct.flags|=e,h.memoizedState=ja(1|r,a,{destroy:void 0},l===void 0?null:l)}function fc(e,r,a,l){var h=_e();l=l===void 0?null:l;var d=h.memoizedState.inst;Yt!==null&&l!==null&&Uf(l,Yt.memoizedState.deps)?h.memoizedState=ja(r,a,d,l):(Ct.flags|=e,h.memoizedState=ja(1|r,a,d,l))}function fy(e,r){hc(8390656,8,e,r)}function Qf(e,r){fc(2048,8,e,r)}function dy(e,r){return fc(4,2,e,r)}function my(e,r){return fc(4,4,e,r)}function py(e,r){if(typeof r=="function"){e=e();var a=r(e);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function gy(e,r,a){a=a!=null?a.concat([e]):null,fc(4,4,py.bind(null,r,e),a)}function Yf(){}function yy(e,r){var a=_e();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Uf(r,l[1])?l[0]:(a.memoizedState=[e,r],e)}function _y(e,r){var a=_e();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Uf(r,l[1]))return l[0];if(l=e(),Ls){ti(!0);try{e()}finally{ti(!1)}}return a.memoizedState=[l,r],l}function Xf(e,r,a){return a===void 0||(Or&1073741824)!==0?e.memoizedState=r:(e.memoizedState=a,e=E_(),Ct.lanes|=e,Br|=e,a)}function vy(e,r,a,l){return _n(a,r)?a:ka.current!==null?(e=Xf(e,a,l),_n(e,r)||(ke=!0),e):(Or&42)===0?(ke=!0,e.memoizedState=a):(e=E_(),Ct.lanes|=e,Br|=e,r)}function Ey(e,r,a,l,h){var d=lt.p;lt.p=d!==0&&8>d?d:8;var v=S.T,T={};S.T=T,Jf(e,!1,r,a);try{var I=h(),P=S.S;if(P!==null&&P(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var W=TA(I,l);hl(e,r,W,bn(e))}else hl(e,r,l,bn(e))}catch(et){hl(e,r,{then:function(){},status:"rejected",reason:et},bn())}finally{lt.p=d,S.T=v}}function RA(){}function Wf(e,r,a,l){if(e.tag!==5)throw Error(s(476));var h=Ty(e).queue;Ey(e,h,r,It,a===null?RA:function(){return by(e),a(l)})}function Ty(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:It,baseState:It,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:It},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:a},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function by(e){var r=Ty(e).next.queue;hl(e,r,{},bn())}function Zf(){return Ye(Ol)}function Ay(){return _e().memoizedState}function Sy(){return _e().memoizedState}function IA(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var a=bn();e=kr(a);var l=Pr(r,e,a);l!==null&&(ln(l,r,a),ml(l,r,a)),r={cache:kf()},e.payload=r;return}r=r.return}}function CA(e,r,a){var l=bn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},dc(e)?Ry(r,a):(a=Cf(e,r,a,l),a!==null&&(ln(a,e,l),Iy(a,r,l)))}function wy(e,r,a){var l=bn();hl(e,r,a,l)}function hl(e,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(dc(e))Ry(r,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,_n(T,v))return Xu(e,r,h,0),Zt===null&&Yu(),!1}catch{}finally{}if(a=Cf(e,r,h,l),a!==null)return ln(a,e,l),Iy(a,r,l),!0}return!1}function Jf(e,r,a,l){if(l={lane:2,revertLane:Hd(),action:l,hasEagerState:!1,eagerState:null,next:null},dc(e)){if(r)throw Error(s(479))}else r=Cf(e,a,l,2),r!==null&&ln(r,e,2)}function dc(e){var r=e.alternate;return e===Ct||r!==null&&r===Ct}function Ry(e,r){Ua=ac=!0;var a=e.pending;a===null?r.next=r:(r.next=a.next,a.next=r),e.pending=r}function Iy(e,r,a){if((a&4194176)!==0){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,_r(e,a)}}var di={readContext:Ye,use:uc,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me};di.useCacheRefresh=me,di.useMemoCache=me,di.useHostTransitionStatus=me,di.useFormState=me,di.useActionState=me,di.useOptimistic=me;var Us={readContext:Ye,use:uc,useCallback:function(e,r){return dn().memoizedState=[e,r===void 0?null:r],e},useContext:Ye,useEffect:fy,useImperativeHandle:function(e,r,a){a=a!=null?a.concat([e]):null,hc(4194308,4,py.bind(null,r,e),a)},useLayoutEffect:function(e,r){return hc(4194308,4,e,r)},useInsertionEffect:function(e,r){hc(4,2,e,r)},useMemo:function(e,r){var a=dn();r=r===void 0?null:r;var l=e();if(Ls){ti(!0);try{e()}finally{ti(!1)}}return a.memoizedState=[l,r],l},useReducer:function(e,r,a){var l=dn();if(a!==void 0){var h=a(r);if(Ls){ti(!0);try{a(r)}finally{ti(!1)}}}else h=r;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=CA.bind(null,Ct,e),[l.memoizedState,e]},useRef:function(e){var r=dn();return e={current:e},r.memoizedState=e},useState:function(e){e=Kf(e);var r=e.queue,a=wy.bind(null,Ct,r);return r.dispatch=a,[e.memoizedState,a]},useDebugValue:Yf,useDeferredValue:function(e,r){var a=dn();return Xf(a,e,r)},useTransition:function(){var e=Kf(!1);return e=Ey.bind(null,Ct,e.queue,!0,!1),dn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,a){var l=Ct,h=dn();if(Ht){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Zt===null)throw Error(s(349));(Ut&60)!==0||Xg(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,fy(Zg.bind(null,l,d,e),[e]),l.flags|=2048,ja(9,Wg.bind(null,l,d,a,r),{destroy:void 0},null),a},useId:function(){var e=dn(),r=Zt.identifierPrefix;if(Ht){var a=Li,l=Pi;a=(l&~(1<<32-rn(l)-1)).toString(32)+a,r=":"+r+"R"+a,a=oc++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=bA++,r=":"+r+"r"+a.toString(32)+":";return e.memoizedState=r},useCacheRefresh:function(){return dn().memoizedState=IA.bind(null,Ct)}};Us.useMemoCache=qf,Us.useHostTransitionStatus=Zf,Us.useFormState=oy,Us.useActionState=oy,Us.useOptimistic=function(e){var r=dn();r.memoizedState=r.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Jf.bind(null,Ct,!0,a),a.dispatch=r,[e,r]};var xr={readContext:Ye,use:uc,useCallback:yy,useContext:Ye,useEffect:Qf,useImperativeHandle:gy,useInsertionEffect:dy,useLayoutEffect:my,useMemo:_y,useReducer:cc,useRef:hy,useState:function(){return cc(zi)},useDebugValue:Yf,useDeferredValue:function(e,r){var a=_e();return vy(a,Yt.memoizedState,e,r)},useTransition:function(){var e=cc(zi)[0],r=_e().memoizedState;return[typeof e=="boolean"?e:cl(e),r]},useSyncExternalStore:Yg,useId:Ay};xr.useCacheRefresh=Sy,xr.useMemoCache=qf,xr.useHostTransitionStatus=Zf,xr.useFormState=ly,xr.useActionState=ly,xr.useOptimistic=function(e,r){var a=_e();return ey(a,Yt,e,r)};var zs={readContext:Ye,use:uc,useCallback:yy,useContext:Ye,useEffect:Qf,useImperativeHandle:gy,useInsertionEffect:dy,useLayoutEffect:my,useMemo:_y,useReducer:Gf,useRef:hy,useState:function(){return Gf(zi)},useDebugValue:Yf,useDeferredValue:function(e,r){var a=_e();return Yt===null?Xf(a,e,r):vy(a,Yt.memoizedState,e,r)},useTransition:function(){var e=Gf(zi)[0],r=_e().memoizedState;return[typeof e=="boolean"?e:cl(e),r]},useSyncExternalStore:Yg,useId:Ay};zs.useCacheRefresh=Sy,zs.useMemoCache=qf,zs.useHostTransitionStatus=Zf,zs.useFormState=cy,zs.useActionState=cy,zs.useOptimistic=function(e,r){var a=_e();return Yt!==null?ey(a,Yt,e,r):(a.baseState=e,[e,a.queue.dispatch])};function td(e,r,a,l){r=e.memoizedState,a=a(l,r),a=a==null?r:C({},r,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var ed={isMounted:function(e){return(e=e._reactInternals)?ft(e)===e:!1},enqueueSetState:function(e,r,a){e=e._reactInternals;var l=bn(),h=kr(l);h.payload=r,a!=null&&(h.callback=a),r=Pr(e,h,l),r!==null&&(ln(r,e,l),ml(r,e,l))},enqueueReplaceState:function(e,r,a){e=e._reactInternals;var l=bn(),h=kr(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Pr(e,h,l),r!==null&&(ln(r,e,l),ml(r,e,l))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var a=bn(),l=kr(a);l.tag=2,r!=null&&(l.callback=r),r=Pr(e,l,a),r!==null&&(ln(r,e,a),ml(r,e,a))}};function Cy(e,r,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!Zo(a,l)||!Zo(h,d):!0}function Dy(e,r,a,l){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==e&&ed.enqueueReplaceState(r,r.state,null)}function js(e,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(e=e.defaultProps){a===r&&(a=C({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var mc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Ny(e){mc(e)}function Oy(e){console.error(e)}function xy(e){mc(e)}function pc(e,r){try{var a=e.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function My(e,r,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function nd(e,r,a){return a=kr(a),a.tag=3,a.payload={element:null},a.callback=function(){pc(e,r)},a}function Vy(e){return e=kr(e),e.tag=3,e}function ky(e,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){My(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){My(r,a,l),typeof h!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function DA(e,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&dl(r,a,h,!0),a=kn.current,a!==null){switch(a.tag){case 13:return fi===null?Ld():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===xf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),zd(e,l,h)),!1;case 22:return a.flags|=65536,l===xf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),zd(e,l,h)),!1}throw Error(s(435,a.tag))}return zd(e,l,h),Ld(),!1}if(Ht)return r=kn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Of&&(e=Error(s(422),{cause:l}),nl(xn(e,a)))):(l!==Of&&(r=Error(s(423),{cause:l}),nl(xn(r,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=xn(l,a),h=nd(e.stateNode,l,h),yd(e,h),ce!==4&&(ce=2)),!1;var d=Error(s(520),{cause:l});if(d=xn(d,a),bl===null?bl=[d]:bl.push(d),ce!==4&&(ce=2),r===null)return!0;l=xn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=nd(a.stateNode,l,e),yd(a,e),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Hr===null||!Hr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Vy(h),ky(h,e,a,l),yd(a,h),!1}a=a.return}while(a!==null);return!1}var Py=Error(s(461)),ke=!1;function Be(e,r,a,l){r.child=e===null?Bg(r,null,a,l):ks(r,e.child,a,l)}function Ly(e,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Hs(r),l=zf(e,r,a,v,d,h),T=jf(),e!==null&&!ke?(Bf(e,r,h),ji(e,r,h)):(Ht&&T&&Df(r),r.flags|=1,Be(e,r,l,h),r.child)}function Uy(e,r,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!wd(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,zy(e,r,d,l,h)):(e=Ec(a.type,null,l,r,r.mode,h),e.ref=r.ref,e.return=r,r.child=e)}if(d=e.child,!hd(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Zo,a(v,l)&&e.ref===r.ref)return ji(e,r,h)}return r.flags|=1,e=jr(d,l),e.ref=r.ref,e.return=r,r.child=e}function zy(e,r,a,l,h){if(e!==null){var d=e.memoizedProps;if(Zo(d,l)&&e.ref===r.ref)if(ke=!1,r.pendingProps=l=d,hd(e,h))(e.flags&131072)!==0&&(ke=!0);else return r.lanes=e.lanes,ji(e,r,h)}return id(e,r,a,l,h)}function jy(e,r,a){var l=r.pendingProps,h=l.children,d=(r.stateNode._pendingVisibility&2)!==0,v=e!==null?e.memoizedState:null;if(fl(e,r),l.mode==="hidden"||d){if((r.flags&128)!==0){if(l=v!==null?v.baseLanes|a:a,e!==null){for(h=r.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return By(e,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&sc(r,v!==null?v.cachePool:null),v!==null?Hg(r,v):Mf(),qg(r);else return r.lanes=r.childLanes=536870912,By(e,r,v!==null?v.baseLanes|a:a,a)}else v!==null?(sc(r,v.cachePool),Hg(r,v),Nr(),r.memoizedState=null):(e!==null&&sc(r,null),Mf(),Nr());return Be(e,r,h,a),r.child}function By(e,r,a,l){var h=Lf();return h=h===null?null:{parent:De._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},e!==null&&sc(r,null),Mf(),qg(r),e!==null&&dl(e,r,l,!0),null}function fl(e,r){var a=r.ref;if(a===null)e!==null&&e.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(r.flags|=2097664)}}function id(e,r,a,l,h){return Hs(r),a=zf(e,r,a,l,void 0,h),l=jf(),e!==null&&!ke?(Bf(e,r,h),ji(e,r,h)):(Ht&&l&&Df(r),r.flags|=1,Be(e,r,a,h),r.child)}function Hy(e,r,a,l,h,d){return Hs(r),r.updateQueue=null,a=Qg(r,l,a,h),$g(e),l=jf(),e!==null&&!ke?(Bf(e,r,d),ji(e,r,d)):(Ht&&l&&Df(r),r.flags|=1,Be(e,r,a,d),r.child)}function qy(e,r,a,l,h){if(Hs(r),r.stateNode===null){var d=Oa,v=a.contextType;typeof v=="object"&&v!==null&&(d=Ye(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ed,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},pd(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?Ye(v):Oa,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(td(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&ed.enqueueReplaceState(d,d.state,null),gl(r,l,d,h),pl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(e===null){d=r.stateNode;var T=r.memoizedProps,I=js(a,T);d.props=I;var P=d.context,W=a.contextType;v=Oa,typeof W=="object"&&W!==null&&(v=Ye(W));var et=a.getDerivedStateFromProps;W=typeof et=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||P!==v)&&Dy(r,d,l,v),Vr=!1;var F=r.memoizedState;d.state=F,gl(r,l,d,h),pl(),P=r.memoizedState,T||F!==P||Vr?(typeof et=="function"&&(td(r,a,et,l),P=r.memoizedState),(I=Vr||Cy(r,a,I,l,F,P,v))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=P),d.props=l,d.state=P,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,gd(e,r),v=r.memoizedProps,W=js(a,v),d.props=W,et=r.pendingProps,F=d.context,P=a.contextType,I=Oa,typeof P=="object"&&P!==null&&(I=Ye(P)),T=a.getDerivedStateFromProps,(P=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==et||F!==I)&&Dy(r,d,l,I),Vr=!1,F=r.memoizedState,d.state=F,gl(r,l,d,h),pl();var X=r.memoizedState;v!==et||F!==X||Vr||e!==null&&e.dependencies!==null&&gc(e.dependencies)?(typeof T=="function"&&(td(r,a,T,l),X=r.memoizedState),(W=Vr||Cy(r,a,W,l,F,X,I)||e!==null&&e.dependencies!==null&&gc(e.dependencies))?(P||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,X,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,X,I)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=X),d.props=l,d.state=X,d.context=I,l=W):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(r.flags|=1024),l=!1)}return d=l,fl(e,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,e!==null&&l?(r.child=ks(r,e.child,null,h),r.child=ks(r,null,a,h)):Be(e,r,a,h),r.memoizedState=d.state,e=r.child):e=ji(e,r,h),e}function Fy(e,r,a,l){return el(),r.flags|=256,Be(e,r,a,l),r.child}var rd={dehydrated:null,treeContext:null,retryLane:0};function sd(e){return{baseLanes:e,cachePool:Kg()}}function ad(e,r,a){return e=e!==null?e.childLanes&~a:0,r&&(e|=zn),e}function Gy(e,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Ce.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,e===null){if(Ht){if(h?Dr(r):Nr(),Ht){var T=je,I;if(I=T){t:{for(I=T,T=hi;I.nodeType!==8;){if(!T){T=null;break t}if(I=Xn(I.nextSibling),I===null){T=null;break t}}T=I}T!==null?(r.memoizedState={dehydrated:T,treeContext:xs!==null?{id:Pi,overflow:Li}:null,retryLane:536870912},I=Un(18,null,null,0),I.stateNode=T,I.return=r,r.child=I,on=r,je=null,I=!0):I=!1}I||Vs(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?r.lanes=16:r.lanes=536870912,null;Ui(r)}return T=l.children,l=l.fallback,h?(Nr(),h=r.mode,T=ld({mode:"hidden",children:T},h),l=Fs(l,h,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,h=r.child,h.memoizedState=sd(a),h.childLanes=ad(e,v,a),r.memoizedState=rd,l):(Dr(r),od(r,T))}if(I=e.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)r.flags&256?(Dr(r),r.flags&=-257,r=ud(e,r,a)):r.memoizedState!==null?(Nr(),r.child=e.child,r.flags|=128,r=null):(Nr(),h=l.fallback,T=r.mode,l=ld({mode:"visible",children:l.children},T),h=Fs(h,T,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,ks(r,e.child,null,a),l=r.child,l.memoizedState=sd(a),l.childLanes=ad(e,v,a),r.memoizedState=rd,r=h);else if(Dr(r),T.data==="$!"){if(v=T.nextSibling&&T.nextSibling.dataset,v)var P=v.dgst;v=P,l=Error(s(419)),l.stack="",l.digest=v,nl({value:l,source:null,stack:null}),r=ud(e,r,a)}else if(ke||dl(e,r,a,!1),v=(a&e.childLanes)!==0,ke||v){if(v=Zt,v!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane)throw I.retryLane=l,Cr(e,l),ln(v,e,l),Py}T.data==="$?"||Ld(),r=ud(e,r,a)}else T.data==="$?"?(r.flags|=128,r.child=e.child,r=FA.bind(null,e),T._reactRetry=r,r=null):(e=I.treeContext,je=Xn(T.nextSibling),on=r,Ht=!0,Qn=null,hi=!1,e!==null&&(Mn[Vn++]=Pi,Mn[Vn++]=Li,Mn[Vn++]=xs,Pi=e.id,Li=e.overflow,xs=r),r=od(r,l.children),r.flags|=4096);return r}return h?(Nr(),h=l.fallback,T=r.mode,I=e.child,P=I.sibling,l=jr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&31457280,P!==null?h=jr(P,h):(h=Fs(h,T,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,T=e.child.memoizedState,T===null?T=sd(a):(I=T.cachePool,I!==null?(P=De._currentValue,I=I.parent!==P?{parent:P,pool:P}:I):I=Kg(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=ad(e,v,a),r.memoizedState=rd,l):(Dr(r),a=e.child,e=a.sibling,a=jr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,e!==null&&(v=r.deletions,v===null?(r.deletions=[e],r.flags|=16):v.push(e)),r.child=a,r.memoizedState=null,a)}function od(e,r){return r=ld({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function ld(e,r){return y_(e,r,0,null)}function ud(e,r,a){return ks(r,e.child,null,a),e=od(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function Ky(e,r,a){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r),dd(e.return,r,a)}function cd(e,r,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function $y(e,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(Be(e,r,l.children,a),l=Ce.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ky(e,a,r);else if(e.tag===19)Ky(e,a,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break t;for(;e.sibling===null;){if(e.return===null||e.return===r)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(Qt(Ce,l),h){case"forwards":for(a=r.child,h=null;a!==null;)e=a.alternate,e!==null&&rc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),cd(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(e=h.alternate,e!==null&&rc(e)===null){r.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}cd(r,!0,a,null,d);break;case"together":cd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ji(e,r,a){if(e!==null&&(r.dependencies=e.dependencies),Br|=r.lanes,(a&r.childLanes)===0)if(e!==null){if(dl(e,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(s(153));if(r.child!==null){for(e=r.child,a=jr(e,e.pendingProps),r.child=a,a.return=r;e.sibling!==null;)e=e.sibling,a=a.sibling=jr(e,e.pendingProps),a.return=r;a.sibling=null}return r.child}function hd(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&gc(e)))}function NA(e,r,a){switch(r.tag){case 3:fr(r,r.stateNode.containerInfo),Mr(r,De,e.memoizedState.cache),el();break;case 27:case 5:Oo(r);break;case 4:fr(r,r.stateNode.containerInfo);break;case 10:Mr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Dr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Gy(e,r,a):(Dr(r),e=ji(e,r,a),e!==null?e.sibling:null);Dr(r);break;case 19:var h=(e.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(dl(e,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return $y(e,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Qt(Ce,Ce.current),l)break;return null;case 22:case 23:return r.lanes=0,jy(e,r,a);case 24:Mr(r,De,e.memoizedState.cache)}return ji(e,r,a)}function Qy(e,r,a){if(e!==null)if(e.memoizedProps!==r.pendingProps)ke=!0;else{if(!hd(e,a)&&(r.flags&128)===0)return ke=!1,NA(e,r,a);ke=(e.flags&131072)!==0}else ke=!1,Ht&&(r.flags&1048576)!==0&&xg(r,Ju,r.index);switch(r.lanes=0,r.tag){case 16:t:{e=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")wd(l)?(e=js(l,e),r.tag=1,r=qy(null,r,l,e,a)):(r.tag=0,r=id(null,r,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===k){r.tag=11,r=Ly(null,r,l,e,a);break t}else if(h===q){r.tag=14,r=Uy(null,r,l,e,a);break t}}throw r=w(l)||l,Error(s(306,r,""))}}return r;case 0:return id(e,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=js(l,r.pendingProps),qy(e,r,l,h,a);case 3:t:{if(fr(r,r.stateNode.containerInfo),e===null)throw Error(s(387));var d=r.pendingProps;h=r.memoizedState,l=h.element,gd(e,r),gl(r,d,null,a);var v=r.memoizedState;if(d=v.cache,Mr(r,De,d),d!==h.cache&&md(r,[De],a,!0),pl(),d=v.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=h,r.memoizedState=h,r.flags&256){r=Fy(e,r,d,a);break t}else if(d!==l){l=xn(Error(s(424)),r),nl(l),r=Fy(e,r,d,a);break t}else for(je=Xn(r.stateNode.containerInfo.firstChild),on=r,Ht=!0,Qn=null,hi=!0,a=Bg(r,null,d,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(el(),d===l){r=ji(e,r,a);break t}Be(e,r,d,a)}r=r.child}return r;case 26:return fl(e,r),e===null?(a=W_(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ht||(a=r.type,e=r.pendingProps,l=xc(Sn.current).createElement(a),l[xe]=r,l[we]=e,He(l,a,e),ie(l),r.stateNode=l):r.memoizedState=W_(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return Oo(r),e===null&&Ht&&(l=r.stateNode=Q_(r.type,r.pendingProps,Sn.current),on=r,hi=!0,je=Xn(l.firstChild)),l=r.pendingProps.children,e!==null||Ht?Be(e,r,l,a):r.child=ks(r,null,l,a),fl(e,r),r.child;case 5:return e===null&&Ht&&((h=l=je)&&(l=aS(l,r.type,r.pendingProps,hi),l!==null?(r.stateNode=l,on=r,je=Xn(l.firstChild),hi=!1,h=!0):h=!1),h||Vs(r)),Oo(r),h=r.type,d=r.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,Wd(h,d)?l=null:v!==null&&Wd(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=zf(e,r,AA,null,null,a),Ol._currentValue=h),fl(e,r),Be(e,r,l,a),r.child;case 6:return e===null&&Ht&&((e=a=je)&&(a=oS(a,r.pendingProps,hi),a!==null?(r.stateNode=a,on=r,je=null,e=!0):e=!1),e||Vs(r)),null;case 13:return Gy(e,r,a);case 4:return fr(r,r.stateNode.containerInfo),l=r.pendingProps,e===null?r.child=ks(r,null,l,a):Be(e,r,l,a),r.child;case 11:return Ly(e,r,r.type,r.pendingProps,a);case 7:return Be(e,r,r.pendingProps,a),r.child;case 8:return Be(e,r,r.pendingProps.children,a),r.child;case 12:return Be(e,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Mr(r,r.type,l.value),Be(e,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Hs(r),h=Ye(h),l=l(h),r.flags|=1,Be(e,r,l,a),r.child;case 14:return Uy(e,r,r.type,r.pendingProps,a);case 15:return zy(e,r,r.type,r.pendingProps,a);case 19:return $y(e,r,a);case 22:return jy(e,r,a);case 24:return Hs(r),l=Ye(De),e===null?(h=Lf(),h===null&&(h=Zt,d=kf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},pd(r),Mr(r,De,h)):((e.lanes&a)!==0&&(gd(e,r),gl(r,null,null,a),pl()),h=e.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Mr(r,De,l)):(l=d.cache,Mr(r,De,l),l!==h.cache&&md(r,[De],a,!0))),Be(e,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var fd=jt(null),Bs=null,Bi=null;function Mr(e,r,a){Qt(fd,r._currentValue),r._currentValue=a}function Hi(e){e._currentValue=fd.current,oe(fd)}function dd(e,r,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),e===a)break;e=e.return}}function md(e,r,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var I=0;I<r.length;I++)if(T.context===r[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),dd(d.return,a,e),l||(v=null);break t}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),dd(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function dl(e,r,a,l){e=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;_n(h.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(h===hr.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Ol):e=[Ol])}h=h.return}e!==null&&md(r,e,a,l),r.flags|=262144}function gc(e){for(e=e.firstContext;e!==null;){if(!_n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Hs(e){Bs=e,Bi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ye(e){return Yy(Bs,e)}function yc(e,r){return Bs===null&&Hs(e),Yy(e,r)}function Yy(e,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Bi===null){if(e===null)throw Error(s(308));Bi=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else Bi=Bi.next=r;return a}var Vr=!1;function pd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gd(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function kr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Pr(e,r,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(se&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Wu(e),Ng(e,null,a),r}return Xu(e,l,r,a),Wu(e)}function ml(e,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,_r(e,a)}}function yd(e,r){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=r:e.next=r,a.lastBaseUpdate=r}var _d=!1;function pl(){if(_d){var e=La;if(e!==null)throw e}}function gl(e,r,a,l){_d=!1;var h=e.updateQueue;Vr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,P=I.next;I.next=null,v===null?d=P:v.next=P,v=I;var W=e.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==v&&(T===null?W.firstBaseUpdate=P:T.next=P,W.lastBaseUpdate=I))}if(d!==null){var et=h.baseState;v=0,W=P=I=null,T=d;do{var F=T.lane&-536870913,X=F!==T.lane;if(X?(Ut&F)===F:(l&F)===F){F!==0&&F===Pa&&(_d=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var dt=e,At=T;F=r;var he=a;switch(At.tag){case 1:if(dt=At.payload,typeof dt=="function"){et=dt.call(he,et,F);break t}et=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=At.payload,F=typeof dt=="function"?dt.call(he,et,F):dt,F==null)break t;et=C({},et,F);break t;case 2:Vr=!0}}F=T.callback,F!==null&&(e.flags|=64,X&&(e.flags|=8192),X=h.callbacks,X===null?h.callbacks=[F]:X.push(F))}else X={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(P=W=X,I=et):W=W.next=X,v|=F;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;X=T,T=X.next,X.next=null,h.lastBaseUpdate=X,h.shared.pending=null}}while(!0);W===null&&(I=et),h.baseState=I,h.firstBaseUpdate=P,h.lastBaseUpdate=W,d===null&&(h.shared.lanes=0),Br|=v,e.lanes=v,e.memoizedState=et}}function Xy(e,r){if(typeof e!="function")throw Error(s(191,e));e.call(r)}function Wy(e,r){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Xy(a[e],r)}function yl(e,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){Wt(r,r.return,T)}}function Lr(e,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=r;var I=a;try{T()}catch(P){Wt(h,I,P)}}}l=l.next}while(l!==d)}}catch(P){Wt(r,r.return,P)}}function Zy(e){var r=e.updateQueue;if(r!==null){var a=e.stateNode;try{Wy(r,a)}catch(l){Wt(e,e.return,l)}}}function Jy(e,r,a){a.props=js(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Wt(e,r,l)}}function qs(e,r){try{var a=e.ref;if(a!==null){var l=e.stateNode;switch(e.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?e.refCleanup=a(h):a.current=h}}catch(d){Wt(e,r,d)}}function vn(e,r){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Wt(e,r,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Wt(e,r,h)}else a.current=null}function t_(e){var r=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Wt(e,e.return,h)}}function e_(e,r,a){try{var l=e.stateNode;eS(l,e.type,a,r),l[we]=r}catch(h){Wt(e,e.return,h)}}function n_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function vd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||n_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ed(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(e,r):a.insertBefore(e,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(e,a)):(r=a,r.appendChild(e)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Oc));else if(l!==4&&l!==27&&(e=e.child,e!==null))for(Ed(e,r,a),e=e.sibling;e!==null;)Ed(e,r,a),e=e.sibling}function _c(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?a.insertBefore(e,r):a.appendChild(e);else if(l!==4&&l!==27&&(e=e.child,e!==null))for(_c(e,r,a),e=e.sibling;e!==null;)_c(e,r,a),e=e.sibling}var qi=!1,ue=!1,Td=!1,i_=typeof WeakSet=="function"?WeakSet:Set,Pe=null,r_=!1;function OA(e,r){if(e=e.containerInfo,Yd=Uc,e=Tg(e),Af(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,T=-1,I=-1,P=0,W=0,et=e,F=null;e:for(;;){for(var X;et!==a||h!==0&&et.nodeType!==3||(T=v+h),et!==d||l!==0&&et.nodeType!==3||(I=v+l),et.nodeType===3&&(v+=et.nodeValue.length),(X=et.firstChild)!==null;)F=et,et=X;for(;;){if(et===e)break e;if(F===a&&++P===h&&(T=v),F===d&&++W===l&&(I=v),(X=et.nextSibling)!==null)break;et=F,F=et.parentNode}et=X}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Xd={focusedElem:e,selectionRange:a},Uc=!1,Pe=r;Pe!==null;)if(r=Pe,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,Pe=e;else for(;Pe!==null;){switch(r=Pe,d=r.alternate,e=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var dt=js(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(dt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(At){Wt(a,a.return,At)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,a=e.nodeType,a===9)tm(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":tm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=r.sibling,e!==null){e.return=r.return,Pe=e;break}Pe=r.return}return dt=r_,r_=!1,dt}function s_(e,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Gi(e,a),l&4&&yl(5,a);break;case 1:if(Gi(e,a),l&4)if(e=a.stateNode,r===null)try{e.componentDidMount()}catch(T){Wt(a,a.return,T)}else{var h=js(a.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(h,r,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Wt(a,a.return,T)}}l&64&&Zy(a),l&512&&qs(a,a.return);break;case 3:if(Gi(e,a),l&64&&(l=a.updateQueue,l!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}try{Wy(l,e)}catch(T){Wt(a,a.return,T)}}break;case 26:Gi(e,a),l&512&&qs(a,a.return);break;case 27:case 5:Gi(e,a),r===null&&l&4&&t_(a),l&512&&qs(a,a.return);break;case 12:Gi(e,a);break;case 13:Gi(e,a),l&4&&l_(e,a);break;case 22:if(h=a.memoizedState!==null||qi,!h){r=r!==null&&r.memoizedState!==null||ue;var d=qi,v=ue;qi=h,(ue=r)&&!v?Ur(e,a,(a.subtreeFlags&8772)!==0):Gi(e,a),qi=d,ue=v}l&512&&(a.memoizedProps.mode==="manual"?qs(a,a.return):vn(a,a.return));break;default:Gi(e,a)}}function a_(e){var r=e.alternate;r!==null&&(e.alternate=null,a_(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&vs(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ve=null,En=!1;function Fi(e,r,a){for(a=a.child;a!==null;)o_(e,r,a),a=a.sibling}function o_(e,r,a){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(dr,a)}catch{}switch(a.tag){case 26:ue||vn(a,r),Fi(e,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ue||vn(a,r);var l=ve,h=En;for(ve=a.stateNode,Fi(e,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);vs(a),ve=l,En=h;break;case 5:ue||vn(a,r);case 6:h=ve;var d=En;if(ve=null,Fi(e,r,a),ve=h,En=d,ve!==null)if(En)try{e=ve,l=a.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)}catch(v){Wt(a,r,v)}else try{ve.removeChild(a.stateNode)}catch(v){Wt(a,r,v)}break;case 18:ve!==null&&(En?(r=ve,a=a.stateNode,r.nodeType===8?Jd(r.parentNode,a):r.nodeType===1&&Jd(r,a),kl(r)):Jd(ve,a.stateNode));break;case 4:l=ve,h=En,ve=a.stateNode.containerInfo,En=!0,Fi(e,r,a),ve=l,En=h;break;case 0:case 11:case 14:case 15:ue||Lr(2,a,r),ue||Lr(4,a,r),Fi(e,r,a);break;case 1:ue||(vn(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Jy(a,r,l)),Fi(e,r,a);break;case 21:Fi(e,r,a);break;case 22:ue||vn(a,r),ue=(l=ue)||a.memoizedState!==null,Fi(e,r,a),ue=l;break;default:Fi(e,r,a)}}function l_(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{kl(e)}catch(a){Wt(r,r.return,a)}}function xA(e){switch(e.tag){case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new i_),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new i_),r;default:throw Error(s(435,e.tag))}}function bd(e,r){var a=xA(e);r.forEach(function(l){var h=GA.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function Pn(e,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=r,T=v;t:for(;T!==null;){switch(T.tag){case 27:case 5:ve=T.stateNode,En=!1;break t;case 3:ve=T.stateNode.containerInfo,En=!0;break t;case 4:ve=T.stateNode.containerInfo,En=!0;break t}T=T.return}if(ve===null)throw Error(s(160));o_(d,v,h),ve=null,En=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)u_(r,e),r=r.sibling}var Yn=null;function u_(e,r){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Pn(r,e),Ln(e),l&4&&(Lr(3,e,e.return),yl(3,e),Lr(5,e,e.return));break;case 1:Pn(r,e),Ln(e),l&512&&(ue||a===null||vn(a,a.return)),l&64&&qi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Yn;if(Pn(r,e),Ln(e),l&512&&(ue||a===null||vn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Er]||d[xe]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),He(d,l,a),d[xe]=e,ie(d),l=d;break t;case"link":var v=tv("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}d=h.createElement(l),He(d,l,a),h.head.appendChild(d);break;case"meta":if(v=tv("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}d=h.createElement(l),He(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[xe]=e,ie(d),l=d}e.stateNode=l}else ev(h,e.type,e.stateNode);else e.stateNode=J_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?ev(h,e.type,e.stateNode):J_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&e_(e,e.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&e.alternate===null){h=e.stateNode,d=e.memoizedProps;try{for(var I=h.firstChild;I;){var P=I.nextSibling,W=I.nodeName;I[Er]||W==="HEAD"||W==="BODY"||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&I.rel.toLowerCase()==="stylesheet"||h.removeChild(I),I=P}for(var et=e.type,F=h.attributes;F.length;)h.removeAttributeNode(F[0]);He(h,et,d),h[xe]=e,h[we]=d}catch(dt){Wt(e,e.return,dt)}}case 5:if(Pn(r,e),Ln(e),l&512&&(ue||a===null||vn(a,a.return)),e.flags&32){h=e.stateNode;try{In(h,"")}catch(dt){Wt(e,e.return,dt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,e_(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Td=!0);break;case 6:if(Pn(r,e),Ln(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(dt){Wt(e,e.return,dt)}}break;case 3:if(kc=null,h=Yn,Yn=Mc(r.containerInfo),Pn(r,e),Yn=h,Ln(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{kl(r.containerInfo)}catch(dt){Wt(e,e.return,dt)}Td&&(Td=!1,c_(e));break;case 4:l=Yn,Yn=Mc(e.stateNode.containerInfo),Pn(r,e),Ln(e),Yn=l;break;case 12:Pn(r,e),Ln(e);break;case 13:Pn(r,e),Ln(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Od=hn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,bd(e,l)));break;case 22:if(l&512&&(ue||a===null||vn(a,a.return)),I=e.memoizedState!==null,P=a!==null&&a.memoizedState!==null,W=qi,et=ue,qi=W||I,ue=et||P,Pn(r,e),ue=et,qi=W,Ln(e),r=e.stateNode,r._current=e,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,l&8192&&(r._visibility=I?r._visibility&-2:r._visibility|1,I&&(r=qi||ue,a===null||P||r||Ba(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(a=null,r=e;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){P=a=r;try{if(h=P.stateNode,I)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=P.stateNode,T=P.memoizedProps.style;var X=T!=null&&T.hasOwnProperty("display")?T.display:null;v.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(dt){Wt(P,P.return,dt)}}}else if(r.tag===6){if(a===null){P=r;try{P.stateNode.nodeValue=I?"":P.memoizedProps}catch(dt){Wt(P,P.return,dt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break t;for(;r.sibling===null;){if(r.return===null||r.return===e)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,bd(e,a))));break;case 19:Pn(r,e),Ln(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,bd(e,l)));break;case 21:break;default:Pn(r,e),Ln(e)}}function Ln(e){var r=e.flags;if(r&2){try{if(e.tag!==27){t:{for(var a=e.return;a!==null;){if(n_(a)){var l=a;break t}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=vd(e);_c(e,d,h);break;case 5:var v=l.stateNode;l.flags&32&&(In(v,""),l.flags&=-33);var T=vd(e);_c(e,T,v);break;case 3:case 4:var I=l.stateNode.containerInfo,P=vd(e);Ed(e,P,I);break;default:throw Error(s(161))}}}catch(W){Wt(e,e.return,W)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function c_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;c_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function Gi(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)s_(e,r.alternate,r),r=r.sibling}function Ba(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:Lr(4,r,r.return),Ba(r);break;case 1:vn(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Jy(r,r.return,a),Ba(r);break;case 26:case 27:case 5:vn(r,r.return),Ba(r);break;case 22:vn(r,r.return),r.memoizedState===null&&Ba(r);break;default:Ba(r)}e=e.sibling}}function Ur(e,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=e,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:Ur(h,d,a),yl(4,d);break;case 1:if(Ur(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Wt(l,l.return,P)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Xy(I[h],T)}catch(P){Wt(l,l.return,P)}}a&&v&64&&Zy(d),qs(d,d.return);break;case 26:case 27:case 5:Ur(h,d,a),a&&l===null&&v&4&&t_(d),qs(d,d.return);break;case 12:Ur(h,d,a);break;case 13:Ur(h,d,a),a&&v&4&&l_(h,d);break;case 22:d.memoizedState===null&&Ur(h,d,a),qs(d,d.return);break;default:Ur(h,d,a)}r=r.sibling}}function Ad(e,r){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ol(a))}function Sd(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&ol(e))}function zr(e,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)h_(e,r,a,l),r=r.sibling}function h_(e,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:zr(e,r,a,l),h&2048&&yl(9,r);break;case 3:zr(e,r,a,l),h&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&ol(e)));break;case 12:if(h&2048){zr(e,r,a,l),e=r.stateNode;try{var d=r.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Wt(r,r.return,I)}}else zr(e,r,a,l);break;case 23:break;case 22:d=r.stateNode,r.memoizedState!==null?d._visibility&4?zr(e,r,a,l):_l(e,r):d._visibility&4?zr(e,r,a,l):(d._visibility|=4,Ha(e,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&Ad(r.alternate,r);break;case 24:zr(e,r,a,l),h&2048&&Sd(r.alternate,r);break;default:zr(e,r,a,l)}}function Ha(e,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=e,v=r,T=a,I=l,P=v.flags;switch(v.tag){case 0:case 11:case 15:Ha(d,v,T,I,h),yl(8,v);break;case 23:break;case 22:var W=v.stateNode;v.memoizedState!==null?W._visibility&4?Ha(d,v,T,I,h):_l(d,v):(W._visibility|=4,Ha(d,v,T,I,h)),h&&P&2048&&Ad(v.alternate,v);break;case 24:Ha(d,v,T,I,h),h&&P&2048&&Sd(v.alternate,v);break;default:Ha(d,v,T,I,h)}r=r.sibling}}function _l(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=e,l=r,h=l.flags;switch(l.tag){case 22:_l(a,l),h&2048&&Ad(l.alternate,l);break;case 24:_l(a,l),h&2048&&Sd(l.alternate,l);break;default:_l(a,l)}r=r.sibling}}var vl=8192;function qa(e){if(e.subtreeFlags&vl)for(e=e.child;e!==null;)f_(e),e=e.sibling}function f_(e){switch(e.tag){case 26:qa(e),e.flags&vl&&e.memoizedState!==null&&ES(Yn,e.memoizedState,e.memoizedProps);break;case 5:qa(e);break;case 3:case 4:var r=Yn;Yn=Mc(e.stateNode.containerInfo),qa(e),Yn=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=vl,vl=16777216,qa(e),vl=r):qa(e));break;default:qa(e)}}function d_(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function El(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Pe=l,p_(l,e)}d_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)m_(e),e=e.sibling}function m_(e){switch(e.tag){case 0:case 11:case 15:El(e),e.flags&2048&&Lr(9,e,e.return);break;case 3:El(e);break;case 12:El(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&4&&(e.return===null||e.return.tag!==13)?(r._visibility&=-5,vc(e)):El(e);break;default:El(e)}}function vc(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Pe=l,p_(l,e)}d_(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:Lr(8,r,r.return),vc(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,vc(r));break;default:vc(r)}e=e.sibling}}function p_(e,r){for(;Pe!==null;){var a=Pe;switch(a.tag){case 0:case 11:case 15:Lr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ol(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pe=l;else t:for(a=e;Pe!==null;){l=Pe;var h=l.sibling,d=l.return;if(a_(l),l===a){Pe=null;break t}if(h!==null){h.return=d,Pe=h;break t}Pe=d}}}function MA(e,r,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(e,r,a,l){return new MA(e,r,a,l)}function wd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jr(e,r){var a=e.alternate;return a===null?(a=Un(e.tag,r,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=r,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&31457280,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,r=e.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function g_(e,r){e.flags&=31457282;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,r=a.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function Ec(e,r,a,l,h,d){var v=0;if(l=e,typeof e=="function")wd(e)&&(v=1);else if(typeof e=="string")v=_S(e,a,nn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case p:return Fs(a.children,h,d,r);case g:v=8,h|=24;break;case E:return e=Un(12,a,r,h|2),e.elementType=E,e.lanes=d,e;case G:return e=Un(13,a,r,h),e.elementType=G,e.lanes=d,e;case L:return e=Un(19,a,r,h),e.elementType=L,e.lanes=d,e;case K:return y_(a,h,d,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case A:case O:v=10;break t;case R:v=9;break t;case k:v=11;break t;case q:v=14;break t;case $:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return r=Un(v,a,r,h),r.elementType=e,r.type=l,r.lanes=d,r}function Fs(e,r,a,l){return e=Un(7,e,l,r),e.lanes=a,e}function y_(e,r,a,l){e=Un(22,e,l,r),e.elementType=K,e.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var v=Cr(d,2);v!==null&&(h._pendingVisibility|=2,ln(v,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var v=Cr(d,2);v!==null&&(h._pendingVisibility&=-3,ln(v,d,2))}}};return e.stateNode=h,e}function Rd(e,r,a){return e=Un(6,e,null,r),e.lanes=a,e}function Id(e,r,a){return r=Un(4,e.children!==null?e.children:[],e.key,r),r.lanes=a,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function Ki(e){e.flags|=4}function __(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!nv(r)){if(r=kn.current,r!==null&&((Ut&4194176)===Ut?fi!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||r!==fi))throw rl=xf,kg;e.flags|=8192}}function Tc(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?gr():536870912,e.lanes|=r,Ga|=r)}function Tl(e,r){if(!Ht)switch(e.tailMode){case"hidden":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function re(e){var r=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(r)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,r}function VA(e,r,a){var l=r.pendingProps;switch(Nf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(r),null;case 1:return re(r),null;case 3:return a=r.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Hi(De),wi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(tl(r)?Ki(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Qn!==null&&(kd(Qn),Qn=null))),re(r),null;case 26:return a=r.memoizedState,e===null?(Ki(r),a!==null?(re(r),__(r,a)):(re(r),r.flags&=-16777217)):a?a!==e.memoizedState?(Ki(r),re(r),__(r,a)):(re(r),r.flags&=-16777217):(e.memoizedProps!==l&&Ki(r),re(r),r.flags&=-16777217),null;case 27:ca(r),a=Sn.current;var h=r.type;if(e!==null&&r.stateNode!=null)e.memoizedProps!==l&&Ki(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return re(r),null}e=nn.current,tl(r)?Mg(r):(e=Q_(h,l,a),r.stateNode=e,Ki(r))}return re(r),null;case 5:if(ca(r),a=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==l&&Ki(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return re(r),null}if(e=nn.current,tl(r))Mg(r);else{switch(h=xc(Sn.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[xe]=r,e[we]=l;t:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break t;for(;h.sibling===null;){if(h.return===null||h.return===r)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=e;t:switch(He(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Ki(r)}}return re(r),r.flags&=-16777217,null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==l&&Ki(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(e=Sn.current,tl(r)){if(e=r.stateNode,a=r.memoizedProps,l=null,h=on,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[xe]=r,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||H_(e.nodeValue,a)),e||Vs(r)}else e=xc(e).createTextNode(l),e[xe]=r,r.stateNode=e}return re(r),null;case 13:if(l=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=tl(r),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[xe]=r}else el(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;re(r),h=!1}else Qn!==null&&(kd(Qn),Qn=null),h=!0;if(!h)return r.flags&256?(Ui(r),r):(Ui(r),null)}if(Ui(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(r.child.flags|=8192),Tc(r,r.updateQueue),re(r),null;case 4:return wi(),e===null&&Kd(r.stateNode.containerInfo),re(r),null;case 10:return Hi(r.type),re(r),null;case 19:if(oe(Ce),h=r.memoizedState,h===null)return re(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)Tl(h,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(d=rc(e),d!==null){for(r.flags|=128,Tl(h,!1),e=d.updateQueue,r.updateQueue=e,Tc(r,e),r.subtreeFlags=0,e=a,a=r.child;a!==null;)g_(a,e),a=a.sibling;return Qt(Ce,Ce.current&1|2),r.child}e=e.sibling}h.tail!==null&&hn()>bc&&(r.flags|=128,l=!0,Tl(h,!1),r.lanes=4194304)}else{if(!l)if(e=rc(d),e!==null){if(r.flags|=128,l=!0,e=e.updateQueue,r.updateQueue=e,Tc(r,e),Tl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Ht)return re(r),null}else 2*hn()-h.renderingStartTime>bc&&a!==536870912&&(r.flags|=128,l=!0,Tl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(e=h.last,e!==null?e.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=hn(),r.sibling=null,e=Ce.current,Qt(Ce,l?e&1|2:e&1),r):(re(r),null);case 22:case 23:return Ui(r),Vf(),l=r.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(re(r),r.subtreeFlags&6&&(r.flags|=8192)):re(r),a=r.updateQueue,a!==null&&Tc(r,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),e!==null&&oe(Ps),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Hi(De),re(r),null;case 25:return null}throw Error(s(156,r.tag))}function kA(e,r){switch(Nf(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return Hi(De),wi(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return ca(r),null;case 13:if(Ui(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(s(340));el()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return oe(Ce),null;case 4:return wi(),null;case 10:return Hi(r.type),null;case 22:case 23:return Ui(r),Vf(),e!==null&&oe(Ps),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return Hi(De),null;case 25:return null;default:return null}}function v_(e,r){switch(Nf(r),r.tag){case 3:Hi(De),wi();break;case 26:case 27:case 5:ca(r);break;case 4:wi();break;case 13:Ui(r);break;case 19:oe(Ce);break;case 10:Hi(r.type);break;case 22:case 23:Ui(r),Vf(),e!==null&&oe(Ps);break;case 24:Hi(De)}}var PA={getCacheForType:function(e){var r=Ye(De),a=r.data.get(e);return a===void 0&&(a=e(),r.data.set(e,a)),a}},LA=typeof WeakMap=="function"?WeakMap:Map,se=0,Zt=null,Nt=null,Ut=0,Jt=0,Tn=null,$i=!1,Fa=!1,Cd=!1,Qi=0,ce=0,Br=0,Gs=0,Dd=0,zn=0,Ga=0,bl=null,mi=null,Nd=!1,Od=0,bc=1/0,Ac=null,Hr=null,Sc=!1,Ks=null,Al=0,xd=0,Md=null,Sl=0,Vd=null;function bn(){if((se&2)!==0&&Ut!==0)return Ut&-Ut;if(S.T!==null){var e=Pa;return e!==0?e:Hd()}return Nu()}function E_(){zn===0&&(zn=(Ut&536870912)===0||Ht?Po():536870912);var e=kn.current;return e!==null&&(e.flags|=32),zn}function ln(e,r,a){(e===Zt&&Jt===2||e.cancelPendingCommit!==null)&&(Ka(e,0),Yi(e,Ut,zn,!1)),de(e,a),((se&2)===0||e!==Zt)&&(e===Zt&&((se&2)===0&&(Gs|=a),ce===4&&Yi(e,Ut,zn,!1)),pi(e))}function T_(e,r,a){if((se&6)!==0)throw Error(s(327));var l=!a&&(r&60)===0&&(r&e.expiredLanes)===0||pr(e,r),h=l?jA(e,r):Ud(e,r,!0),d=l;do{if(h===0){Fa&&!l&&Yi(e,r,0,!1);break}else if(h===6)Yi(e,r,0,!$i);else{if(a=e.current.alternate,d&&!UA(a)){h=Ud(e,r,!1),d=!1;continue}if(h===2){if(d=r,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;t:{var T=e;h=bl;var I=T.current.memoizedState.isDehydrated;if(I&&(Ka(T,v).flags|=256),v=Ud(T,v,!1),v!==2){if(Cd&&!I){T.errorRecoveryDisabledLanes|=d,Gs|=d,h=4;break t}d=mi,mi=h,d!==null&&kd(d)}h=v}if(d=!1,h!==2)continue}}if(h===1){Ka(e,0),Yi(e,r,0,!0);break}t:{switch(l=e,h){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){Yi(l,r,zn,!$i);break t}break;case 2:mi=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=r,(r&62914560)===r&&(d=Od+300-hn(),10<d)){if(Yi(l,r,zn,!$i),wn(l,0)!==0)break t;l.timeoutHandle=G_(b_.bind(null,l,a,mi,Ac,Nd,r,zn,Gs,Ga,$i,2,-0,0),d);break t}b_(l,a,mi,Ac,Nd,r,zn,Gs,Ga,$i,0,-0,0)}}break}while(!0);pi(e)}function kd(e){mi===null?mi=e:mi.push.apply(mi,e)}function b_(e,r,a,l,h,d,v,T,I,P,W,et,F){var X=r.subtreeFlags;if((X&8192||(X&16785408)===16785408)&&(Nl={stylesheets:null,count:0,unsuspend:vS},f_(r),r=TS(),r!==null)){e.cancelPendingCommit=r(D_.bind(null,e,a,l,h,v,T,I,1,et,F)),Yi(e,d,v,!P);return}D_(e,a,l,h,v,T,I,W,et,F)}function UA(e){for(var r=e;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!_n(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Yi(e,r,a,l){r&=~Dd,r&=~Gs,e.suspendedLanes|=r,e.pingedLanes&=~r,l&&(e.warmLanes|=r),l=e.expirationTimes;for(var h=r;0<h;){var d=31-rn(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&yr(e,a,r)}function wc(){return(se&6)===0?(wl(0),!1):!0}function Pd(){if(Nt!==null){if(Jt===0)var e=Nt.return;else e=Nt,Bi=Bs=null,Hf(e),Va=null,sl=0,e=Nt;for(;e!==null;)v_(e.alternate,e),e=e.return;Nt=null}}function Ka(e,r){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,iS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Pd(),Zt=e,Nt=a=jr(e.current,null),Ut=r,Jt=0,Tn=null,$i=!1,Fa=pr(e,r),Cd=!1,Ga=zn=Dd=Gs=Br=ce=0,mi=bl=null,Nd=!1,(r&8)!==0&&(r|=r&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=r;0<l;){var h=31-rn(l),d=1<<h;r|=e[h],l&=~d}return Qi=r,Yu(),a}function A_(e,r){Ct=null,S.H=di,r===il?(r=Ug(),Jt=3):r===kg?(r=Ug(),Jt=4):Jt=r===Py?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Tn=r,Nt===null&&(ce=1,pc(e,xn(r,e.current)))}function S_(){var e=S.H;return S.H=di,e===null?di:e}function w_(){var e=S.A;return S.A=PA,e}function Ld(){ce=4,$i||(Ut&4194176)!==Ut&&kn.current!==null||(Fa=!0),(Br&134217727)===0&&(Gs&134217727)===0||Zt===null||Yi(Zt,Ut,zn,!1)}function Ud(e,r,a){var l=se;se|=2;var h=S_(),d=w_();(Zt!==e||Ut!==r)&&(Ac=null,Ka(e,r)),r=!1;var v=ce;t:do try{if(Jt!==0&&Nt!==null){var T=Nt,I=Tn;switch(Jt){case 8:Pd(),v=6;break t;case 3:case 2:case 6:kn.current===null&&(r=!0);var P=Jt;if(Jt=0,Tn=null,$a(e,T,I,P),a&&Fa){v=0;break t}break;default:P=Jt,Jt=0,Tn=null,$a(e,T,I,P)}}zA(),v=ce;break}catch(W){A_(e,W)}while(!0);return r&&e.shellSuspendCounter++,Bi=Bs=null,se=l,S.H=h,S.A=d,Nt===null&&(Zt=null,Ut=0,Yu()),v}function zA(){for(;Nt!==null;)R_(Nt)}function jA(e,r){var a=se;se|=2;var l=S_(),h=w_();Zt!==e||Ut!==r?(Ac=null,bc=hn()+500,Ka(e,r)):Fa=pr(e,r);t:do try{if(Jt!==0&&Nt!==null){r=Nt;var d=Tn;e:switch(Jt){case 1:Jt=0,Tn=null,$a(e,r,d,1);break;case 2:if(Pg(d)){Jt=0,Tn=null,I_(r);break}r=function(){Jt===2&&Zt===e&&(Jt=7),pi(e)},d.then(r,r);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:Pg(d)?(Jt=0,Tn=null,I_(r)):(Jt=0,Tn=null,$a(e,r,d,7));break;case 5:var v=null;switch(Nt.tag){case 26:v=Nt.memoizedState;case 5:case 27:var T=Nt;if(!v||nv(v)){Jt=0,Tn=null;var I=T.sibling;if(I!==null)Nt=I;else{var P=T.return;P!==null?(Nt=P,Rc(P)):Nt=null}break e}}Jt=0,Tn=null,$a(e,r,d,5);break;case 6:Jt=0,Tn=null,$a(e,r,d,6);break;case 8:Pd(),ce=6;break t;default:throw Error(s(462))}}BA();break}catch(W){A_(e,W)}while(!0);return Bi=Bs=null,S.H=l,S.A=h,se=a,Nt!==null?0:(Zt=null,Ut=0,Yu(),ce)}function BA(){for(;Nt!==null&&!ff();)R_(Nt)}function R_(e){var r=Qy(e.alternate,e,Qi);e.memoizedProps=e.pendingProps,r===null?Rc(e):Nt=r}function I_(e){var r=e,a=r.alternate;switch(r.tag){case 15:case 0:r=Hy(a,r,r.pendingProps,r.type,void 0,Ut);break;case 11:r=Hy(a,r,r.pendingProps,r.type.render,r.ref,Ut);break;case 5:Hf(r);default:v_(a,r),r=Nt=g_(r,Qi),r=Qy(a,r,Qi)}e.memoizedProps=e.pendingProps,r===null?Rc(e):Nt=r}function $a(e,r,a,l){Bi=Bs=null,Hf(r),Va=null,sl=0;var h=r.return;try{if(DA(e,h,r,a,Ut)){ce=1,pc(e,xn(a,e.current)),Nt=null;return}}catch(d){if(h!==null)throw Nt=h,d;ce=1,pc(e,xn(a,e.current)),Nt=null;return}r.flags&32768?(Ht||l===1?e=!0:Fa||(Ut&536870912)!==0?e=!1:($i=e=!0,(l===2||l===3||l===6)&&(l=kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),C_(r,e)):Rc(r)}function Rc(e){var r=e;do{if((r.flags&32768)!==0){C_(r,$i);return}e=r.return;var a=VA(r.alternate,r,Qi);if(a!==null){Nt=a;return}if(r=r.sibling,r!==null){Nt=r;return}Nt=r=e}while(r!==null);ce===0&&(ce=5)}function C_(e,r){do{var a=kA(e.alternate,e);if(a!==null){a.flags&=32767,Nt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=a}while(e!==null);ce=6,Nt=null}function D_(e,r,a,l,h,d,v,T,I,P){var W=S.T,et=lt.p;try{lt.p=2,S.T=null,HA(e,r,a,l,et,h,d,v,T,I,P)}finally{S.T=W,lt.p=et}}function HA(e,r,a,l,h,d,v,T){do Qa();while(Ks!==null);if((se&6)!==0)throw Error(s(327));var I=e.finishedWork;if(l=e.finishedLanes,I===null)return null;if(e.finishedWork=null,e.finishedLanes=0,I===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var P=I.lanes|I.childLanes;if(P|=If,Cu(e,l,P,d,v,T),e===Zt&&(Nt=Zt=null,Ut=0),(I.subtreeFlags&10256)===0&&(I.flags&10256)===0||Sc||(Sc=!0,xd=P,Md=a,KA(Ri,function(){return Qa(),null})),a=(I.flags&15990)!==0,(I.subtreeFlags&15990)!==0||a?(a=S.T,S.T=null,d=lt.p,lt.p=2,v=se,se|=4,OA(e,I),u_(I,e),fA(Xd,e.containerInfo),Uc=!!Yd,Xd=Yd=null,e.current=I,s_(e,I.alternate,I),xo(),se=v,lt.p=d,S.T=a):e.current=I,Sc?(Sc=!1,Ks=e,Al=l):N_(e,P),P=e.pendingLanes,P===0&&(Hr=null),Vo(I.stateNode),pi(e),r!==null)for(h=e.onRecoverableError,I=0;I<r.length;I++)P=r[I],h(P.value,{componentStack:P.stack});return(Al&3)!==0&&Qa(),P=e.pendingLanes,(l&4194218)!==0&&(P&42)!==0?e===Vd?Sl++:(Sl=0,Vd=e):Sl=0,wl(0),null}function N_(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,ol(r)))}function Qa(){if(Ks!==null){var e=Ks,r=xd;xd=0;var a=Du(Al),l=S.T,h=lt.p;try{if(lt.p=32>a?32:a,S.T=null,Ks===null)var d=!1;else{a=Md,Md=null;var v=Ks,T=Al;if(Ks=null,Al=0,(se&6)!==0)throw Error(s(331));var I=se;if(se|=4,m_(v.current),h_(v,v.current,T,a),se=I,wl(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(dr,v)}catch{}d=!0}return d}finally{lt.p=h,S.T=l,N_(e,r)}}return!1}function O_(e,r,a){r=xn(a,r),r=nd(e.stateNode,r,2),e=Pr(e,r,2),e!==null&&(de(e,2),pi(e))}function Wt(e,r,a){if(e.tag===3)O_(e,e,a);else for(;r!==null;){if(r.tag===3){O_(r,e,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Hr===null||!Hr.has(l))){e=xn(a,e),a=Vy(2),l=Pr(r,a,2),l!==null&&(ky(a,l,r,e),de(l,2),pi(l));break}}r=r.return}}function zd(e,r,a){var l=e.pingCache;if(l===null){l=e.pingCache=new LA;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Cd=!0,h.add(a),e=qA.bind(null,e,r,a),r.then(e,e))}function qA(e,r,a){var l=e.pingCache;l!==null&&l.delete(r),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Zt===e&&(Ut&a)===a&&(ce===4||ce===3&&(Ut&62914560)===Ut&&300>hn()-Od?(se&2)===0&&Ka(e,0):Dd|=a,Ga===Ut&&(Ga=0)),pi(e)}function x_(e,r){r===0&&(r=gr()),e=Cr(e,r),e!==null&&(de(e,r),pi(e))}function FA(e){var r=e.memoizedState,a=0;r!==null&&(a=r.retryLane),x_(e,a)}function GA(e,r){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),x_(e,a)}function KA(e,r){return gs(e,r)}var Ic=null,Ya=null,jd=!1,Cc=!1,Bd=!1,$s=0;function pi(e){e!==Ya&&e.next===null&&(Ya===null?Ic=Ya=e:Ya=Ya.next=e),Cc=!0,jd||(jd=!0,QA($A))}function wl(e,r){if(!Bd&&Cc){Bd=!0;do for(var a=!1,l=Ic;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-rn(42|e)+1)-1,d&=h&~(v&~T),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,k_(l,d))}else d=Ut,d=wn(l,l===Zt?d:0),(d&3)===0||pr(l,d)||(a=!0,k_(l,d));l=l.next}while(a);Bd=!1}}function $A(){Cc=jd=!1;var e=0;$s!==0&&(nS()&&(e=$s),$s=0);for(var r=hn(),a=null,l=Ic;l!==null;){var h=l.next,d=M_(l,r);d===0?(l.next=null,a===null?Ic=h:a.next=h,h===null&&(Ya=a)):(a=l,(e!==0||(d&3)!==0)&&(Cc=!0)),l=h}wl(e)}function M_(e,r){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-rn(d),T=1<<v,I=h[v];I===-1?((T&a)===0||(T&l)!==0)&&(h[v]=da(T,r)):I<=r&&(e.expiredLanes|=T),d&=~T}if(r=Zt,a=Ut,a=wn(e,e===r?a:0),l=e.callbackNode,a===0||e===r&&Jt===2||e.cancelPendingCommit!==null)return l!==null&&l!==null&&fa(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||pr(e,a)){if(r=a&-a,r===e.callbackPriority)return r;switch(l!==null&&fa(l),Du(a)){case 2:case 8:a=Oe;break;case 32:a=Ri;break;case 268435456:a=Mo;break;default:a=Ri}return l=V_.bind(null,e),a=gs(a,l),e.callbackPriority=r,e.callbackNode=a,r}return l!==null&&l!==null&&fa(l),e.callbackPriority=2,e.callbackNode=null,2}function V_(e,r){var a=e.callbackNode;if(Qa()&&e.callbackNode!==a)return null;var l=Ut;return l=wn(e,e===Zt?l:0),l===0?null:(T_(e,l,r),M_(e,hn()),e.callbackNode!=null&&e.callbackNode===a?V_.bind(null,e):null)}function k_(e,r){if(Qa())return null;T_(e,r,!0)}function QA(e){rS(function(){(se&6)!==0?gs(Se,e):e()})}function Hd(){return $s===0&&($s=Po()),$s}function P_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ri(""+e)}function L_(e,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,e.id&&a.setAttribute("form",e.id),r.parentNode.insertBefore(a,r),e=new FormData(e),a.parentNode.removeChild(a),e}function YA(e,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=P_((h[we]||null).action),v=l.submitter;v&&(r=(r=v[we]||null)?P_(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var T=new Ea("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($s!==0){var I=v?L_(h,v):new FormData(h);Wf(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=v?L_(h,v):new FormData(h),Wf(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var qd=0;qd<Dg.length;qd++){var Fd=Dg[qd],XA=Fd.toLowerCase(),WA=Fd[0].toUpperCase()+Fd.slice(1);$n(XA,"on"+WA)}$n(Sg,"onAnimationEnd"),$n(wg,"onAnimationIteration"),$n(Rg,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(mA,"onTransitionRun"),$n(pA,"onTransitionStart"),$n(gA,"onTransitionCancel"),$n(Ig,"onTransitionEnd"),fn("onMouseEnter",["mouseout","mouseover"]),fn("onMouseLeave",["mouseout","mouseover"]),fn("onPointerEnter",["pointerout","pointerover"]),fn("onPointerLeave",["pointerout","pointerover"]),gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function U_(e,r){r=(r&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var T=l[v],I=T.instance,P=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=P;try{d(h)}catch(W){mc(W)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(T=l[v],I=T.instance,P=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=P;try{d(h)}catch(W){mc(W)}h.currentTarget=null,d=I}}}}function Mt(e,r){var a=r[_s];a===void 0&&(a=r[_s]=new Set);var l=e+"__bubble";a.has(l)||(z_(r,e,2,!1),a.add(l))}function Gd(e,r,a){var l=0;r&&(l|=4),z_(a,e,l,r)}var Dc="_reactListening"+Math.random().toString(36).slice(2);function Kd(e){if(!e[Dc]){e[Dc]=!0,Uo.forEach(function(a){a!=="selectionchange"&&(ZA.has(a)||Gd(a,!1,e),Gd(a,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Dc]||(r[Dc]=!0,Gd("selectionchange",!1,r))}}function z_(e,r,a,l){switch(lv(r)){case 2:var h=SS;break;case 8:h=wS;break;default:h=sm}a=h.bind(null,r,a,e),h=void 0,!Dn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(r,a,{capture:!0,passive:h}):e.addEventListener(r,a,!0):h!==void 0?e.addEventListener(r,a,{passive:h}):e.addEventListener(r,a,!1)}function $d(e,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&(I=v.stateNode.containerInfo,I===h||I.nodeType===8&&I.parentNode===h))return;v=v.return}for(;T!==null;){if(v=Kn(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue t}T=T.parentNode}}l=l.return}Vu(function(){var P=d,W=va(a),et=[];t:{var F=Cg.get(e);if(F!==void 0){var X=Ea,dt=e;switch(e){case"keypress":if(ai(a)===0)break t;case"keydown":case"keyup":X=Ra;break;case"focusin":dt="focus",X=Aa;break;case"focusout":dt="blur",X=Aa;break;case"beforeblur":case"afterblur":X=Aa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=vf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Hu;break;case Sg:case wg:case Rg:X=Sa;break;case Ig:X=Fu;break;case"scroll":case"scrollend":X=ku;break;case"wheel":X=Ia;break;case"copy":case"cut":case"paste":X=wa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Xo;break;case"toggle":case"beforetoggle":X=Ku}var At=(r&4)!==0,he=!At&&(e==="scroll"||e==="scrollend"),z=At?F!==null?F+"Capture":null:F;At=[];for(var V=P,H;V!==null;){var Z=V;if(H=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||H===null||z===null||(Z=As(V,z),Z!=null&&At.push(Il(V,Z,H))),he)break;V=V.return}0<At.length&&(F=new X(F,dt,null,a,W),et.push({event:F,listeners:At}))}}if((r&7)===0){t:{if(F=e==="mouseover"||e==="pointerover",X=e==="mouseout"||e==="pointerout",F&&a!==Cn&&(dt=a.relatedTarget||a.fromElement)&&(Kn(dt)||dt[Ii]))break t;if((X||F)&&(F=W.window===W?W:(F=W.ownerDocument)?F.defaultView||F.parentWindow:window,X?(dt=a.relatedTarget||a.toElement,X=P,dt=dt?Kn(dt):null,dt!==null&&(he=ft(dt),At=dt.tag,dt!==he||At!==5&&At!==27&&At!==6)&&(dt=null)):(X=null,dt=P),X!==dt)){if(At=Nn,Z="onMouseLeave",z="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(At=Xo,Z="onPointerLeave",z="onPointerEnter",V="pointer"),he=X==null?F:Tr(X),H=dt==null?F:Tr(dt),F=new At(Z,V+"leave",X,a,W),F.target=he,F.relatedTarget=H,Z=null,Kn(W)===P&&(At=new At(z,V+"enter",dt,a,W),At.target=H,At.relatedTarget=he,Z=At),he=Z,X&&dt)e:{for(At=X,z=dt,V=0,H=At;H;H=Xa(H))V++;for(H=0,Z=z;Z;Z=Xa(Z))H++;for(;0<V-H;)At=Xa(At),V--;for(;0<H-V;)z=Xa(z),H--;for(;V--;){if(At===z||z!==null&&At===z.alternate)break e;At=Xa(At),z=Xa(z)}At=null}else At=null;X!==null&&j_(et,F,X,At,!1),dt!==null&&he!==null&&j_(et,he,dt,At,!0)}}t:{if(F=P?Tr(P):window,X=F.nodeName&&F.nodeName.toLowerCase(),X==="select"||X==="input"&&F.type==="file")var ht=dg;else if(Ie(F))if(mg)ht=cA;else{ht=lA;var Dt=oA}else X=F.nodeName,!X||X.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?P&&qo(P.elementType)&&(ht=dg):ht=uA;if(ht&&(ht=ht(e,P))){ki(et,ht,a,W);break t}Dt&&Dt(e,F,P),e==="focusout"&&P&&F.type==="number"&&P.memoizedProps.value!=null&&_a(F,"number",F.value)}switch(Dt=P?Tr(P):window,e){case"focusin":(Ie(Dt)||Dt.contentEditable==="true")&&(Ca=Dt,Sf=P,Jo=null);break;case"focusout":Jo=Sf=Ca=null;break;case"mousedown":wf=!0;break;case"contextmenu":case"mouseup":case"dragend":wf=!1,bg(et,a,W);break;case"selectionchange":if(dA)break;case"keydown":case"keyup":bg(et,a,W)}var gt;if(ui)t:{switch(e){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else Pt?Q(e,a)&&(vt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(vt="onCompositionStart");vt&&(_&&a.locale!=="ko"&&(Pt||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&Pt&&(gt=Go()):(si=W,Ir="value"in si?si.value:si.textContent,Pt=!0)),Dt=Nc(P,vt),0<Dt.length&&(vt=new Qo(vt,e,null,a,W),et.push({event:vt,listeners:Dt}),gt?vt.data=gt:(gt=rt(a),gt!==null&&(vt.data=gt)))),(gt=y?Re(e,a):Lt(e,a))&&(vt=Nc(P,"onBeforeInput"),0<vt.length&&(Dt=new Qo("onBeforeInput","beforeinput",null,a,W),et.push({event:Dt,listeners:vt}),Dt.data=gt)),YA(et,e,P,a,W)}U_(et,r)})}function Il(e,r,a){return{instance:e,listener:r,currentTarget:a}}function Nc(e,r){for(var a=r+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=As(e,a),h!=null&&l.unshift(Il(e,h,d)),h=As(e,r),h!=null&&l.push(Il(e,h,d))),e=e.return}return l}function Xa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function j_(e,r,a,l,h){for(var d=r._reactName,v=[];a!==null&&a!==l;){var T=a,I=T.alternate,P=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||P===null||(I=P,h?(P=As(a,d),P!=null&&v.unshift(Il(a,P,I))):h||(P=As(a,d),P!=null&&v.push(Il(a,P,I)))),a=a.return}v.length!==0&&e.push({event:r,listeners:v})}var JA=/\r\n?/g,tS=/\u0000|\uFFFD/g;function B_(e){return(typeof e=="string"?e:""+e).replace(JA,`
`).replace(tS,"")}function H_(e,r){return r=B_(r),B_(e)===r}function Oc(){}function Xt(e,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||In(e,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&In(e,""+l);break;case"className":Sr(e,"class",l);break;case"tabIndex":Sr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Sr(e,a,l);break;case"style":Mu(e,l,d);break;case"data":if(r!=="object"){Sr(e,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ri(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Xt(e,r,"name",h.name,h,null),Xt(e,r,"formEncType",h.formEncType,h,null),Xt(e,r,"formMethod",h.formMethod,h,null),Xt(e,r,"formTarget",h.formTarget,h,null)):(Xt(e,r,"encType",h.encType,h,null),Xt(e,r,"method",h.method,h,null),Xt(e,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ri(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Oc);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=ri(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),Ar(e,"popover",l);break;case"xlinkActuate":Rn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Rn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Rn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Rn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Rn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Rn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Rn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Rn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Rn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ar(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=yf.get(a)||a,Ar(e,a,l))}}function Qd(e,r,a,l,h,d){switch(a){case"style":Mu(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?In(e,l):(typeof l=="number"||typeof l=="bigint")&&In(e,""+l);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Oc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ga.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=e[we]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(r,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Ar(e,a,l)}}}function He(e,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Xt(e,r,d,v,a,null)}}h&&Xt(e,r,"srcSet",a.srcSet,a,null),l&&Xt(e,r,"src",a.src,a,null);return;case"input":Mt("invalid",e);var T=d=v=h=null,I=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":h=W;break;case"type":v=W;break;case"checked":I=W;break;case"defaultChecked":P=W;break;case"value":d=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:Xt(e,r,l,W,a,null)}}Ts(e,d,T,I,P,v,h,!1),Es(e);return;case"select":Mt("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Xt(e,r,h,T,a,null)}r=d,a=v,e.multiple=!!l,r!=null?Bt(e,!!l,r,!1):a!=null&&Bt(e,!!l,a,!0);return;case"textarea":Mt("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Xt(e,r,v,T,a,null)}Rr(e,l,h,d),Es(e);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(e,r,I,l,a,null)}return;case"dialog":Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(l=0;l<Rl.length;l++)Mt(Rl[l],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Xt(e,r,P,l,a,null)}return;default:if(qo(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Qd(e,r,W,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Xt(e,r,T,l,a,null))}function eS(e,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,I=null,P=null,W=null;for(X in a){var et=a[X];if(a.hasOwnProperty(X)&&et!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":I=et;default:l.hasOwnProperty(X)||Xt(e,r,X,null,l,et)}}for(var F in l){var X=l[F];if(et=a[F],l.hasOwnProperty(F)&&(X!=null||et!=null))switch(F){case"type":d=X;break;case"name":h=X;break;case"checked":P=X;break;case"defaultChecked":W=X;break;case"value":v=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==et&&Xt(e,r,F,X,l,et)}}wr(e,v,T,I,P,W,d,h);return;case"select":X=v=T=F=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":X=I;default:l.hasOwnProperty(d)||Xt(e,r,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":F=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==I&&Xt(e,r,h,d,l,I)}r=T,a=v,l=X,F!=null?Bt(e,!!a,F,!1):!!l!=!!a&&(r!=null?Bt(e,!!a,r,!0):Bt(e,!!a,a?[]:"",!1));return;case"textarea":X=F=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Xt(e,r,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":F=h;break;case"defaultValue":X=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Xt(e,r,v,h,l,d)}bs(e,F,X);return;case"option":for(var dt in a)if(F=a[dt],a.hasOwnProperty(dt)&&F!=null&&!l.hasOwnProperty(dt))switch(dt){case"selected":e.selected=!1;break;default:Xt(e,r,dt,null,l,F)}for(I in l)if(F=l[I],X=a[I],l.hasOwnProperty(I)&&F!==X&&(F!=null||X!=null))switch(I){case"selected":e.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Xt(e,r,I,F,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in a)F=a[At],a.hasOwnProperty(At)&&F!=null&&!l.hasOwnProperty(At)&&Xt(e,r,At,null,l,F);for(P in l)if(F=l[P],X=a[P],l.hasOwnProperty(P)&&F!==X&&(F!=null||X!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:Xt(e,r,P,F,l,X)}return;default:if(qo(r)){for(var he in a)F=a[he],a.hasOwnProperty(he)&&F!==void 0&&!l.hasOwnProperty(he)&&Qd(e,r,he,void 0,l,F);for(W in l)F=l[W],X=a[W],!l.hasOwnProperty(W)||F===X||F===void 0&&X===void 0||Qd(e,r,W,F,l,X);return}}for(var z in a)F=a[z],a.hasOwnProperty(z)&&F!=null&&!l.hasOwnProperty(z)&&Xt(e,r,z,null,l,F);for(et in l)F=l[et],X=a[et],!l.hasOwnProperty(et)||F===X||F==null&&X==null||Xt(e,r,et,F,l,X)}var Yd=null,Xd=null;function xc(e){return e.nodeType===9?e:e.ownerDocument}function q_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function F_(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function Wd(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Zd=null;function nS(){var e=window.event;return e&&e.type==="popstate"?e===Zd?!1:(Zd=e,!0):(Zd=null,!1)}var G_=typeof setTimeout=="function"?setTimeout:void 0,iS=typeof clearTimeout=="function"?clearTimeout:void 0,K_=typeof Promise=="function"?Promise:void 0,rS=typeof queueMicrotask=="function"?queueMicrotask:typeof K_<"u"?function(e){return K_.resolve(null).then(e).catch(sS)}:G_;function sS(e){setTimeout(function(){throw e})}function Jd(e,r){var a=r,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){e.removeChild(h),kl(r);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);kl(r)}function tm(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":tm(a),vs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function aS(e,r,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Er])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Xn(e.nextSibling),e===null)break}return null}function oS(e,r,a){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Xn(e.nextSibling),e===null))return null;return e}function Xn(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return e}function $_(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return e;r--}else a==="/$"&&r++}e=e.previousSibling}return null}function Q_(e,r,a){switch(r=xc(a),e){case"html":if(e=r.documentElement,!e)throw Error(s(452));return e;case"head":if(e=r.head,!e)throw Error(s(453));return e;case"body":if(e=r.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}var jn=new Map,Y_=new Set;function Mc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var Xi=lt.d;lt.d={f:lS,r:uS,D:cS,C:hS,L:fS,m:dS,X:pS,S:mS,M:gS};function lS(){var e=Xi.f(),r=wc();return e||r}function uS(e){var r=Ci(e);r!==null&&r.tag===5&&r.type==="form"?by(r):Xi.r(e)}var Wa=typeof document>"u"?null:document;function X_(e,r,a){var l=Wa;if(l&&typeof r=="string"&&r){var h=le(r);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Y_.has(h)||(Y_.add(h),e={rel:e,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),He(r,"link",e),ie(r),l.head.appendChild(r)))}}function cS(e){Xi.D(e),X_("dns-prefetch",e,null)}function hS(e,r){Xi.C(e,r),X_("preconnect",e,r)}function fS(e,r,a){Xi.L(e,r,a);var l=Wa;if(l&&e&&r){var h='link[rel="preload"][as="'+le(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+le(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+le(a.imageSizes)+'"]')):h+='[href="'+le(e)+'"]';var d=h;switch(r){case"style":d=Za(e);break;case"script":d=Ja(e)}jn.has(d)||(e=C({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:e,as:r},a),jn.set(d,e),l.querySelector(h)!==null||r==="style"&&l.querySelector(Cl(d))||r==="script"&&l.querySelector(Dl(d))||(r=l.createElement("link"),He(r,"link",e),ie(r),l.head.appendChild(r)))}}function dS(e,r){Xi.m(e,r);var a=Wa;if(a&&e){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+le(l)+'"][href="'+le(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ja(e)}if(!jn.has(d)&&(e=C({rel:"modulepreload",href:e},r),jn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Dl(d)))return}l=a.createElement("link"),He(l,"link",e),ie(l),a.head.appendChild(l)}}}function mS(e,r,a){Xi.S(e,r,a);var l=Wa;if(l&&e){var h=br(l).hoistableStyles,d=Za(e);r=r||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Cl(d)))T.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":r},a),(a=jn.get(d))&&em(e,a);var I=v=l.createElement("link");ie(I),He(I,"link",e),I._p=new Promise(function(P,W){I.onload=P,I.onerror=W}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Vc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function pS(e,r){Xi.X(e,r);var a=Wa;if(a&&e){var l=br(a).hoistableScripts,h=Ja(e),d=l.get(h);d||(d=a.querySelector(Dl(h)),d||(e=C({src:e,async:!0},r),(r=jn.get(h))&&nm(e,r),d=a.createElement("script"),ie(d),He(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function gS(e,r){Xi.M(e,r);var a=Wa;if(a&&e){var l=br(a).hoistableScripts,h=Ja(e),d=l.get(h);d||(d=a.querySelector(Dl(h)),d||(e=C({src:e,async:!0,type:"module"},r),(r=jn.get(h))&&nm(e,r),d=a.createElement("script"),ie(d),He(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function W_(e,r,a,l){var h=(h=Sn.current)?Mc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Za(a.href),a=br(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Za(a.href);var d=br(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(Cl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),jn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(e,a),d||yS(h,e,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ja(a),a=br(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Za(e){return'href="'+le(e)+'"'}function Cl(e){return'link[rel="stylesheet"]['+e+"]"}function Z_(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function yS(e,r,a,l){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=e.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),He(r,"link",a),ie(r),e.head.appendChild(r))}function Ja(e){return'[src="'+le(e)+'"]'}function Dl(e){return"script[async]"+e}function J_(e,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=e.querySelector('style[data-href~="'+le(a.href)+'"]');if(l)return r.instance=l,ie(l),l;var h=C({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ie(l),He(l,"style",h),Vc(l,a.precedence,e),r.instance=l;case"stylesheet":h=Za(a.href);var d=e.querySelector(Cl(h));if(d)return r.state.loading|=4,r.instance=d,ie(d),d;l=Z_(a),(h=jn.get(h))&&em(l,h),d=(e.ownerDocument||e).createElement("link"),ie(d);var v=d;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),He(d,"link",l),r.state.loading|=4,Vc(d,a.precedence,e),r.instance=d;case"script":return d=Ja(a.src),(h=e.querySelector(Dl(d)))?(r.instance=h,ie(h),h):(l=a,(h=jn.get(d))&&(l=C({},a),nm(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),ie(h),He(h,"link",l),e.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Vc(l,a.precedence,e));return r.instance}function Vc(e,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===r)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(e,r.firstChild))}function em(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function nm(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var kc=null;function tv(e,r,a){if(kc===null){var l=new Map,h=kc=new Map;h.set(a,l)}else h=kc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[Er]||d[xe]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=e+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function ev(e,r,a){e=e.ownerDocument||e,e.head.insertBefore(a,r==="title"?e.querySelector("head > title"):null)}function _S(e,r,a){if(a===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return e=r.disabled,typeof r.precedence=="string"&&e==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function nv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Nl=null;function vS(){}function ES(e,r,a){if(Nl===null)throw Error(s(475));var l=Nl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Za(a.href),d=e.querySelector(Cl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Pc.bind(l),e.then(l,l)),r.state.loading|=4,r.instance=d,ie(d);return}d=e.ownerDocument||e,a=Z_(a),(h=jn.get(h))&&em(a,h),d=d.createElement("link"),ie(d);var v=d;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),He(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,e),(e=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Pc.bind(l),e.addEventListener("load",r),e.addEventListener("error",r))}}function TS(){if(Nl===null)throw Error(s(475));var e=Nl;return e.stylesheets&&e.count===0&&im(e,e.stylesheets),0<e.count?function(r){var a=setTimeout(function(){if(e.stylesheets&&im(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Pc(){if(this.count--,this.count===0){if(this.stylesheets)im(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Lc=null;function im(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Lc=new Map,r.forEach(bS,e),Lc=null,Pc.call(e))}function bS(e,r){if(!(r.state.loading&4)){var a=Lc.get(e);if(a)var l=a.get(null);else{a=new Map,Lc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Pc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),r.state.loading|=4}}var Ol={$$typeof:O,Provider:null,Consumer:null,_currentValue:It,_currentValue2:It,_threadCount:0};function AS(e,r,a,l,h,d,v,T){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ma(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ma(0),this.hiddenUpdates=ma(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function iv(e,r,a,l,h,d,v,T,I,P,W,et){return e=new AS(e,r,a,v,T,I,P,et),r=1,d===!0&&(r|=24),d=Un(3,null,null,r),e.current=d,d.stateNode=e,r=kf(),r.refCount++,e.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},pd(d),e}function rv(e){return e?(e=Oa,e):Oa}function sv(e,r,a,l,h,d){h=rv(h),l.context===null?l.context=h:l.pendingContext=h,l=kr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Pr(e,l,r),a!==null&&(ln(a,e,r),ml(a,e,r))}function av(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<r?a:r}}function rm(e,r){av(e,r),(e=e.alternate)&&av(e,r)}function ov(e){if(e.tag===13){var r=Cr(e,67108864);r!==null&&ln(r,e,67108864),rm(e,67108864)}}var Uc=!0;function SS(e,r,a,l){var h=S.T;S.T=null;var d=lt.p;try{lt.p=2,sm(e,r,a,l)}finally{lt.p=d,S.T=h}}function wS(e,r,a,l){var h=S.T;S.T=null;var d=lt.p;try{lt.p=8,sm(e,r,a,l)}finally{lt.p=d,S.T=h}}function sm(e,r,a,l){if(Uc){var h=am(l);if(h===null)$d(e,r,l,zc,a),uv(e,l);else if(IS(h,e,r,a,l))l.stopPropagation();else if(uv(e,l),r&4&&-1<RS.indexOf(e)){for(;h!==null;){var d=Ci(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Gn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-rn(v);T.entanglements[1]|=I,v&=~I}pi(d),(se&6)===0&&(bc=hn()+500,wl(0))}}break;case 13:T=Cr(d,2),T!==null&&ln(T,d,2),wc(),rm(d,2)}if(d=am(l),d===null&&$d(e,r,l,zc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else $d(e,r,l,null,a)}}function am(e){return e=va(e),om(e)}var zc=null;function om(e){if(zc=null,e=Kn(e),e!==null){var r=ft(e);if(r===null)e=null;else{var a=r.tag;if(a===13){if(e=Gt(r),e!==null)return e;e=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return zc=e,null}function lv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Su()){case Se:return 2;case Oe:return 8;case Ri:case wu:return 32;case Mo:return 268435456;default:return 32}default:return 32}}var lm=!1,qr=null,Fr=null,Gr=null,xl=new Map,Ml=new Map,Kr=[],RS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uv(e,r){switch(e){case"focusin":case"focusout":qr=null;break;case"dragenter":case"dragleave":Fr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":xl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(r.pointerId)}}function Vl(e,r,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=Ci(r),r!==null&&ov(r)),e):(e.eventSystemFlags|=l,r=e.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),e)}function IS(e,r,a,l,h){switch(r){case"focusin":return qr=Vl(qr,e,r,a,l,h),!0;case"dragenter":return Fr=Vl(Fr,e,r,a,l,h),!0;case"mouseover":return Gr=Vl(Gr,e,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return xl.set(d,Vl(xl.get(d)||null,e,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ml.set(d,Vl(Ml.get(d)||null,e,r,a,l,h)),!0}return!1}function cv(e){var r=Kn(e.target);if(r!==null){var a=ft(r);if(a!==null){if(r=a.tag,r===13){if(r=Gt(a),r!==null){e.blockedOn=r,vr(e.priority,function(){if(a.tag===13){var l=bn(),h=Cr(a,l);h!==null&&ln(h,a,l),rm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jc(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var a=am(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Cn=l,a.target.dispatchEvent(l),Cn=null}else return r=Ci(a),r!==null&&ov(r),e.blockedOn=a,!1;r.shift()}return!0}function hv(e,r,a){jc(e)&&a.delete(r)}function CS(){lm=!1,qr!==null&&jc(qr)&&(qr=null),Fr!==null&&jc(Fr)&&(Fr=null),Gr!==null&&jc(Gr)&&(Gr=null),xl.forEach(hv),Ml.forEach(hv)}function Bc(e,r){e.blockedOn===r&&(e.blockedOn=null,lm||(lm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,CS)))}var Hc=null;function fv(e){Hc!==e&&(Hc=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Hc===e&&(Hc=null);for(var r=0;r<e.length;r+=3){var a=e[r],l=e[r+1],h=e[r+2];if(typeof l!="function"){if(om(l||a)===null)continue;break}var d=Ci(a);d!==null&&(e.splice(r,3),r-=3,Wf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function kl(e){function r(I){return Bc(I,e)}qr!==null&&Bc(qr,e),Fr!==null&&Bc(Fr,e),Gr!==null&&Bc(Gr,e),xl.forEach(r),Ml.forEach(r);for(var a=0;a<Kr.length;a++){var l=Kr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Kr.length&&(a=Kr[0],a.blockedOn===null);)cv(a),a.blockedOn===null&&Kr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[we]||null;if(typeof d=="function")v||fv(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[we]||null)T=v.formAction;else if(om(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),fv(a)}}}function um(e){this._internalRoot=e}qc.prototype.render=um.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=bn();sv(a,l,e,r,null,null)},qc.prototype.unmount=um.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;e.tag===0&&Qa(),sv(e.current,2,null,e,null,null),wc(),r[Ii]=null}};function qc(e){this._internalRoot=e}qc.prototype.unstable_scheduleHydration=function(e){if(e){var r=Nu();e={blockedOn:null,target:e,priority:r};for(var a=0;a<Kr.length&&r!==0&&r<Kr[a].priority;a++);Kr.splice(a,0,e),a===0&&cv(e)}};var dv=t.version;if(dv!=="19.0.0")throw Error(s(527,dv,"19.0.0"));lt.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=nt(r),e=e!==null?pt(e):null,e=e===null?null:e.stateNode,e};var DS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:Kn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fc.isDisabled&&Fc.supportsFiber)try{dr=Fc.inject(DS),Qe=Fc}catch{}}return Ll.createRoot=function(e,r){if(!o(e))throw Error(s(299));var a=!1,l="",h=Ny,d=Oy,v=xy,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=iv(e,1,!1,null,null,a,l,h,d,v,T,null),e[Ii]=r.current,Kd(e.nodeType===8?e.parentNode:e),new um(r)},Ll.hydrateRoot=function(e,r,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=Ny,v=Oy,T=xy,I=null,P=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(P=a.formState)),r=iv(e,1,!0,r,a??null,l,h,d,v,T,I,P),r.context=rv(null),a=r.current,l=bn(),h=kr(l),h.callback=null,Pr(a,h,l),r.current.lanes=l,de(r,l),pi(r),e[Ii]=r.current,Kd(e),new qc(r)},Ll.version="19.0.0",Ll}var Av;function jS(){if(Av)return fm.exports;Av=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),fm.exports=zS(),fm.exports}var BS=jS(),Ul={},Sv;function HS(){if(Sv)return Ul;Sv=1,Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.parse=f,Ul.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function f(R,O){const k=new u,G=R.length;if(G<2)return k;const L=(O==null?void 0:O.decode)||E;let q=0;do{const $=R.indexOf("=",q);if($===-1)break;const K=R.indexOf(";",q),it=K===-1?G:K;if($>it){q=R.lastIndexOf(";",$-1)+1;continue}const st=m(R,q,$),mt=p(R,$,st),N=R.slice(st,mt);if(k[N]===void 0){let w=m(R,$+1,it),S=p(R,it,w);const C=L(R.slice(w,S));k[N]=C}q=it+1}while(q<G);return k}function m(R,O,k){do{const G=R.charCodeAt(O);if(G!==32&&G!==9)return O}while(++O<k);return k}function p(R,O,k){for(;O>k;){const G=R.charCodeAt(--O);if(G!==32&&G!==9)return O+1}return k}function g(R,O,k){const G=(k==null?void 0:k.encode)||encodeURIComponent;if(!i.test(R))throw new TypeError(`argument name is invalid: ${R}`);const L=G(O);if(!t.test(L))throw new TypeError(`argument val is invalid: ${O}`);let q=R+"="+L;if(!k)return q;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);q+="; Max-Age="+k.maxAge}if(k.domain){if(!n.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);q+="; Domain="+k.domain}if(k.path){if(!s.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);q+="; Path="+k.path}if(k.expires){if(!A(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);q+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(q+="; HttpOnly"),k.secure&&(q+="; Secure"),k.partitioned&&(q+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":q+="; Priority=Low";break;case"medium":q+="; Priority=Medium";break;case"high":q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":q+="; SameSite=Strict";break;case"lax":q+="; SameSite=Lax";break;case"none":q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return q}function E(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function A(R){return o.call(R)==="[object Date]"}return Ul}HS();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var wv="popstate";function qS(i={}){function t(o,u){let{pathname:f="/",search:m="",hash:p=""}=sa(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Nm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:Zl(u))}function s(o,u){qn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return GS(t,n,s,i)}function ee(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function qn(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function FS(){return Math.random().toString(36).substring(2,10)}function Rv(i,t){return{usr:i.state,key:i.key,idx:t}}function Nm(i,t,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?sa(t):t,state:n,key:t&&t.key||s||FS()}}function Zl({pathname:i="/",search:t="",hash:n=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function sa(i){let t={};if(i){let n=i.indexOf("#");n>=0&&(t.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(t.search=i.substring(s),i=i.substring(0,s)),i&&(t.pathname=i)}return t}function GS(i,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function A(){m="POP";let L=E(),q=L==null?null:L-g;g=L,p&&p({action:m,location:G.location,delta:q})}function R(L,q){m="PUSH";let $=Nm(G.location,L,q);n&&n($,L),g=E()+1;let K=Rv($,g),it=G.createHref($);try{f.pushState(K,"",it)}catch(st){if(st instanceof DOMException&&st.name==="DataCloneError")throw st;o.location.assign(it)}u&&p&&p({action:m,location:G.location,delta:1})}function O(L,q){m="REPLACE";let $=Nm(G.location,L,q);n&&n($,L),g=E();let K=Rv($,g),it=G.createHref($);f.replaceState(K,"",it),u&&p&&p({action:m,location:G.location,delta:0})}function k(L){let q=o.location.origin!=="null"?o.location.origin:o.location.href,$=typeof L=="string"?L:Zl(L);return $=$.replace(/ $/,"%20"),ee(q,`No window.location.(origin|href) available to create URL for href: ${$}`),new URL($,q)}let G={get action(){return m},get location(){return i(o,f)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(wv,A),p=L,()=>{o.removeEventListener(wv,A),p=null}},createHref(L){return t(o,L)},createURL:k,encodeLocation(L){let q=k(L);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:R,replace:O,go(L){return f.go(L)}};return G}function lE(i,t,n="/"){return KS(i,t,n,!1)}function KS(i,t,n,s){let o=typeof t=="string"?sa(t):t,u=ir(o.pathname||"/",n);if(u==null)return null;let f=uE(i);$S(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=rw(u);m=nw(f[p],g,s)}return m}function uE(i,t=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(ee(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=tr([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(ee(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),uE(u.children,t,E,g)),!(u.path==null&&!u.index)&&t.push({path:g,score:tw(g,u.index),routesMeta:E})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of cE(u.path))o(u,f,p)}),t}function cE(i){let t=i.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=cE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function $S(i){i.sort((t,n)=>t.score!==n.score?n.score-t.score:ew(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var QS=/^:[\w-]+$/,YS=3,XS=2,WS=1,ZS=10,JS=-2,Iv=i=>i==="*";function tw(i,t){let n=i.split("/"),s=n.length;return n.some(Iv)&&(s+=JS),t&&(s+=XS),n.filter(o=>!Iv(o)).reduce((o,u)=>o+(QS.test(u)?YS:u===""?WS:ZS),s)}function ew(i,t){return i.length===t.length&&i.slice(0,-1).every((s,o)=>s===t[o])?i[i.length-1]-t[t.length-1]:0}function nw(i,t,n=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",A=ch({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),R=p.route;if(!A&&g&&n&&!s[s.length-1].route.index&&(A=ch({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:tr([u,A.pathname]),pathnameBase:lw(tr([u,A.pathnameBase])),route:R}),A.pathnameBase!=="/"&&(u=tr([u,A.pathnameBase]))}return f}function ch(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=iw(i.path,i.caseSensitive,i.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:A},R)=>{if(E==="*"){let k=m[R]||"";f=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const O=m[R];return A&&!O?g[E]=void 0:g[E]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function iw(i,t=!1,n=!0){qn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function rw(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function ir(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function sw(i,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?sa(i):i;return{pathname:n?n.startsWith("/")?n:aw(n,t):t,search:uw(s),hash:cw(o)}}function aw(i,t){let n=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function gm(i,t,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ow(i){return i.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function up(i){let t=ow(i);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function cp(i,t,n,s=!1){let o;typeof i=="string"?o=sa(i):(o={...i},ee(!o.pathname||!o.pathname.includes("?"),gm("?","pathname","search",o)),ee(!o.pathname||!o.pathname.includes("#"),gm("#","pathname","hash",o)),ee(!o.search||!o.search.includes("#"),gm("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let A=t.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),A-=1;o.pathname=R.join("/")}m=A>=0?t[A]:"/"}let p=sw(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var tr=i=>i.join("/").replace(/\/\/+/g,"/"),lw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),uw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,cw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function hw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var hE=["POST","PUT","PATCH","DELETE"];new Set(hE);var fw=["GET",...hE];new Set(fw);var bo=j.createContext(null);bo.displayName="DataRouter";var Mh=j.createContext(null);Mh.displayName="DataRouterState";var fE=j.createContext({isTransitioning:!1});fE.displayName="ViewTransition";var dw=j.createContext(new Map);dw.displayName="Fetchers";var mw=j.createContext(null);mw.displayName="Await";var Jn=j.createContext(null);Jn.displayName="Navigation";var lu=j.createContext(null);lu.displayName="Location";var Ai=j.createContext({outlet:null,matches:[],isDataRoute:!1});Ai.displayName="Route";var hp=j.createContext(null);hp.displayName="RouteError";function pw(i,{relative:t}={}){ee(Ao(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=j.useContext(Jn),{hash:o,pathname:u,search:f}=uu(i,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:tr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Ao(){return j.useContext(lu)!=null}function fs(){return ee(Ao(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(lu).location}var dE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function mE(i){j.useContext(Jn).static||j.useLayoutEffect(i)}function Vh(){let{isDataRoute:i}=j.useContext(Ai);return i?Cw():gw()}function gw(){ee(Ao(),"useNavigate() may be used only in the context of a <Router> component.");let i=j.useContext(bo),{basename:t,navigator:n}=j.useContext(Jn),{matches:s}=j.useContext(Ai),{pathname:o}=fs(),u=JSON.stringify(up(s)),f=j.useRef(!1);return mE(()=>{f.current=!0}),j.useCallback((p,g={})=>{if(qn(f.current,dE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=cp(p,JSON.parse(u),o,g.relative==="path");i==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:tr([t,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[t,n,u,o,i])}j.createContext(null);function uu(i,{relative:t}={}){let{matches:n}=j.useContext(Ai),{pathname:s}=fs(),o=JSON.stringify(up(n));return j.useMemo(()=>cp(i,JSON.parse(o),s,t==="path"),[i,o,s,t])}function yw(i,t){return pE(i,t)}function pE(i,t,n,s){var $;ee(Ao(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=j.useContext(Jn),{matches:f}=j.useContext(Ai),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",A=m&&m.route;{let K=A&&A.path||"";gE(g,!A||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let R=fs(),O;if(t){let K=typeof t=="string"?sa(t):t;ee(E==="/"||(($=K.pathname)==null?void 0:$.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${K.pathname}" was given in the \`location\` prop.`),O=K}else O=R;let k=O.pathname||"/",G=k;if(E!=="/"){let K=E.replace(/^\//,"").split("/");G="/"+k.replace(/^\//,"").split("/").slice(K.length).join("/")}let L=!u&&n&&n.matches&&n.matches.length>0?n.matches:lE(i,{pathname:G});qn(A||L!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),qn(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let q=bw(L&&L.map(K=>Object.assign({},K,{params:Object.assign({},p,K.params),pathname:tr([E,o.encodeLocation?o.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?E:tr([E,o.encodeLocation?o.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),f,n,s);return t&&q?j.createElement(lu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},q):q}function _w(){let i=Iw(),t=hw(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:u},"ErrorBoundary")," or"," ",j.createElement("code",{style:u},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:o},n):null,f)}var vw=j.createElement(_w,null),Ew=class extends j.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){console.error("React Router caught the following error during render",i,t)}render(){return this.state.error!==void 0?j.createElement(Ai.Provider,{value:this.props.routeContext},j.createElement(hp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Tw({routeContext:i,match:t,children:n}){let s=j.useContext(bo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(Ai.Provider,{value:i},n)}function bw(i,t=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);ee(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:A}=n,R=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!A||A[g.route.id]===void 0);if(g.route.lazy||R){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let A,R=!1,O=null,k=null;n&&(A=u&&g.route.id?u[g.route.id]:void 0,O=g.route.errorElement||vw,f&&(m<0&&E===0?(gE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,k=null):m===E&&(R=!0,k=g.route.hydrateFallbackElement||null)));let G=t.concat(o.slice(0,E+1)),L=()=>{let q;return A?q=O:R?q=k:g.route.Component?q=j.createElement(g.route.Component,null):g.route.element?q=g.route.element:q=p,j.createElement(Tw,{match:g,routeContext:{outlet:p,matches:G,isDataRoute:n!=null},children:q})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?j.createElement(Ew,{location:n.location,revalidation:n.revalidation,component:O,error:A,children:L(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):L()},null)}function fp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Aw(i){let t=j.useContext(bo);return ee(t,fp(i)),t}function Sw(i){let t=j.useContext(Mh);return ee(t,fp(i)),t}function ww(i){let t=j.useContext(Ai);return ee(t,fp(i)),t}function dp(i){let t=ww(i),n=t.matches[t.matches.length-1];return ee(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function Rw(){return dp("useRouteId")}function Iw(){var s;let i=j.useContext(hp),t=Sw("useRouteError"),n=dp("useRouteError");return i!==void 0?i:(s=t.errors)==null?void 0:s[n]}function Cw(){let{router:i}=Aw("useNavigate"),t=dp("useNavigate"),n=j.useRef(!1);return mE(()=>{n.current=!0}),j.useCallback(async(o,u={})=>{qn(n.current,dE),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:t,...u}))},[i,t])}var Cv={};function gE(i,t,n){!t&&!Cv[i]&&(Cv[i]=!0,qn(!1,n))}j.memo(Dw);function Dw({routes:i,future:t,state:n}){return pE(i,void 0,n,t)}function Nw({to:i,replace:t,state:n,relative:s}){ee(Ao(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=j.useContext(Jn);qn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=j.useContext(Ai),{pathname:f}=fs(),m=Vh(),p=cp(i,up(u),f,s==="path"),g=JSON.stringify(p);return j.useEffect(()=>{m(JSON.parse(g),{replace:t,state:n,relative:s})},[m,g,s,t,n]),null}function jl(i){ee(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ow({basename:i="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ee(!Ao(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=j.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=sa(n));let{pathname:p="/",search:g="",hash:E="",state:A=null,key:R="default"}=n,O=j.useMemo(()=>{let k=ir(p,f);return k==null?null:{location:{pathname:k,search:g,hash:E,state:A,key:R},navigationType:s}},[f,p,g,E,A,R,s]);return qn(O!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:j.createElement(Jn.Provider,{value:m},j.createElement(lu.Provider,{children:t,value:O}))}function xw({children:i,location:t}){return yw(Om(i),t)}function Om(i,t=[]){let n=[];return j.Children.forEach(i,(s,o)=>{if(!j.isValidElement(s))return;let u=[...t,o];if(s.type===j.Fragment){n.push.apply(n,Om(s.props.children,u));return}ee(s.type===jl,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ee(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Om(s.props.children,u)),n.push(f)}),n}var Zc="get",Jc="application/x-www-form-urlencoded";function kh(i){return i!=null&&typeof i.tagName=="string"}function Mw(i){return kh(i)&&i.tagName.toLowerCase()==="button"}function Vw(i){return kh(i)&&i.tagName.toLowerCase()==="form"}function kw(i){return kh(i)&&i.tagName.toLowerCase()==="input"}function Pw(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Lw(i,t){return i.button===0&&(!t||t==="_self")&&!Pw(i)}var Gc=null;function Uw(){if(Gc===null)try{new FormData(document.createElement("form"),0),Gc=!1}catch{Gc=!0}return Gc}var zw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ym(i){return i!=null&&!zw.has(i)?(qn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jc}"`),null):i}function jw(i,t){let n,s,o,u,f;if(Vw(i)){let m=i.getAttribute("action");s=m?ir(m,t):null,n=i.getAttribute("method")||Zc,o=ym(i.getAttribute("enctype"))||Jc,u=new FormData(i)}else if(Mw(i)||kw(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?ir(p,t):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Zc,o=ym(i.getAttribute("formenctype"))||ym(m.getAttribute("enctype"))||Jc,u=new FormData(m,i),!Uw()){let{name:g,type:E,value:A}=i;if(E==="image"){let R=g?`${g}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else g&&u.append(g,A)}}else{if(kh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Zc,s=null,o=Jc,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function mp(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}async function Bw(i,t){if(i.id in t)return t[i.id];try{let n=await import(i.module);return t[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Hw(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function qw(i,t,n){let s=await Promise.all(i.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await Bw(u,n);return f.links?f.links():[]}return[]}));return $w(s.flat(1).filter(Hw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Dv(i,t,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?t.filter((p,g)=>{var A;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let R=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((A=n[0])==null?void 0:A.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function Fw(i,t,{includeHydrateFallback:n}={}){return Gw(i.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Gw(i){return[...new Set(i)]}function Kw(i){let t={},n=Object.keys(i).sort();for(let s of n)t[s]=i[s];return t}function $w(i,t){let n=new Set;return new Set(t),i.reduce((s,o)=>{let u=JSON.stringify(Kw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function Qw(i,t){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":t&&ir(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function yE(){let i=j.useContext(bo);return mp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Yw(){let i=j.useContext(Mh);return mp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var pp=j.createContext(void 0);pp.displayName="FrameworkContext";function _E(){let i=j.useContext(pp);return mp(i,"You must render this element inside a <HydratedRouter> element"),i}function Xw(i,t){let n=j.useContext(pp),[s,o]=j.useState(!1),[u,f]=j.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:A}=t,R=j.useRef(null);j.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let G=q=>{q.forEach($=>{f($.isIntersecting)})},L=new IntersectionObserver(G,{threshold:.5});return R.current&&L.observe(R.current),()=>{L.disconnect()}}},[i]),j.useEffect(()=>{if(s){let G=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(G)}}},[s]);let O=()=>{o(!0)},k=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,R,{}]:[u,R,{onFocus:zl(m,O),onBlur:zl(p,k),onMouseEnter:zl(g,O),onMouseLeave:zl(E,k),onTouchStart:zl(A,O)}]:[!1,R,{}]}function zl(i,t){return n=>{i&&i(n),n.defaultPrevented||t(n)}}function Ww({page:i,...t}){let{router:n}=yE(),s=j.useMemo(()=>lE(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?j.createElement(Jw,{page:i,matches:s,...t}):null}function Zw(i){let{manifest:t,routeModules:n}=_E(),[s,o]=j.useState([]);return j.useEffect(()=>{let u=!1;return qw(i,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,t,n]),s}function Jw({page:i,matches:t,...n}){let s=fs(),{manifest:o,routeModules:u}=_E(),{basename:f}=yE(),{loaderData:m,matches:p}=Yw(),g=j.useMemo(()=>Dv(i,t,p,o,s,"data"),[i,t,p,o,s]),E=j.useMemo(()=>Dv(i,t,p,o,s,"assets"),[i,t,p,o,s]),A=j.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let k=new Set,G=!1;if(t.forEach(q=>{var K;let $=o.routes[q.route.id];!$||!$.hasLoader||(!g.some(it=>it.route.id===q.route.id)&&q.route.id in m&&((K=u[q.route.id])!=null&&K.shouldRevalidate)||$.hasClientLoader?G=!0:k.add(q.route.id))}),k.size===0)return[];let L=Qw(i,f);return G&&k.size>0&&L.searchParams.set("_routes",t.filter(q=>k.has(q.route.id)).map(q=>q.route.id).join(",")),[L.pathname+L.search]},[f,m,s,o,g,t,i,u]),R=j.useMemo(()=>Fw(E,o),[E,o]),O=Zw(E);return j.createElement(j.Fragment,null,A.map(k=>j.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),R.map(k=>j.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),O.map(({key:k,link:G})=>j.createElement("link",{key:k,...G})))}function t1(...i){return t=>{i.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var vE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vE&&(window.__reactRouterVersion="7.3.0")}catch{}function e1({basename:i,children:t,window:n}){let s=j.useRef();s.current==null&&(s.current=qS({window:n,v5Compat:!0}));let o=s.current,[u,f]=j.useState({action:o.action,location:o.location}),m=j.useCallback(p=>{j.startTransition(()=>f(p))},[f]);return j.useLayoutEffect(()=>o.listen(m),[o,m]),j.createElement(Ow,{basename:i,children:t,location:u.location,navigationType:u.action,navigator:o})}var EE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uo=j.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:A,...R},O){let{basename:k}=j.useContext(Jn),G=typeof g=="string"&&EE.test(g),L,q=!1;if(typeof g=="string"&&G&&(L=g,vE))try{let S=new URL(window.location.href),C=g.startsWith("//")?new URL(S.protocol+g):new URL(g),x=ir(C.pathname,k);C.origin===S.origin&&x!=null?g=x+C.search+C.hash:q=!0}catch{qn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=pw(g,{relative:o}),[K,it,st]=Xw(s,R),mt=s1(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:A});function N(S){t&&t(S),S.defaultPrevented||mt(S)}let w=j.createElement("a",{...R,...st,href:L||$,onClick:q||u?t:N,ref:t1(O,it),target:p,"data-discover":!G&&n==="render"?"true":void 0});return K&&!G?j.createElement(j.Fragment,null,w,j.createElement(Ww,{page:$})):w});uo.displayName="Link";var n1=j.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let A=uu(f,{relative:g.relative}),R=fs(),O=j.useContext(Mh),{navigator:k,basename:G}=j.useContext(Jn),L=O!=null&&c1(A)&&m===!0,q=k.encodeLocation?k.encodeLocation(A).pathname:A.pathname,$=R.pathname,K=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||($=$.toLowerCase(),K=K?K.toLowerCase():null,q=q.toLowerCase()),K&&G&&(K=ir(K,G)||K);const it=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let st=$===q||!o&&$.startsWith(q)&&$.charAt(it)==="/",mt=K!=null&&(K===q||!o&&K.startsWith(q)&&K.charAt(q.length)==="/"),N={isActive:st,isPending:mt,isTransitioning:L},w=st?t:void 0,S;typeof s=="function"?S=s(N):S=[s,st?"active":null,mt?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let C=typeof u=="function"?u(N):u;return j.createElement(uo,{...g,"aria-current":w,className:S,ref:E,style:C,to:f,viewTransition:m},typeof p=="function"?p(N):p)});n1.displayName="NavLink";var i1=j.forwardRef(({discover:i="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Zc,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:A,...R},O)=>{let k=l1(),G=u1(m,{relative:g}),L=f.toLowerCase()==="get"?"get":"post",q=typeof m=="string"&&EE.test(m),$=K=>{if(p&&p(K),K.defaultPrevented)return;K.preventDefault();let it=K.nativeEvent.submitter,st=(it==null?void 0:it.getAttribute("formmethod"))||f;k(it||K.currentTarget,{fetcherKey:t,method:st,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:A})};return j.createElement("form",{ref:O,method:L,action:G,onSubmit:s?p:$,...R,"data-discover":!q&&i==="render"?"true":void 0})});i1.displayName="Form";function r1(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TE(i){let t=j.useContext(bo);return ee(t,r1(i)),t}function s1(i,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Vh(),p=fs(),g=uu(i,{relative:u});return j.useCallback(E=>{if(Lw(E,t)){E.preventDefault();let A=n!==void 0?n:Zl(p)===Zl(g);m(i,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,t,i,o,u,f])}var a1=0,o1=()=>`__${String(++a1)}__`;function l1(){let{router:i}=TE("useSubmit"),{basename:t}=j.useContext(Jn),n=Rw();return j.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=jw(s,t);if(o.navigate===!1){let E=o.fetcherKey||o1();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,t,n])}function u1(i,{relative:t}={}){let{basename:n}=j.useContext(Jn),s=j.useContext(Ai);ee(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...uu(i||".",{relative:t})},f=fs();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:tr([n,u.pathname])),Zl(u)}function c1(i,t={}){let n=j.useContext(fE);ee(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=TE("useViewTransitionState"),o=uu(i,{relative:t.relative});if(!n.isTransitioning)return!1;let u=ir(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=ir(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ch(o.pathname,f)!=null||ch(o.pathname,u)!=null}new TextEncoder;const h1=()=>{};var Nv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=function(i){const t=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},f1=function(i){const t=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},AE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let R=(m&15)<<2|g>>6,O=g&63;p||(O=64,f||(R=64)),s.push(n[E],n[A],n[R],n[O])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(bE(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):f1(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const A=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||A==null)throw new d1;const R=u<<2|m>>4;if(s.push(R),g!==64){const O=m<<4&240|g>>2;if(s.push(O),A!==64){const k=g<<6&192|A;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class d1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const m1=function(i){const t=bE(i);return AE.encodeByteArray(t,!0)},hh=function(i){return m1(i).replace(/\./g,"")},SE=function(i){try{return AE.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1=()=>p1().__FIREBASE_DEFAULTS__,y1=()=>{if(typeof process>"u"||typeof Nv>"u")return;const i=Nv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},_1=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&SE(i[1]);return t&&JSON.parse(t)},Ph=()=>{try{return h1()||g1()||y1()||_1()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},wE=i=>{var t,n;return(n=(t=Ph())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[i]},v1=i=>{const t=wE(i);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},RE=()=>{var i;return(i=Ph())===null||i===void 0?void 0:i.config},IE=i=>{var t;return(t=Ph())===null||t===void 0?void 0:t[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[hh(JSON.stringify(n)),hh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function b1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function A1(){var i;const t=(i=Ph())===null||i===void 0?void 0:i.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function S1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function w1(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function R1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function I1(){const i=en();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function C1(){return!A1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function D1(){try{return typeof indexedDB=="object"}catch{return!1}}function N1(){return new Promise((i,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="FirebaseError";class ur extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=O1,Object.setPrototypeOf(this,ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?x1(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ur(o,m,s)}}function x1(i,t){return i.replace(M1,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const M1=/\{\$([^}]+)}/g;function V1(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function ss(i,t){if(i===t)return!0;const n=Object.keys(i),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=t[o];if(Ov(u)&&Ov(f)){if(!ss(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Ov(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(i){const t=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Bl(i){const t={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Hl(i){const t=i.indexOf("?");if(!t)return"";const n=i.indexOf("#",t);return i.substring(t,n>0?n:void 0)}function k1(i,t){const n=new P1(i,t);return n.subscribe.bind(n)}class P1{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");L1(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=_m),o.error===void 0&&(o.error=_m),o.complete===void 0&&(o.complete=_m);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function L1(i,t){if(typeof i!="object"||i===null)return!1;for(const n of t)if(n in i&&typeof i[n]=="function")return!0;return!1}function _m(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(i){return i&&i._delegate?i._delegate:i}class Zs{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new E1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(j1(t))try{this.getOrInitializeService({instanceIdentifier:Qs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Qs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Qs){return this.instances.has(t)}getOptions(t=Qs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:z1(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Qs){return this.component?this.component.multipleInstances?t:Qs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function z1(i){return i===Qs?void 0:i}function j1(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new U1(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ot||(Ot={}));const H1={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},q1=Ot.INFO,F1={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},G1=(i,t,...n)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),o=F1[t];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class gp{constructor(t){this.name=t,this._logLevel=q1,this._logHandler=G1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?H1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const K1=(i,t)=>t.some(n=>i instanceof n);let xv,Mv;function $1(){return xv||(xv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Q1(){return Mv||(Mv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CE=new WeakMap,xm=new WeakMap,DE=new WeakMap,vm=new WeakMap,yp=new WeakMap;function Y1(i){const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(ts(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&CE.set(n,i)}).catch(()=>{}),yp.set(t,i),t}function X1(i){if(xm.has(i))return;const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});xm.set(i,t)}let Mm={get(i,t,n){if(i instanceof IDBTransaction){if(t==="done")return xm.get(i);if(t==="objectStoreNames")return i.objectStoreNames||DE.get(i);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ts(i[t])},set(i,t,n){return i[t]=n,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function W1(i){Mm=i(Mm)}function Z1(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=i.call(Em(this),t,...n);return DE.set(s,t.sort?t.sort():[t]),ts(s)}:Q1().includes(i)?function(...t){return i.apply(Em(this),t),ts(CE.get(this))}:function(...t){return ts(i.apply(Em(this),t))}}function J1(i){return typeof i=="function"?Z1(i):(i instanceof IDBTransaction&&X1(i),K1(i,$1())?new Proxy(i,Mm):i)}function ts(i){if(i instanceof IDBRequest)return Y1(i);if(vm.has(i))return vm.get(i);const t=J1(i);return t!==i&&(vm.set(i,t),yp.set(t,i)),t}const Em=i=>yp.get(i);function tR(i,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,t),m=ts(f);return s&&f.addEventListener("upgradeneeded",p=>{s(ts(f.result),p.oldVersion,p.newVersion,ts(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const eR=["get","getKey","getAll","getAllKeys","count"],nR=["put","add","delete","clear"],Tm=new Map;function Vv(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Tm.get(t))return Tm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=nR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||eR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Tm.set(t,u),u}W1(i=>({...i,get:(t,n,s)=>Vv(t,n)||i.get(t,n,s),has:(t,n)=>!!Vv(t,n)||i.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function rR(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Vm="@firebase/app",kv="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr=new gp("@firebase/app"),sR="@firebase/app-compat",aR="@firebase/analytics-compat",oR="@firebase/analytics",lR="@firebase/app-check-compat",uR="@firebase/app-check",cR="@firebase/auth",hR="@firebase/auth-compat",fR="@firebase/database",dR="@firebase/data-connect",mR="@firebase/database-compat",pR="@firebase/functions",gR="@firebase/functions-compat",yR="@firebase/installations",_R="@firebase/installations-compat",vR="@firebase/messaging",ER="@firebase/messaging-compat",TR="@firebase/performance",bR="@firebase/performance-compat",AR="@firebase/remote-config",SR="@firebase/remote-config-compat",wR="@firebase/storage",RR="@firebase/storage-compat",IR="@firebase/firestore",CR="@firebase/vertexai",DR="@firebase/firestore-compat",NR="firebase",OR="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="[DEFAULT]",xR={[Vm]:"fire-core",[sR]:"fire-core-compat",[oR]:"fire-analytics",[aR]:"fire-analytics-compat",[uR]:"fire-app-check",[lR]:"fire-app-check-compat",[cR]:"fire-auth",[hR]:"fire-auth-compat",[fR]:"fire-rtdb",[dR]:"fire-data-connect",[mR]:"fire-rtdb-compat",[pR]:"fire-fn",[gR]:"fire-fn-compat",[yR]:"fire-iid",[_R]:"fire-iid-compat",[vR]:"fire-fcm",[ER]:"fire-fcm-compat",[TR]:"fire-perf",[bR]:"fire-perf-compat",[AR]:"fire-rc",[SR]:"fire-rc-compat",[wR]:"fire-gcs",[RR]:"fire-gcs-compat",[IR]:"fire-fst",[DR]:"fire-fst-compat",[CR]:"fire-vertex","fire-js":"fire-js",[NR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=new Map,MR=new Map,Pm=new Map;function Pv(i,t){try{i.container.addComponent(t)}catch(n){rr.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,n)}}function co(i){const t=i.name;if(Pm.has(t))return rr.debug(`There were multiple attempts to register component ${t}.`),!1;Pm.set(t,i);for(const n of fh.values())Pv(n,i);for(const n of MR.values())Pv(n,i);return!0}function _p(i,t){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(t)}function Bn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},es=new cu("app","Firebase",VR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=OR;function NE(i,t={}){let n=i;typeof t!="object"&&(t={name:t});const s=Object.assign({name:km,automaticDataCollectionEnabled:!1},t),o=s.name;if(typeof o!="string"||!o)throw es.create("bad-app-name",{appName:String(o)});if(n||(n=RE()),!n)throw es.create("no-options");const u=fh.get(o);if(u){if(ss(n,u.options)&&ss(s,u.config))return u;throw es.create("duplicate-app",{appName:o})}const f=new B1(o);for(const p of Pm.values())f.addComponent(p);const m=new kR(n,s,f);return fh.set(o,m),m}function OE(i=km){const t=fh.get(i);if(!t&&i===km&&RE())return NE();if(!t)throw es.create("no-app",{appName:i});return t}function ns(i,t,n){var s;let o=(s=xR[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),rr.warn(m.join(" "));return}co(new Zs(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR="firebase-heartbeat-database",LR=1,Jl="firebase-heartbeat-store";let bm=null;function xE(){return bm||(bm=tR(PR,LR,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Jl)}catch(n){console.warn(n)}}}}).catch(i=>{throw es.create("idb-open",{originalErrorMessage:i.message})})),bm}async function UR(i){try{const n=(await xE()).transaction(Jl),s=await n.objectStore(Jl).get(ME(i));return await n.done,s}catch(t){if(t instanceof ur)rr.warn(t.message);else{const n=es.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});rr.warn(n.message)}}}async function Lv(i,t){try{const s=(await xE()).transaction(Jl,"readwrite");await s.objectStore(Jl).put(t,ME(i)),await s.done}catch(n){if(n instanceof ur)rr.warn(n.message);else{const s=es.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});rr.warn(s.message)}}}function ME(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=1024,jR=30;class BR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Uv();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>jR){const f=FR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){rr.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Uv(),{heartbeatsToSend:s,unsentEntries:o}=HR(this._heartbeatsCache.heartbeats),u=hh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return rr.warn(n),""}}}function Uv(){return new Date().toISOString().substring(0,10)}function HR(i,t=zR){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),zv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),zv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class qR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return D1()?N1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await UR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Lv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Lv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function zv(i){return hh(JSON.stringify({version:2,heartbeats:i})).length}function FR(i){if(i.length===0)return-1;let t=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(i){co(new Zs("platform-logger",t=>new iR(t),"PRIVATE")),co(new Zs("heartbeat",t=>new BR(t),"PRIVATE")),ns(Vm,kv,i),ns(Vm,kv,"esm2017"),ns("fire-js","")}GR("");function vp(i,t){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function VE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KR=VE,kE=new cu("auth","Firebase",VE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new gp("@firebase/auth");function $R(i,...t){dh.logLevel<=Ot.WARN&&dh.warn(`Auth (${So}): ${i}`,...t)}function th(i,...t){dh.logLevel<=Ot.ERROR&&dh.error(`Auth (${So}): ${i}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(i,...t){throw Ep(i,...t)}function yi(i,...t){return Ep(i,...t)}function PE(i,t,n){const s=Object.assign(Object.assign({},KR()),{[t]:n});return new cu("auth","Firebase",s).create(t,{appName:i.name})}function er(i){return PE(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ep(i,...t){if(typeof i!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return kE.create(i,...t)}function Et(i,t,...n){if(!i)throw Ep(t,...n)}function Wi(i){const t="INTERNAL ASSERTION FAILED: "+i;throw th(t),new Error(t)}function sr(i,t){i||Wi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function QR(){return jv()==="http:"||jv()==="https:"}function jv(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QR()||w1()||"connection"in navigator)?navigator.onLine:!0}function XR(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(t,n){this.shortDelay=t,this.longDelay=n,sr(n>t,"Short delay should be less than long delay!"),this.isMobile=b1()||R1()}get(){return YR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(i,t){sr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=new fu(3e4,6e4);function ds(i,t){return i.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:i.tenantId}):t}async function cr(i,t,n,s,o={}){return UE(i,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=hu(Object.assign({key:i.config.apiKey},f)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:t,headers:p},u);return S1()||(g.referrerPolicy="no-referrer"),LE.fetch()(zE(i,i.config.apiHost,n,m),g)})}async function UE(i,t,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},WR),t);try{const o=new tI(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Kc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kc(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Kc(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw Kc(i,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw PE(i,E,g);Wn(i,E)}}catch(o){if(o instanceof ur)throw o;Wn(i,"network-request-failed",{message:String(o)})}}async function du(i,t,n,s,o={}){const u=await cr(i,t,n,s,o);return"mfaPendingCredential"in u&&Wn(i,"multi-factor-auth-required",{_serverResponse:u}),u}function zE(i,t,n,s){const o=`${t}${n}?${s}`;return i.config.emulator?Tp(i.config,o):`${i.config.apiScheme}://${o}`}function JR(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class tI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(yi(this.auth,"network-request-failed")),ZR.get())})}}function Kc(i,t,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=yi(i,t,s);return o.customData._tokenResponse=n,o}function Bv(i){return i!==void 0&&i.enterprise!==void 0}class eI{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return JR(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function nI(i,t){return cr(i,"GET","/v2/recaptchaConfig",ds(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iI(i,t){return cr(i,"POST","/v1/accounts:delete",t)}async function jE(i,t){return cr(i,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function rI(i,t=!1){const n=Ae(i),s=await n.getIdToken(t),o=bp(s);Et(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:$l(Am(o.auth_time)),issuedAtTime:$l(Am(o.iat)),expirationTime:$l(Am(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Am(i){return Number(i)*1e3}function bp(i){const[t,n,s]=i.split(".");if(t===void 0||n===void 0||s===void 0)return th("JWT malformed, contained fewer than 3 sections"),null;try{const o=SE(n);return o?JSON.parse(o):(th("Failed to decode base64 JWT payload"),null)}catch(o){return th("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Hv(i){const t=bp(i);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ho(i,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof ur&&sI(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function sI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$l(this.lastLoginAt),this.creationTime=$l(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mh(i){var t;const n=i.auth,s=await i.getIdToken(),o=await ho(i,jE(n,{idToken:s}));Et(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?BE(u.providerUserInfo):[],m=lI(i.providerData,f),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Um(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,A)}async function oI(i){const t=Ae(i);await mh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function lI(i,t){return[...i.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function BE(i){return i.map(t=>{var{providerId:n}=t,s=vp(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uI(i,t){const n=await UE(i,{},async()=>{const s=hu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=zE(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",LE.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function cI(i,t){return cr(i,"POST","/v2/accounts:revokeToken",ds(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Hv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const n=Hv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await uI(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new so;return s&&(Et(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(Et(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(Et(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new so,this.toJSON())}_performRefresh(){return Wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(i,t){Et(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class Zi{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,u=vp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new aI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Um(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await ho(this,this.stsTokenManager.getToken(this.auth,t));return Et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return rI(this,t)}reload(){return oI(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Zi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await mh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bn(this.auth.app))return Promise.reject(er(this.auth));const t=await this.getIdToken();return await ho(this,iI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,u,f,m,p,g,E;const A=(s=n.displayName)!==null&&s!==void 0?s:void 0,R=(o=n.email)!==null&&o!==void 0?o:void 0,O=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,k=(f=n.photoURL)!==null&&f!==void 0?f:void 0,G=(m=n.tenantId)!==null&&m!==void 0?m:void 0,L=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,q=(g=n.createdAt)!==null&&g!==void 0?g:void 0,$=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:K,emailVerified:it,isAnonymous:st,providerData:mt,stsTokenManager:N}=n;Et(K&&N,t,"internal-error");const w=so.fromJSON(this.name,N);Et(typeof K=="string",t,"internal-error"),Qr(A,t.name),Qr(R,t.name),Et(typeof it=="boolean",t,"internal-error"),Et(typeof st=="boolean",t,"internal-error"),Qr(O,t.name),Qr(k,t.name),Qr(G,t.name),Qr(L,t.name),Qr(q,t.name),Qr($,t.name);const S=new Zi({uid:K,auth:t,email:R,emailVerified:it,displayName:A,isAnonymous:st,photoURL:k,phoneNumber:O,tenantId:G,stsTokenManager:w,createdAt:q,lastLoginAt:$});return mt&&Array.isArray(mt)&&(S.providerData=mt.map(C=>Object.assign({},C))),L&&(S._redirectEventId=L),S}static async _fromIdTokenResponse(t,n,s=!1){const o=new so;o.updateFromServerResponse(n);const u=new Zi({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await mh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];Et(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?BE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new so;m.updateFromIdToken(s);const p=new Zi({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Um(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv=new Map;function Ji(i){sr(i instanceof Function,"Expected a class definition");let t=qv.get(i);return t?(sr(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,qv.set(i,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}HE.type="NONE";const Fv=HE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(i,t,n){return`firebase:${i}:${t}:${n}`}class ao{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=eh(this.userKey,o.apiKey,u),this.fullPersistenceKey=eh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Zi._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new ao(Ji(Fv),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Ji(Fv);const f=eh(s,t.config.apiKey,t.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){const A=Zi._fromJSON(t,E);g!==u&&(m=A),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ao(u,t,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new ao(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(KE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(qE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(QE(t))return"Blackberry";if(YE(t))return"Webos";if(FE(t))return"Safari";if((t.includes("chrome/")||GE(t))&&!t.includes("edge/"))return"Chrome";if($E(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function qE(i=en()){return/firefox\//i.test(i)}function FE(i=en()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function GE(i=en()){return/crios\//i.test(i)}function KE(i=en()){return/iemobile/i.test(i)}function $E(i=en()){return/android/i.test(i)}function QE(i=en()){return/blackberry/i.test(i)}function YE(i=en()){return/webos/i.test(i)}function Ap(i=en()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function hI(i=en()){var t;return Ap(i)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function fI(){return I1()&&document.documentMode===10}function XE(i=en()){return Ap(i)||$E(i)||YE(i)||QE(i)||/windows phone/i.test(i)||KE(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(i,t=[]){let n;switch(i){case"Browser":n=Gv(en());break;case"Worker":n=`${Gv(en())}-${i}`;break;default:n=i}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${So}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const p=t(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mI(i,t={}){return cr(i,"GET","/v2/passwordPolicy",ds(i,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=6;class gI{constructor(t){var n,s,o,u;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:pI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kv(this),this.idTokenSubscription=new Kv(this),this.beforeStateQueue=new dI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ji(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await ao.create(this,t),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await jE(this,{idToken:t}),s=await Zi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Bn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await mh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=XR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Bn(this.app))return Promise.reject(er(this));const n=t?Ae(t):null;return n&&Et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Bn(this.app)?Promise.reject(er(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Bn(this.app)?Promise.reject(er(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ji(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await mI(this),n=new gI(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new cu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await cI(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Ji(t)||this._popupRedirectResolver;Et(n,this,"argument-error"),this.redirectPersistenceManager=await ao.create(this,[Ji(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=WE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&$R(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function aa(i){return Ae(i)}class Kv{constructor(t){this.auth=t,this.observer=null,this.addObserver=k1(n=>this.observer=n)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _I(i){Lh=i}function ZE(i){return Lh.loadJS(i)}function vI(){return Lh.recaptchaEnterpriseScript}function EI(){return Lh.gapiScript}function TI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class bI{constructor(){this.enterprise=new AI}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class AI{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const SI="recaptcha-enterprise",JE="NO_RECAPTCHA";class wI{constructor(t){this.type=SI,this.auth=aa(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{nI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new eI(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;Bv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(g=>{f(g)}).catch(()=>{f(JE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bI().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Bv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=vI();p.length!==0&&(p+=m),ZE(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function $v(i,t,n,s=!1,o=!1){const u=new wI(i);let f;if(o)f=JE;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function zm(i,t,n,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await $v(i,t,n,n==="getOobCode");return s(i,f)}else return s(i,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await $v(i,t,n,n==="getOobCode");return s(i,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(i,t){const n=_p(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ss(u,t??{}))return o;Wn(o,"already-initialized")}return n.initialize({options:t})}function II(i,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Ji);t!=null&&t.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function CI(i,t,n){const s=aa(i);Et(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=tT(t),{host:f,port:m}=DI(t),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Et(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Et(ss(g,s.config.emulator)&&ss(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,NI()}function tT(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function DI(i){const t=tT(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Qv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Qv(f)}}}function Qv(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function NI(){function i(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Wi("not implemented")}_getIdTokenResponse(t){return Wi("not implemented")}_linkToIdToken(t,n){return Wi("not implemented")}_getReauthenticationResolver(t){return Wi("not implemented")}}async function OI(i,t){return cr(i,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xI(i,t){return du(i,"POST","/v1/accounts:signInWithPassword",ds(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MI(i,t){return du(i,"POST","/v1/accounts:signInWithEmailLink",ds(i,t))}async function VI(i,t){return du(i,"POST","/v1/accounts:signInWithEmailLink",ds(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends Sp{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new tu(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new tu(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zm(t,n,"signInWithPassword",xI);case"emailLink":return MI(t,{email:this._email,oobCode:this._password});default:Wn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zm(t,s,"signUpPassword",OI);case"emailLink":return VI(t,{idToken:n,email:this._email,oobCode:this._password});default:Wn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(i,t){return du(i,"POST","/v1/accounts:signInWithIdp",ds(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="http://localhost";class Js extends Sp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Js(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Wn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,u=vp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Js(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return oo(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,oo(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,oo(t,n)}buildRequest(){const t={requestUri:kI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=hu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function LI(i){const t=Bl(Hl(i)).link,n=t?Bl(Hl(t)).deep_link_id:null,s=Bl(Hl(i)).deep_link_id;return(s?Bl(Hl(s)).link:null)||s||n||t||i}class wp{constructor(t){var n,s,o,u,f,m;const p=Bl(Hl(t)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,A=PI((o=p.mode)!==null&&o!==void 0?o:null);Et(g&&E&&A,"argument-error"),this.apiKey=g,this.operation=A,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(t){const n=LI(t);try{return new wp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(){this.providerId=wo.PROVIDER_ID}static credential(t,n){return tu._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=wp.parseLink(n);return Et(s,"argument-error"),tu._fromEmailAndCode(t,s.code,s.tenantId)}}wo.PROVIDER_ID="password";wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends eT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends mu{constructor(){super("facebook.com")}static credential(t){return Js._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Yr.credentialFromTaggedObject(t)}static credentialFromError(t){return Yr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Yr.credential(t.oauthAccessToken)}catch{return null}}}Yr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends mu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Js._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Xr.credentialFromTaggedObject(t)}static credentialFromError(t){return Xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Xr.credential(n,s)}catch{return null}}}Xr.GOOGLE_SIGN_IN_METHOD="google.com";Xr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends mu{constructor(){super("github.com")}static credential(t){return Js._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Wr.credentialFromTaggedObject(t)}static credentialFromError(t){return Wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Wr.credential(t.oauthAccessToken)}catch{return null}}}Wr.GITHUB_SIGN_IN_METHOD="github.com";Wr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends mu{constructor(){super("twitter.com")}static credential(t,n){return Js._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Zr.credentialFromTaggedObject(t)}static credentialFromError(t){return Zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Zr.credential(n,s)}catch{return null}}}Zr.TWITTER_SIGN_IN_METHOD="twitter.com";Zr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UI(i,t){return du(i,"POST","/v1/accounts:signUp",ds(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Zi._fromIdTokenResponse(t,s,o),f=Yv(s);return new ta({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=Yv(s);return new ta({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function Yv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph extends ur{constructor(t,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,ph.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new ph(t,n,s,o)}}function nT(i,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ph._fromErrorAndOperation(i,u,t,s):u})}async function zI(i,t,n=!1){const s=await ho(i,t._linkToIdToken(i.auth,await i.getIdToken()),n);return ta._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jI(i,t,n=!1){const{auth:s}=i;if(Bn(s.app))return Promise.reject(er(s));const o="reauthenticate";try{const u=await ho(i,nT(s,o,t,i),n);Et(u.idToken,s,"internal-error");const f=bp(u.idToken);Et(f,s,"internal-error");const{sub:m}=f;return Et(i.uid===m,s,"user-mismatch"),ta._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Wn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iT(i,t,n=!1){if(Bn(i.app))return Promise.reject(er(i));const s="signIn",o=await nT(i,s,t),u=await ta._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function BI(i,t){return iT(aa(i),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rT(i){const t=aa(i);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function HI(i,t,n){if(Bn(i.app))return Promise.reject(er(i));const s=aa(i),f=await zm(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",UI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&rT(i),p}),m=await ta._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function qI(i,t,n){return Bn(i.app)?Promise.reject(er(i)):BI(Ae(i),wo.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&rT(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FI(i,t){return cr(i,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GI(i,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const s=Ae(i),u={idToken:await s.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},f=await ho(s,FI(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function KI(i,t,n,s){return Ae(i).onIdTokenChanged(t,n,s)}function $I(i,t,n){return Ae(i).beforeAuthStateChanged(t,n)}function QI(i,t,n,s){return Ae(i).onAuthStateChanged(t,n,s)}function YI(i){return Ae(i).signOut()}const gh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gh,"1"),this.storage.removeItem(gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=1e3,WI=10;class aT extends sT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);fI()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,WI):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},XI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}aT.type="LOCAL";const ZI=aT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT extends sT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}oT.type="SESSION";const lT=oT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Uh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await JI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(i="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tC=class{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Rp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const R=A;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(){return window}function eC(i){_i().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(){return typeof _i().WorkerGlobalScope<"u"&&typeof _i().importScripts=="function"}async function nC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iC(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function rC(){return uT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="firebaseLocalStorageDb",sC=1,yh="firebaseLocalStorage",hT="fbase_key";class pu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zh(i,t){return i.transaction([yh],t?"readwrite":"readonly").objectStore(yh)}function aC(){const i=indexedDB.deleteDatabase(cT);return new pu(i).toPromise()}function jm(){const i=indexedDB.open(cT,sC);return new Promise((t,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(yh,{keyPath:hT})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(yh)?t(s):(s.close(),await aC(),t(await jm()))})})}async function Xv(i,t,n){const s=zh(i,!0).put({[hT]:t,value:n});return new pu(s).toPromise()}async function oC(i,t){const n=zh(i,!1).get(t),s=await new pu(n).toPromise();return s===void 0?null:s.value}function Wv(i,t){const n=zh(i,!0).delete(t);return new pu(n).toPromise()}const lC=800,uC=3;class fT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>uC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uh._getInstance(rC()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await nC(),!this.activeServiceWorker)return;this.sender=new tC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||iC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await jm();return await Xv(t,gh,"1"),await Wv(t,gh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Xv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>oC(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Wv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=zh(o,!1).getAll();return new pu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fT.type="LOCAL";const cC=fT;new fu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(i,t){return t?Ji(t):(Et(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip extends Sp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return oo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return oo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return oo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function fC(i){return iT(i.auth,new Ip(i),i.bypassAuthState)}function dC(i){const{auth:t,user:n}=i;return Et(n,t,"internal-error"),jI(n,new Ip(i),i.bypassAuthState)}async function mC(i){const{auth:t,user:n}=i;return Et(n,t,"internal-error"),zI(n,new Ip(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return fC;case"linkViaPopup":case"linkViaRedirect":return mC;case"reauthViaPopup":case"reauthViaRedirect":return dC;default:Wn(this.auth,"internal-error")}}resolve(t){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=new fu(2e3,1e4);class ro extends dT{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ro.currentPopupAction&&ro.currentPopupAction.cancel(),ro.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){sr(this.filter.length===1,"Popup operations only handle one event");const t=Rp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ro.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,pC.get())};t()}}ro.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC="pendingRedirect",nh=new Map;class yC extends dT{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=nh.get(this.auth._key());if(!t){try{const s=await _C(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}nh.set(this.auth._key(),t)}return this.bypassAuthState||nh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _C(i,t){const n=TC(t),s=EC(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function vC(i,t){nh.set(i._key(),t)}function EC(i){return Ji(i._redirectPersistence)}function TC(i){return eh(gC,i.config.apiKey,i.name)}async function bC(i,t,n=!1){if(Bn(i.app))return Promise.reject(er(i));const s=aa(i),o=hC(s,t),f=await new yC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=10*60*1e3;class SC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!wC(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!mT(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(yi(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=AC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zv(t))}saveEventToCache(t){this.cachedEventUids.add(Zv(t)),this.lastProcessedEventTime=Date.now()}}function Zv(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function mT({type:i,error:t}){return i==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function wC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mT(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC(i,t={}){return cr(i,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CC=/^https?/;async function DC(i){if(i.config.emulator)return;const{authorizedDomains:t}=await RC(i);for(const n of t)try{if(NC(n))return}catch{}Wn(i,"unauthorized-domain")}function NC(i){const t=Lm(),{protocol:n,hostname:s}=new URL(t);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!CC.test(n))return!1;if(IC.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=new fu(3e4,6e4);function Jv(){const i=_i().___jsl;if(i!=null&&i.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function xC(i){return new Promise((t,n)=>{var s,o,u;function f(){Jv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Jv(),n(yi(i,"network-request-failed"))},timeout:OC.get()})}if(!((o=(s=_i().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=_i().gapi)===null||u===void 0)&&u.load)f();else{const m=TI("iframefcb");return _i()[m]=()=>{gapi.load?f():n(yi(i,"network-request-failed"))},ZE(`${EI()}?onload=${m}`).catch(p=>n(p))}}).catch(t=>{throw ih=null,t})}let ih=null;function MC(i){return ih=ih||xC(i),ih}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=new fu(5e3,15e3),kC="__/auth/iframe",PC="emulator/auth/iframe",LC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zC(i){const t=i.config;Et(t.authDomain,i,"auth-domain-config-required");const n=t.emulator?Tp(t,PC):`https://${i.config.authDomain}/${kC}`,s={apiKey:t.apiKey,appName:i.name,v:So},o=UC.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${hu(s).slice(1)}`}async function jC(i){const t=await MC(i),n=_i().gapi;return Et(n,i,"internal-error"),t.open({where:document.body,url:zC(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=yi(i,"network-request-failed"),m=_i().setTimeout(()=>{u(f)},VC.get());function p(){_i().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HC=500,qC=600,FC="_blank",GC="http://localhost";class t0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KC(i,t,n,s=HC,o=qC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},BC),{width:s.toString(),height:o.toString(),top:u,left:f}),g=en().toLowerCase();n&&(m=GE(g)?FC:n),qE(g)&&(t=t||GC,p.scrollbars="yes");const E=Object.entries(p).reduce((R,[O,k])=>`${R}${O}=${k},`,"");if(hI(g)&&m!=="_self")return $C(t||"",m),new t0(null);const A=window.open(t||"",m,E);Et(A,i,"popup-blocked");try{A.focus()}catch{}return new t0(A)}function $C(i,t){const n=document.createElement("a");n.href=i,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC="__/auth/handler",YC="emulator/auth/handler",XC=encodeURIComponent("fac");async function e0(i,t,n,s,o,u){Et(i.config.authDomain,i,"auth-domain-config-required"),Et(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:So,eventId:o};if(t instanceof eT){t.setDefaultLanguage(i.languageCode),f.providerId=t.providerId||"",V1(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(t instanceof mu){const E=t.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${XC}=${encodeURIComponent(p)}`:"";return`${WC(i)}?${hu(m).slice(1)}${g}`}function WC({config:i}){return i.emulator?Tp(i,YC):`https://${i.authDomain}/${QC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="webStorageSupport";class ZC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lT,this._completeRedirectFn=bC,this._overrideRedirectResult=vC}async _openPopup(t,n,s,o){var u;sr((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await e0(t,n,s,Lm(),o);return KC(t,f,Rp())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await e0(t,n,s,Lm(),o);return eC(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(sr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await jC(t),s=new SC(t);return n.register("authEvent",o=>(Et(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Sm,{type:Sm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Sm];f!==void 0&&n(!!f),Wn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=DC(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return XE()||FE()||Ap()}}const JC=ZC;var n0="@firebase/auth",i0="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function n2(i){co(new Zs("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Et(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WE(i)},g=new yI(s,o,u,p);return II(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),co(new Zs("auth-internal",t=>{const n=aa(t.getProvider("auth").getImmediate());return(s=>new t2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ns(n0,i0,e2(i)),ns(n0,i0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=5*60,r2=IE("authIdTokenMaxAge")||i2;let r0=null;const s2=i=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>r2)return;const o=n==null?void 0:n.token;r0!==o&&(r0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function a2(i=OE()){const t=_p(i,"auth");if(t.isInitialized())return t.getImmediate();const n=RI(i,{popupRedirectResolver:JC,persistence:[cC,ZI,lT]}),s=IE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=s2(u.toString());$I(n,f,()=>f(n.currentUser)),KI(n,m=>f(m))}}const o=wE("auth");return o&&CI(n,`http://${o}`),n}function o2(){var i,t;return(t=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&t!==void 0?t:document}_I({loadJS(i){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=t,s.onerror=o=>{const u=yi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",o2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});n2("Browser");var l2="firebase",u2="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ns(l2,u2,"app");var s0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var is,pT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,w){function S(){}S.prototype=w.prototype,N.D=w.prototype,N.prototype=new S,N.prototype.constructor=N,N.C=function(C,x,U){for(var D=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)D[fe-2]=arguments[fe];return w.prototype[x].apply(C,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,w,S){S||(S=0);var C=Array(16);if(typeof w=="string")for(var x=0;16>x;++x)C[x]=w.charCodeAt(S++)|w.charCodeAt(S++)<<8|w.charCodeAt(S++)<<16|w.charCodeAt(S++)<<24;else for(x=0;16>x;++x)C[x]=w[S++]|w[S++]<<8|w[S++]<<16|w[S++]<<24;w=N.g[0],S=N.g[1],x=N.g[2];var U=N.g[3],D=w+(U^S&(x^U))+C[0]+3614090360&4294967295;w=S+(D<<7&4294967295|D>>>25),D=U+(x^w&(S^x))+C[1]+3905402710&4294967295,U=w+(D<<12&4294967295|D>>>20),D=x+(S^U&(w^S))+C[2]+606105819&4294967295,x=U+(D<<17&4294967295|D>>>15),D=S+(w^x&(U^w))+C[3]+3250441966&4294967295,S=x+(D<<22&4294967295|D>>>10),D=w+(U^S&(x^U))+C[4]+4118548399&4294967295,w=S+(D<<7&4294967295|D>>>25),D=U+(x^w&(S^x))+C[5]+1200080426&4294967295,U=w+(D<<12&4294967295|D>>>20),D=x+(S^U&(w^S))+C[6]+2821735955&4294967295,x=U+(D<<17&4294967295|D>>>15),D=S+(w^x&(U^w))+C[7]+4249261313&4294967295,S=x+(D<<22&4294967295|D>>>10),D=w+(U^S&(x^U))+C[8]+1770035416&4294967295,w=S+(D<<7&4294967295|D>>>25),D=U+(x^w&(S^x))+C[9]+2336552879&4294967295,U=w+(D<<12&4294967295|D>>>20),D=x+(S^U&(w^S))+C[10]+4294925233&4294967295,x=U+(D<<17&4294967295|D>>>15),D=S+(w^x&(U^w))+C[11]+2304563134&4294967295,S=x+(D<<22&4294967295|D>>>10),D=w+(U^S&(x^U))+C[12]+1804603682&4294967295,w=S+(D<<7&4294967295|D>>>25),D=U+(x^w&(S^x))+C[13]+4254626195&4294967295,U=w+(D<<12&4294967295|D>>>20),D=x+(S^U&(w^S))+C[14]+2792965006&4294967295,x=U+(D<<17&4294967295|D>>>15),D=S+(w^x&(U^w))+C[15]+1236535329&4294967295,S=x+(D<<22&4294967295|D>>>10),D=w+(x^U&(S^x))+C[1]+4129170786&4294967295,w=S+(D<<5&4294967295|D>>>27),D=U+(S^x&(w^S))+C[6]+3225465664&4294967295,U=w+(D<<9&4294967295|D>>>23),D=x+(w^S&(U^w))+C[11]+643717713&4294967295,x=U+(D<<14&4294967295|D>>>18),D=S+(U^w&(x^U))+C[0]+3921069994&4294967295,S=x+(D<<20&4294967295|D>>>12),D=w+(x^U&(S^x))+C[5]+3593408605&4294967295,w=S+(D<<5&4294967295|D>>>27),D=U+(S^x&(w^S))+C[10]+38016083&4294967295,U=w+(D<<9&4294967295|D>>>23),D=x+(w^S&(U^w))+C[15]+3634488961&4294967295,x=U+(D<<14&4294967295|D>>>18),D=S+(U^w&(x^U))+C[4]+3889429448&4294967295,S=x+(D<<20&4294967295|D>>>12),D=w+(x^U&(S^x))+C[9]+568446438&4294967295,w=S+(D<<5&4294967295|D>>>27),D=U+(S^x&(w^S))+C[14]+3275163606&4294967295,U=w+(D<<9&4294967295|D>>>23),D=x+(w^S&(U^w))+C[3]+4107603335&4294967295,x=U+(D<<14&4294967295|D>>>18),D=S+(U^w&(x^U))+C[8]+1163531501&4294967295,S=x+(D<<20&4294967295|D>>>12),D=w+(x^U&(S^x))+C[13]+2850285829&4294967295,w=S+(D<<5&4294967295|D>>>27),D=U+(S^x&(w^S))+C[2]+4243563512&4294967295,U=w+(D<<9&4294967295|D>>>23),D=x+(w^S&(U^w))+C[7]+1735328473&4294967295,x=U+(D<<14&4294967295|D>>>18),D=S+(U^w&(x^U))+C[12]+2368359562&4294967295,S=x+(D<<20&4294967295|D>>>12),D=w+(S^x^U)+C[5]+4294588738&4294967295,w=S+(D<<4&4294967295|D>>>28),D=U+(w^S^x)+C[8]+2272392833&4294967295,U=w+(D<<11&4294967295|D>>>21),D=x+(U^w^S)+C[11]+1839030562&4294967295,x=U+(D<<16&4294967295|D>>>16),D=S+(x^U^w)+C[14]+4259657740&4294967295,S=x+(D<<23&4294967295|D>>>9),D=w+(S^x^U)+C[1]+2763975236&4294967295,w=S+(D<<4&4294967295|D>>>28),D=U+(w^S^x)+C[4]+1272893353&4294967295,U=w+(D<<11&4294967295|D>>>21),D=x+(U^w^S)+C[7]+4139469664&4294967295,x=U+(D<<16&4294967295|D>>>16),D=S+(x^U^w)+C[10]+3200236656&4294967295,S=x+(D<<23&4294967295|D>>>9),D=w+(S^x^U)+C[13]+681279174&4294967295,w=S+(D<<4&4294967295|D>>>28),D=U+(w^S^x)+C[0]+3936430074&4294967295,U=w+(D<<11&4294967295|D>>>21),D=x+(U^w^S)+C[3]+3572445317&4294967295,x=U+(D<<16&4294967295|D>>>16),D=S+(x^U^w)+C[6]+76029189&4294967295,S=x+(D<<23&4294967295|D>>>9),D=w+(S^x^U)+C[9]+3654602809&4294967295,w=S+(D<<4&4294967295|D>>>28),D=U+(w^S^x)+C[12]+3873151461&4294967295,U=w+(D<<11&4294967295|D>>>21),D=x+(U^w^S)+C[15]+530742520&4294967295,x=U+(D<<16&4294967295|D>>>16),D=S+(x^U^w)+C[2]+3299628645&4294967295,S=x+(D<<23&4294967295|D>>>9),D=w+(x^(S|~U))+C[0]+4096336452&4294967295,w=S+(D<<6&4294967295|D>>>26),D=U+(S^(w|~x))+C[7]+1126891415&4294967295,U=w+(D<<10&4294967295|D>>>22),D=x+(w^(U|~S))+C[14]+2878612391&4294967295,x=U+(D<<15&4294967295|D>>>17),D=S+(U^(x|~w))+C[5]+4237533241&4294967295,S=x+(D<<21&4294967295|D>>>11),D=w+(x^(S|~U))+C[12]+1700485571&4294967295,w=S+(D<<6&4294967295|D>>>26),D=U+(S^(w|~x))+C[3]+2399980690&4294967295,U=w+(D<<10&4294967295|D>>>22),D=x+(w^(U|~S))+C[10]+4293915773&4294967295,x=U+(D<<15&4294967295|D>>>17),D=S+(U^(x|~w))+C[1]+2240044497&4294967295,S=x+(D<<21&4294967295|D>>>11),D=w+(x^(S|~U))+C[8]+1873313359&4294967295,w=S+(D<<6&4294967295|D>>>26),D=U+(S^(w|~x))+C[15]+4264355552&4294967295,U=w+(D<<10&4294967295|D>>>22),D=x+(w^(U|~S))+C[6]+2734768916&4294967295,x=U+(D<<15&4294967295|D>>>17),D=S+(U^(x|~w))+C[13]+1309151649&4294967295,S=x+(D<<21&4294967295|D>>>11),D=w+(x^(S|~U))+C[4]+4149444226&4294967295,w=S+(D<<6&4294967295|D>>>26),D=U+(S^(w|~x))+C[11]+3174756917&4294967295,U=w+(D<<10&4294967295|D>>>22),D=x+(w^(U|~S))+C[2]+718787259&4294967295,x=U+(D<<15&4294967295|D>>>17),D=S+(U^(x|~w))+C[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(x+(D<<21&4294967295|D>>>11))&4294967295,N.g[2]=N.g[2]+x&4294967295,N.g[3]=N.g[3]+U&4294967295}s.prototype.u=function(N,w){w===void 0&&(w=N.length);for(var S=w-this.blockSize,C=this.B,x=this.h,U=0;U<w;){if(x==0)for(;U<=S;)o(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<w;)if(C[x++]=N.charCodeAt(U++),x==this.blockSize){o(this,C),x=0;break}}else for(;U<w;)if(C[x++]=N[U++],x==this.blockSize){o(this,C),x=0;break}}this.h=x,this.o+=w},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;var S=8*this.o;for(w=N.length-8;w<N.length;++w)N[w]=S&255,S/=256;for(this.u(N),N=Array(16),w=S=0;4>w;++w)for(var C=0;32>C;C+=8)N[S++]=this.g[w]>>>C&255;return N};function u(N,w){var S=m;return Object.prototype.hasOwnProperty.call(S,N)?S[N]:S[N]=w(N)}function f(N,w){this.h=w;for(var S=[],C=!0,x=N.length-1;0<=x;x--){var U=N[x]|0;C&&U==w||(S[x]=U,C=!1)}this.g=S}var m={};function p(N){return-128<=N&&128>N?u(N,function(w){return new f([w|0],0>w?-1:0)}):new f([N|0],0>N?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return A;if(0>N)return L(g(-N));for(var w=[],S=1,C=0;N>=S;C++)w[C]=N/S|0,S*=4294967296;return new f(w,0)}function E(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return L(E(N.substring(1),w));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=g(Math.pow(w,8)),C=A,x=0;x<N.length;x+=8){var U=Math.min(8,N.length-x),D=parseInt(N.substring(x,x+U),w);8>U?(U=g(Math.pow(w,U)),C=C.j(U).add(g(D))):(C=C.j(S),C=C.add(g(D)))}return C}var A=p(0),R=p(1),O=p(16777216);i=f.prototype,i.m=function(){if(G(this))return-L(this).m();for(var N=0,w=1,S=0;S<this.g.length;S++){var C=this.i(S);N+=(0<=C?C:4294967296+C)*w,w*=4294967296}return N},i.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(k(this))return"0";if(G(this))return"-"+L(this).toString(N);for(var w=g(Math.pow(N,6)),S=this,C="";;){var x=it(S,w).g;S=q(S,x.j(w));var U=((0<S.g.length?S.g[0]:S.h)>>>0).toString(N);if(S=x,k(S))return U+C;for(;6>U.length;)U="0"+U;C=U+C}},i.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function k(N){if(N.h!=0)return!1;for(var w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function G(N){return N.h==-1}i.l=function(N){return N=q(this,N),G(N)?-1:k(N)?0:1};function L(N){for(var w=N.g.length,S=[],C=0;C<w;C++)S[C]=~N.g[C];return new f(S,~N.h).add(R)}i.abs=function(){return G(this)?L(this):this},i.add=function(N){for(var w=Math.max(this.g.length,N.g.length),S=[],C=0,x=0;x<=w;x++){var U=C+(this.i(x)&65535)+(N.i(x)&65535),D=(U>>>16)+(this.i(x)>>>16)+(N.i(x)>>>16);C=D>>>16,U&=65535,D&=65535,S[x]=D<<16|U}return new f(S,S[S.length-1]&-2147483648?-1:0)};function q(N,w){return N.add(L(w))}i.j=function(N){if(k(this)||k(N))return A;if(G(this))return G(N)?L(this).j(L(N)):L(L(this).j(N));if(G(N))return L(this.j(L(N)));if(0>this.l(O)&&0>N.l(O))return g(this.m()*N.m());for(var w=this.g.length+N.g.length,S=[],C=0;C<2*w;C++)S[C]=0;for(C=0;C<this.g.length;C++)for(var x=0;x<N.g.length;x++){var U=this.i(C)>>>16,D=this.i(C)&65535,fe=N.i(x)>>>16,ne=N.i(x)&65535;S[2*C+2*x]+=D*ne,$(S,2*C+2*x),S[2*C+2*x+1]+=U*ne,$(S,2*C+2*x+1),S[2*C+2*x+1]+=D*fe,$(S,2*C+2*x+1),S[2*C+2*x+2]+=U*fe,$(S,2*C+2*x+2)}for(C=0;C<w;C++)S[C]=S[2*C+1]<<16|S[2*C];for(C=w;C<2*w;C++)S[C]=0;return new f(S,0)};function $(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function K(N,w){this.g=N,this.h=w}function it(N,w){if(k(w))throw Error("division by zero");if(k(N))return new K(A,A);if(G(N))return w=it(L(N),w),new K(L(w.g),L(w.h));if(G(w))return w=it(N,L(w)),new K(L(w.g),w.h);if(30<N.g.length){if(G(N)||G(w))throw Error("slowDivide_ only works with positive integers.");for(var S=R,C=w;0>=C.l(N);)S=st(S),C=st(C);var x=mt(S,1),U=mt(C,1);for(C=mt(C,2),S=mt(S,2);!k(C);){var D=U.add(C);0>=D.l(N)&&(x=x.add(S),U=D),C=mt(C,1),S=mt(S,1)}return w=q(N,x.j(w)),new K(x,w)}for(x=A;0<=N.l(w);){for(S=Math.max(1,Math.floor(N.m()/w.m())),C=Math.ceil(Math.log(S)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),U=g(S),D=U.j(w);G(D)||0<D.l(N);)S-=C,U=g(S),D=U.j(w);k(U)&&(U=R),x=x.add(U),N=q(N,D)}return new K(x,N)}i.A=function(N){return it(this,N).h},i.and=function(N){for(var w=Math.max(this.g.length,N.g.length),S=[],C=0;C<w;C++)S[C]=this.i(C)&N.i(C);return new f(S,this.h&N.h)},i.or=function(N){for(var w=Math.max(this.g.length,N.g.length),S=[],C=0;C<w;C++)S[C]=this.i(C)|N.i(C);return new f(S,this.h|N.h)},i.xor=function(N){for(var w=Math.max(this.g.length,N.g.length),S=[],C=0;C<w;C++)S[C]=this.i(C)^N.i(C);return new f(S,this.h^N.h)};function st(N){for(var w=N.g.length+1,S=[],C=0;C<w;C++)S[C]=N.i(C)<<1|N.i(C-1)>>>31;return new f(S,N.h)}function mt(N,w){var S=w>>5;w%=32;for(var C=N.g.length-S,x=[],U=0;U<C;U++)x[U]=0<w?N.i(U+S)>>>w|N.i(U+S+1)<<32-w:N.i(U+S);return new f(x,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,pT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,is=f}).apply(typeof s0<"u"?s0:typeof self<"u"?self:typeof window<"u"?window:{});var $c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gT,ql,yT,rh,Bm,_T,vT,ET;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof $c=="object"&&$c];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)t:{var _=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var B=c[b];if(!(B in _))break t;_=_[B]}c=c[c.length-1],b=_[c],y=y(b),y!=b&&y!=null&&t(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,b=!1,B={next:function(){if(!b&&_<c.length){var Q=_++;return{value:y(Q,c[Q]),done:!1}}return b=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function A(c,y,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,b),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function R(c,y,_){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,R.apply(null,arguments)}function O(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function k(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,B,Q){for(var rt=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)rt[Pt-2]=arguments[Pt];return y.prototype[B].apply(b,rt)}}function G(c){const y=c.length;if(0<y){const _=Array(y);for(let b=0;b<y;b++)_[b]=c[b];return _}return[]}function L(c,y){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(p(b)){const B=c.length||0,Q=b.length||0;c.length=B+Q;for(let rt=0;rt<Q;rt++)c[B+rt]=b[rt]}else c.push(b)}}class q{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function $(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function it(c){return it[" "](c),c}it[" "]=function(){};var st=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function mt(c,y,_){for(const b in c)y.call(_,c[b],b,c)}function N(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function w(c){const y={};for(const _ in c)y[_]=c[_];return y}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,y){let _,b;for(let B=1;B<arguments.length;B++){b=arguments[B];for(_ in b)c[_]=b[_];for(let Q=0;Q<S.length;Q++)_=S[Q],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function x(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function U(c){m.setTimeout(()=>{throw c},0)}function D(){var c=Gt;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class fe{constructor(){this.h=this.g=null}add(y,_){const b=ne.get();b.set(y,_),this.h?this.h.next=b:this.g=b,this.h=b}}var ne=new q(()=>new at,c=>c.reset());class at{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let _t,ft=!1,Gt=new fe,M=()=>{const c=m.Promise.resolve(void 0);_t=()=>{c.then(nt)}};var nt=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){U(_)}var y=ne;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ft=!1};function pt(){this.s=this.s,this.C=this.C}pt.prototype.s=!1,pt.prototype.ma=function(){this.s||(this.s=!0,this.N())},pt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ot(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var lt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function It(c,y){if(ot.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(st){t:{try{it(y.nodeName);var B=!0;break t}catch{}B=!1}B||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:wt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&It.aa.h.call(this)}}k(It,ot);var wt={2:"touch",3:"pen",4:"mouse"};It.prototype.h=function(){It.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),jt=0;function oe(c,y,_,b,B){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!b,this.ha=B,this.key=++jt,this.da=this.fa=!1}function Qt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function nn(c){this.src=c,this.g={},this.h=0}nn.prototype.add=function(c,y,_,b,B){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var rt=Sn(c,y,b,B);return-1<rt?(y=c[rt],_||(y.fa=!1)):(y=new oe(y,this.src,Q,!!b,B),y.fa=_,c.push(y)),y};function Si(c,y){var _=y.type;if(_ in c.g){var b=c.g[_],B=Array.prototype.indexOf.call(b,y,void 0),Q;(Q=0<=B)&&Array.prototype.splice.call(b,B,1),Q&&(Qt(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Sn(c,y,_,b){for(var B=0;B<c.length;++B){var Q=c[B];if(!Q.da&&Q.listener==y&&Q.capture==!!_&&Q.ha==b)return B}return-1}var hr="closure_lm_"+(1e6*Math.random()|0),fr={};function wi(c,y,_,b,B){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)wi(c,y[Q],_,b,B);return null}return _=Su(_),c&&c[ge]?c.K(y,_,g(b)?!!b.capture:!1,B):Oo(c,y,_,!1,b,B)}function Oo(c,y,_,b,B,Q){if(!y)throw Error("Invalid event type");var rt=g(B)?!!B.capture:!!B,Pt=xo(c);if(Pt||(c[hr]=Pt=new nn(c)),_=Pt.add(y,_,b,rt,Q),_.proxy)return _;if(b=ca(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)lt||(B=rt),B===void 0&&(B=!1),c.addEventListener(y.toString(),b,B);else if(c.attachEvent)c.attachEvent(fa(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ca(){function c(_){return y.call(c.src,c.listener,_)}const y=ff;return c}function ha(c,y,_,b,B){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)ha(c,y[Q],_,b,B);else b=g(b)?!!b.capture:!!b,_=Su(_),c&&c[ge]?(c=c.i,y=String(y).toString(),y in c.g&&(Q=c.g[y],_=Sn(Q,_,b,B),-1<_&&(Qt(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete c.g[y],c.h--)))):c&&(c=xo(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Sn(y,_,b,B)),(_=-1<c?y[c]:null)&&gs(_))}function gs(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ge])Si(y.i,c);else{var _=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(_,b,c.capture):y.detachEvent?y.detachEvent(fa(_),b):y.addListener&&y.removeListener&&y.removeListener(b),(_=xo(y))?(Si(_,c),_.h==0&&(_.src=null,y[hr]=null)):Qt(c)}}}function fa(c){return c in fr?fr[c]:fr[c]="on"+c}function ff(c,y){if(c.da)c=!0;else{y=new It(y,this);var _=c.listener,b=c.ha||c.src;c.fa&&gs(c),c=_.call(b,y)}return c}function xo(c){return c=c[hr],c instanceof nn?c:null}var hn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Su(c){return typeof c=="function"?c:(c[hn]||(c[hn]=function(y){return c.handleEvent(y)}),c[hn])}function Se(){pt.call(this),this.i=new nn(this),this.M=this,this.F=null}k(Se,pt),Se.prototype[ge]=!0,Se.prototype.removeEventListener=function(c,y,_,b){ha(this,c,y,_,b)};function Oe(c,y){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new ot(y,c);else if(y instanceof ot)y.target=y.target||c;else{var B=y;y=new ot(b,c),C(y,B)}if(B=!0,_)for(var Q=_.length-1;0<=Q;Q--){var rt=y.g=_[Q];B=Ri(rt,b,!0,y)&&B}if(rt=y.g=c,B=Ri(rt,b,!0,y)&&B,B=Ri(rt,b,!1,y)&&B,_)for(Q=0;Q<_.length;Q++)rt=y.g=_[Q],B=Ri(rt,b,!1,y)&&B}Se.prototype.N=function(){if(Se.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],b=0;b<_.length;b++)Qt(_[b]);delete c.g[y],c.h--}}this.F=null},Se.prototype.K=function(c,y,_,b){return this.i.add(String(c),y,!1,_,b)},Se.prototype.L=function(c,y,_,b){return this.i.add(String(c),y,!0,_,b)};function Ri(c,y,_,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,Q=0;Q<y.length;++Q){var rt=y[Q];if(rt&&!rt.da&&rt.capture==_){var Pt=rt.listener,Re=rt.ha||rt.src;rt.fa&&Si(c.i,rt),B=Pt.call(Re,b)!==!1&&B}}return B&&!b.defaultPrevented}function wu(c,y,_){if(typeof c=="function")_&&(c=R(c,_));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Mo(c){c.g=wu(()=>{c.g=null,c.i&&(c.i=!1,Mo(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class df extends pt{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Mo(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ys(c){pt.call(this),this.h=c,this.g={}}k(ys,pt);var dr=[];function Qe(c){mt(c.g,function(y,_){this.g.hasOwnProperty(_)&&gs(y)},c),c.g={}}ys.prototype.N=function(){ys.aa.N.call(this),Qe(this)},ys.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vo=m.JSON.stringify,ti=m.JSON.parse,rn=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function ko(){}ko.prototype.h=null;function Ru(c){return c.h||(c.h=c.i())}function Iu(){}var ei={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mr(){ot.call(this,"d")}k(mr,ot);function Gn(){ot.call(this,"c")}k(Gn,ot);var wn={},pr=null;function da(){return pr=pr||new Se}wn.La="serverreachability";function Po(c){ot.call(this,wn.La,c)}k(Po,ot);function gr(c){const y=da();Oe(y,new Po(y))}wn.STAT_EVENT="statevent";function ma(c,y){ot.call(this,wn.STAT_EVENT,c),this.stat=y}k(ma,ot);function de(c){const y=da();Oe(y,new ma(y,c))}wn.Ma="timingevent";function Cu(c,y){ot.call(this,wn.Ma,c),this.size=y}k(Cu,ot);function yr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function _r(){this.g=!0}_r.prototype.xa=function(){this.g=!1};function Du(c,y,_,b,B,Q){c.info(function(){if(c.g)if(Q)for(var rt="",Pt=Q.split("&"),Re=0;Re<Pt.length;Re++){var Lt=Pt[Re].split("=");if(1<Lt.length){var Ve=Lt[0];Lt=Lt[1];var Ie=Ve.split("_");rt=2<=Ie.length&&Ie[1]=="type"?rt+(Ve+"="+Lt+"&"):rt+(Ve+"=redacted&")}}else rt=null;else rt=Q;return"XMLHTTP REQ ("+b+") [attempt "+B+"]: "+y+`
`+_+`
`+rt})}function Nu(c,y,_,b,B,Q,rt){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+B+"]: "+y+`
`+_+`
`+Q+" "+rt})}function vr(c,y,_,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+xe(c,_)+(b?" "+b:"")})}function ni(c,y){c.info(function(){return"TIMEOUT: "+y})}_r.prototype.info=function(){};function xe(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var B=b[1];if(Array.isArray(B)&&!(1>B.length)){var Q=B[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var rt=1;rt<B.length;rt++)B[rt]=""}}}}return Vo(_)}catch{return y}}var we={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ii={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_s;function pa(){}k(pa,ko),pa.prototype.g=function(){return new XMLHttpRequest},pa.prototype.i=function(){return{}},_s=new pa;function ii(c,y,_,b){this.j=c,this.i=y,this.l=_,this.R=b||1,this.U=new ys(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Lo}function Lo(){this.i=null,this.g="",this.h=!1}var Er={},vs={};function Kn(c,y,_){c.L=1,c.v=bs(le(y)),c.m=_,c.P=!0,Ci(c,null)}function Ci(c,y){c.F=Date.now(),ie(c),c.A=le(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),Oi(_.i,"t",b),c.C=0,_=c.j.J,c.h=new Lo,c.g=Fu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new df(R(c.Y,c,c.g),c.O)),y=c.U,_=c.g,b=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(dr[0]=B.toString()),B=dr);for(var Q=0;Q<B.length;Q++){var rt=wi(_,B[Q],b||y.handleEvent,!1,y.h||y);if(!rt)break;y.g[rt.key]=rt}y=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),gr(),Du(c.i,c.u,c.A,c.l,c.R,c.m)}ii.prototype.ca=function(c){c=c.target;const y=this.M;y&&Nn(c)==3?y.j():this.Y(c)},ii.prototype.Y=function(c){try{if(c==this.g)t:{const Ie=Nn(this.g);var y=this.g.Ba();const ki=this.g.Z();if(!(3>Ie)&&(Ie!=3||this.g&&(this.h.h||this.g.oa()||Pu(this.g)))){this.J||Ie!=4||y==7||(y==8||0>=ki?gr(3):gr(2)),ga(this);var _=this.g.Z();this.X=_;e:if(Tr(this)){var b=Pu(this.g);c="";var B=b.length,Q=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fn(this),gn(this);var rt="";break e}this.h.i=new m.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!(Q&&y==B-1)});b.length=0,this.h.g+=c,this.C=0,rt=this.h.g}else rt=this.g.oa();if(this.o=_==200,Nu(this.i,this.u,this.A,this.l,this.R,Ie,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Pt,Re=this.g;if((Pt=Re.g?Re.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(Pt)){var Lt=Pt;break e}}Lt=null}if(_=Lt)vr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yn(this,_);else{this.o=!1,this.s=3,de(12),fn(this),gn(this);break t}}if(this.P){_=!0;let ze;for(;!this.J&&this.C<rt.length;)if(ze=br(this,rt),ze==vs){Ie==4&&(this.s=4,de(14),_=!1),vr(this.i,this.l,null,"[Incomplete Response]");break}else if(ze==Er){this.s=4,de(15),vr(this.i,this.l,rt,"[Invalid Chunk]"),_=!1;break}else vr(this.i,this.l,ze,null),yn(this,ze);if(Tr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||rt.length!=0||this.h.h||(this.s=1,de(16),_=!1),this.o=this.o&&_,!_)vr(this.i,this.l,rt,"[Invalid Chunked Response]"),fn(this),gn(this);else if(0<rt.length&&!this.W){this.W=!0;var Ve=this.j;Ve.g==this&&Ve.ba&&!Ve.M&&(Ve.j.info("Great, no buffering proxy detected. Bytes received: "+rt.length),Ds(Ve),Ve.M=!0,de(11))}}else vr(this.i,this.l,rt,null),yn(this,rt);Ie==4&&fn(this),this.o&&!this.J&&(Ie==4?Bu(this.j,this):(this.o=!1,ie(this)))}else vf(this.g),_==400&&0<rt.indexOf("Unknown SID")?(this.s=3,de(12)):(this.s=0,de(13)),fn(this),gn(this)}}}catch{}finally{}};function Tr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function br(c,y){var _=c.C,b=y.indexOf(`
`,_);return b==-1?vs:(_=Number(y.substring(_,b)),isNaN(_)?Er:(b+=1,b+_>y.length?vs:(y=y.slice(b,b+_),c.C=b+_,y)))}ii.prototype.cancel=function(){this.J=!0,fn(this)};function ie(c){c.S=Date.now()+c.I,Uo(c,c.I)}function Uo(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=yr(R(c.ba,c),y)}function ga(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ii.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ni(this.i,this.A),this.L!=2&&(gr(),de(17)),fn(this),this.s=2,gn(this)):Uo(this,this.S-c)};function gn(c){c.j.G==0||c.J||Bu(c.j,c)}function fn(c){ga(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Qe(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function yn(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Ar(_.h,c))){if(!c.K&&Ar(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var B=b;if(B[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ra(_),Sa(_);else break t;Yo(_),de(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=yr(R(_.Za,_),6e3));if(1>=Ou(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Vi(_,11)}else if((c.K||_.g==c)&&Ra(_),!$(y))for(B=_.Da.g.parse(y),y=0;y<B.length;y++){let Lt=B[y];if(_.T=Lt[0],Lt=Lt[1],_.G==2)if(Lt[0]=="c"){_.K=Lt[1],_.ia=Lt[2];const Ve=Lt[3];Ve!=null&&(_.la=Ve,_.j.info("VER="+_.la));const Ie=Lt[4];Ie!=null&&(_.Aa=Ie,_.j.info("SVER="+_.Aa));const ki=Lt[5];ki!=null&&typeof ki=="number"&&0<ki&&(b=1.5*ki,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const ze=c.g;if(ze){const ci=ze.g?ze.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ci){var Q=b.h;Q.g||ci.indexOf("spdy")==-1&&ci.indexOf("quic")==-1&&ci.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Sr(Q,Q.h),Q.h=null))}if(b.D){const Wo=ze.g?ze.g.getResponseHeader("X-HTTP-Session-Id"):null;Wo&&(b.ya=Wo,Bt(b.I,b.D,Wo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var rt=c;if(b.qa=qu(b,b.J?b.ia:null,b.W),rt.K){Rn(b.h,rt);var Pt=rt,Re=b.L;Re&&(Pt.I=Re),Pt.B&&(ga(Pt),ie(Pt)),b.g=rt}else zu(b);0<_.i.length&&wa(_)}else Lt[0]!="stop"&&Lt[0]!="close"||Vi(_,7);else _.G==3&&(Lt[0]=="stop"||Lt[0]=="close"?Lt[0]=="stop"?Vi(_,7):$o(_):Lt[0]!="noop"&&_.l&&_.l.ta(Lt),_.v=0)}}gr(4)}catch{}}var mf=class{constructor(c,y){this.g=c,this.map=y}};function zo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function jo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ou(c){return c.h?1:c.g?c.g.size:0}function Ar(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Sr(c,y){c.g?c.g.add(y):c.h=y}function Rn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}zo.prototype.cancel=function(){if(this.i=sn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function sn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return G(c.i)}function xu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,b=0;b<_;b++)y.push(c[b]);return y}y=[],_=0;for(b in c)y[_++]=c[b];return y}function pf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const b in c)y[_++]=b;return y}}}function Es(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=pf(c),b=xu(c),B=b.length,Q=0;Q<B;Q++)y.call(void 0,b[Q],_&&_[Q],c)}var Bo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ya(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),B=null;if(0<=b){var Q=c[_].substring(0,b);B=c[_].substring(b+1)}else Q=c[_];y(Q,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Di(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Di){this.h=c.h,wr(this,c.j),this.o=c.o,this.g=c.g,Ts(this,c.s),this.l=c.l;var y=c.i,_=new ri;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),_a(this,_),this.m=c.m}else c&&(y=String(c).match(Bo))?(this.h=!1,wr(this,y[1]||"",!0),this.o=Rr(y[2]||""),this.g=Rr(y[3]||"",!0),Ts(this,y[4]),this.l=Rr(y[5]||"",!0),_a(this,y[6]||"",!0),this.m=Rr(y[7]||"")):(this.h=!1,this.i=new ri(null,this.h))}Di.prototype.toString=function(){var c=[],y=this.j;y&&c.push(In(y,Ho,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(In(y,Ho,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(In(_,_.charAt(0)=="/"?qo:Mu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",In(_,_f)),c.join("")};function le(c){return new Di(c)}function wr(c,y,_){c.j=_?Rr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ts(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function _a(c,y,_){y instanceof ri?(c.i=y,Fo(c.i,c.h)):(_||(y=In(y,yf)),c.i=new ri(y,c.h))}function Bt(c,y,_){c.i.set(y,_)}function bs(c){return Bt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Rr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function In(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,gf),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function gf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ho=/[#\/\?@]/g,Mu=/[#\?:]/g,qo=/[#\?]/g,yf=/[#\?@]/g,_f=/#/g;function ri(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Cn(c){c.g||(c.g=new Map,c.h=0,c.i&&ya(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=ri.prototype,i.add=function(c,y){Cn(this),this.i=null,c=xi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function va(c,y){Cn(c),y=xi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ni(c,y){return Cn(c),y=xi(c,y),c.g.has(y)}i.forEach=function(c,y){Cn(this),this.g.forEach(function(_,b){_.forEach(function(B){c.call(y,B,b,this)},this)},this)},i.na=function(){Cn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let b=0;b<y.length;b++){const B=c[b];for(let Q=0;Q<B.length;Q++)_.push(y[b])}return _},i.V=function(c){Cn(this);let y=[];if(typeof c=="string")Ni(this,c)&&(y=y.concat(this.g.get(xi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return Cn(this),this.i=null,c=xi(this,c),Ni(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Oi(c,y,_){va(c,y),0<_.length&&(c.i=null,c.g.set(xi(c,y),G(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var b=y[_];const Q=encodeURIComponent(String(b)),rt=this.V(b);for(b=0;b<rt.length;b++){var B=Q;rt[b]!==""&&(B+="="+encodeURIComponent(String(rt[b]))),c.push(B)}}return this.i=c.join("&")};function xi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Fo(c,y){y&&!c.j&&(Cn(c),c.i=null,c.g.forEach(function(_,b){var B=b.toLowerCase();b!=B&&(va(this,b),Oi(this,B,_))},c)),c.j=y}function Vu(c,y){const _=new _r;if(m.Image){const b=new Image;b.onload=O(Dn,_,"TestLoadImage: loaded",!0,y,b),b.onerror=O(Dn,_,"TestLoadImage: error",!1,y,b),b.onabort=O(Dn,_,"TestLoadImage: abort",!1,y,b),b.ontimeout=O(Dn,_,"TestLoadImage: timeout",!1,y,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function As(c,y){const _=new _r,b=new AbortController,B=setTimeout(()=>{b.abort(),Dn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(Q=>{clearTimeout(B),Q.ok?Dn(_,"TestPingServer: ok",!0,y):Dn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Dn(_,"TestPingServer: error",!1,y)})}function Dn(c,y,_,b,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),b(_)}catch{}}function Ss(){this.g=new rn}function si(c,y,_){const b=_||"";try{Es(c,function(B,Q){let rt=B;g(B)&&(rt=Vo(B)),y.push(b+Q+"="+encodeURIComponent(rt))})}catch(B){throw y.push(b+"type="+encodeURIComponent("_badmap")),B}}function Ir(c){this.l=c.Ub||null,this.j=c.eb||!1}k(Ir,ko),Ir.prototype.g=function(){return new Mi(this.l,this.j)},Ir.prototype.i=function(c){return function(){return c}}({});function Mi(c,y){Se.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Mi,Se),i=Mi.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,oi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ai(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Go(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Go(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ai(this):oi(this),this.readyState==3&&Go(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ai(this))},i.Qa=function(c){this.g&&(this.response=c,ai(this))},i.ga=function(){this.g&&ai(this)};function ai(c){c.readyState=4,c.l=null,c.j=null,c.v=null,oi(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function oi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ko(c){let y="";return mt(c,function(_,b){y+=b,y+=":",y+=_,y+=`\r
`}),y}function Me(c,y,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=Ko(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Bt(c,y,_))}function Kt(c){Se.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Kt,Se);var Ea=/^https?$/i,ws=["POST","PUT"];i=Kt.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_s.g(),this.v=this.o?Ru(this.o):Ru(_s),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){ku(this,Q);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var B in b)_.set(B,b[B]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Q of b.keys())_.set(Q,b.get(Q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ws,y,void 0))||b||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,rt]of _)this.g.setRequestHeader(Q,rt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Rs(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){ku(this,Q)}};function ku(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ta(c),li(c)}function Ta(c){c.A||(c.A=!0,Oe(c,"complete"),Oe(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Oe(this,"complete"),Oe(this,"abort"),li(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),li(this,!0)),Kt.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ba(this):this.bb())},i.bb=function(){ba(this)};function ba(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Nn(c)!=4||c.Z()!=2)){if(c.u&&Nn(c)==4)wu(c.Ea,0,c);else if(Oe(c,"readystatechange"),Nn(c)==4){c.h=!1;try{const rt=c.Z();t:switch(rt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var b;if(b=rt===0){var B=String(c.D).match(Bo)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),b=!Ea.test(B?B.toLowerCase():"")}_=b}if(_)Oe(c,"complete"),Oe(c,"success");else{c.m=6;try{var Q=2<Nn(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",Ta(c)}}finally{li(c)}}}}function li(c,y){if(c.g){Rs(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Oe(c,"ready");try{_.onreadystatechange=b}catch{}}}function Rs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Nn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ti(y)}};function Pu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function vf(c){const y={};c=(c.g&&2<=Nn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if($(c[b]))continue;var _=x(c[b]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=y[B]||[];y[B]=Q,Q.push(_)}N(y,function(b){return b.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Is(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Aa(c){this.Aa=0,this.i=[],this.j=new _r,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Is("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Is("baseRetryDelayMs",5e3,c),this.cb=Is("retryDelaySeedMs",1e4,c),this.Wa=Is("forwardChannelMaxRetries",2,c),this.wa=Is("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new zo(c&&c.concurrentRequestLimit),this.Da=new Ss,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Aa.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,b){de(0),this.W=c,this.H=y||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=qu(this,null,this.W),wa(this)};function $o(c){if(Lu(c),c.G==3){var y=c.U++,_=le(c.I);if(Bt(_,"SID",c.K),Bt(_,"RID",y),Bt(_,"TYPE","terminate"),Cs(c,_),y=new ii(c,c.j,y),y.L=2,y.v=bs(le(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Fu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ie(y)}Hu(c)}function Sa(c){c.g&&(Ds(c),c.g.cancel(),c.g=null)}function Lu(c){Sa(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ra(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function wa(c){if(!jo(c.h)&&!c.s){c.s=!0;var y=c.Ga;_t||M(),ft||(_t(),ft=!0),Gt.add(y,c),c.B=0}}function Ef(c,y){return Ou(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=yr(R(c.Ga,c,y),Xo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new ii(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=w(Q),C(Q,this.S)):Q=this.S),this.m!==null||this.O||(B.H=Q,Q=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=Uu(this,B,y),_=le(this.I),Bt(_,"RID",c),Bt(_,"CVER",22),this.D&&Bt(_,"X-HTTP-Session-Id",this.D),Cs(this,_),Q&&(this.O?y="headers="+encodeURIComponent(String(Ko(Q)))+"&"+y:this.m&&Me(_,this.m,Q)),Sr(this.h,B),this.Ua&&Bt(_,"TYPE","init"),this.P?(Bt(_,"$req",y),Bt(_,"SID","null"),B.T=!0,Kn(B,_,null)):Kn(B,_,y),this.G=2}}else this.G==3&&(c?Qo(this,c):this.i.length==0||jo(this.h)||Qo(this))};function Qo(c,y){var _;y?_=y.l:_=c.U++;const b=le(c.I);Bt(b,"SID",c.K),Bt(b,"RID",_),Bt(b,"AID",c.T),Cs(c,b),c.m&&c.o&&Me(b,c.m,c.o),_=new ii(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Uu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Sr(c.h,_),Kn(_,b,y)}function Cs(c,y){c.H&&mt(c.H,function(_,b){Bt(y,b,_)}),c.l&&Es({},function(_,b){Bt(y,b,_)})}function Uu(c,y,_){_=Math.min(c.i.length,_);var b=c.l?R(c.l.Na,c.l,c):null;t:{var B=c.i;let Q=-1;for(;;){const rt=["count="+_];Q==-1?0<_?(Q=B[0].g,rt.push("ofs="+Q)):Q=0:rt.push("ofs="+Q);let Pt=!0;for(let Re=0;Re<_;Re++){let Lt=B[Re].g;const Ve=B[Re].map;if(Lt-=Q,0>Lt)Q=Math.max(0,B[Re].g-100),Pt=!1;else try{si(Ve,rt,"req"+Lt+"_")}catch{b&&b(Ve)}}if(Pt){b=rt.join("&");break t}}}return c=c.i.splice(0,_),y.D=c,b}function zu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;_t||M(),ft||(_t(),ft=!0),Gt.add(y,c),c.v=0}}function Yo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=yr(R(c.Fa,c),Xo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,ju(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=yr(R(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,de(10),Sa(this),ju(this))};function Ds(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function ju(c){c.g=new ii(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=le(c.qa);Bt(y,"RID","rpc"),Bt(y,"SID",c.K),Bt(y,"AID",c.T),Bt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Bt(y,"TO",c.ja),Bt(y,"TYPE","xmlhttp"),Cs(c,y),c.m&&c.o&&Me(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=bs(le(y)),_.m=null,_.P=!0,Ci(_,c)}i.Za=function(){this.C!=null&&(this.C=null,Sa(this),Yo(this),de(19))};function Ra(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Bu(c,y){var _=null;if(c.g==y){Ra(c),Ds(c),c.g=null;var b=2}else if(Ar(c.h,y))_=y.D,Rn(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;b=da(),Oe(b,new Cu(b,_)),wa(c)}else zu(c);else if(B=y.s,B==3||B==0&&0<y.X||!(b==1&&Ef(c,y)||b==2&&Yo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),B){case 1:Vi(c,5);break;case 4:Vi(c,10);break;case 3:Vi(c,6);break;default:Vi(c,2)}}}function Xo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Vi(c,y){if(c.j.info("Error code "+y),y==2){var _=R(c.fb,c),b=c.Xa;const B=!b;b=new Di(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||wr(b,"https"),bs(b),B?Vu(b.toString(),_):As(b.toString(),_)}else de(2);c.G=0,c.l&&c.l.sa(y),Hu(c),Lu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),de(2)):(this.j.info("Failed to ping google.com"),de(1))};function Hu(c){if(c.G=0,c.ka=[],c.l){const y=sn(c.h);(y.length!=0||c.i.length!=0)&&(L(c.ka,y),L(c.ka,c.i),c.h.i.length=0,G(c.i),c.i.length=0),c.l.ra()}}function qu(c,y,_){var b=_ instanceof Di?le(_):new Di(_);if(b.g!="")y&&(b.g=y+"."+b.g),Ts(b,b.s);else{var B=m.location;b=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var Q=new Di(null);b&&wr(Q,b),y&&(Q.g=y),B&&Ts(Q,B),_&&(Q.l=_),b=Q}return _=c.D,y=c.ya,_&&y&&Bt(b,_,y),Bt(b,"VER",c.la),Cs(c,b),b}function Fu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Kt(new Ir({eb:_})):new Kt(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gu(){}i=Gu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ia(){}Ia.prototype.g=function(c,y){return new an(c,y)};function an(c,y){Se.call(this),this.g=new Aa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!$(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!$(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ui(this)}k(an,Se),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){$o(this.g)},an.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Vo(c),c=_);y.i.push(new mf(y.Ya++,c)),y.G==3&&wa(y)},an.prototype.N=function(){this.g.l=null,delete this.j,$o(this.g),delete this.g,an.aa.N.call(this)};function Ku(c){mr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const _ in y){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}k(Ku,mr);function $u(){Gn.call(this),this.status=1}k($u,Gn);function ui(c){this.g=c}k(ui,Gu),ui.prototype.ua=function(){Oe(this.g,"a")},ui.prototype.ta=function(c){Oe(this.g,new Ku(c))},ui.prototype.sa=function(c){Oe(this.g,new $u)},ui.prototype.ra=function(){Oe(this.g,"b")},Ia.prototype.createWebChannel=Ia.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,ET=function(){return new Ia},vT=function(){return da()},_T=wn,Bm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},we.NO_ERROR=0,we.TIMEOUT=8,we.HTTP_ERROR=6,rh=we,Ii.COMPLETE="complete",yT=Ii,Iu.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",Se.prototype.listen=Se.prototype.K,ql=Iu,Kt.prototype.listenOnce=Kt.prototype.L,Kt.prototype.getLastError=Kt.prototype.Ka,Kt.prototype.getLastErrorCode=Kt.prototype.Ba,Kt.prototype.getStatus=Kt.prototype.Z,Kt.prototype.getResponseJson=Kt.prototype.Oa,Kt.prototype.getResponseText=Kt.prototype.oa,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Ha,gT=Kt}).apply(typeof $c<"u"?$c:typeof self<"u"?self:typeof window<"u"?window:{});const a0="@firebase/firestore",o0="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=new gp("@firebase/firestore");function to(){return ea.logLevel}function ut(i,...t){if(ea.logLevel<=Ot.DEBUG){const n=t.map(Cp);ea.debug(`Firestore (${Ro}): ${i}`,...n)}}function ar(i,...t){if(ea.logLevel<=Ot.ERROR){const n=t.map(Cp);ea.error(`Firestore (${Ro}): ${i}`,...n)}}function fo(i,...t){if(ea.logLevel<=Ot.WARN){const n=t.map(Cp);ea.warn(`Firestore (${Ro}): ${i}`,...n)}}function Cp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(i="Unexpected state"){const t=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: `+i;throw ar(t),new Error(t)}function $t(i,t){i||Tt()}function St(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends ur{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class c2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ze.UNAUTHENTICATED))}shutdown(){}}class h2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class f2{constructor(t){this.t=t,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){$t(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new nr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new nr,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new nr)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($t(typeof s.accessToken=="string"),new TT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $t(t===null||typeof t=="string"),new Ze(t)}}class d2{constructor(t,n,s){this.l=t,this.h=n,this.P=s,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class m2{constructor(t,n,s){this.l=t,this.h=n,this.P=s}getToken(){return Promise.resolve(new d2(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class l0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class p2{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Bn(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){$t(this.o===void 0);const s=u=>{u.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ut("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new l0(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?($t(typeof n.token=="string"),this.R=n.token,new l0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=g2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Vt(i,t){return i<t?-1:i>t?1:0}function mo(i,t,n){return i.length===t.length&&i.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0=-62135596800,c0=1e6;class be{static now(){return be.fromMillis(Date.now())}static fromDate(t){return be.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*c0);return new be(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<u0)throw new ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/c0}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-u0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new be(0,0))}static max(){return new bt(new be(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="__name__";class gi{constructor(t,n,s){n===void 0?n=0:n>t.length&&Tt(),s===void 0?s=t.length-n:s>t.length-n&&Tt(),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return gi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof gi?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=gi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Math.sign(t.length-n.length)}static compareSegments(t,n){const s=gi.isNumericId(t),o=gi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?gi.extractNumericId(t).compare(gi.extractNumericId(n)):t<n?-1:t>n?1:0}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return is.fromString(t.substring(4,t.length-2))}}class te extends gi{construct(t,n,s){return new te(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ct(tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new te(n)}static emptyPath(){return new te([])}}const y2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends gi{construct(t,n,s){return new Ge(t,n,s)}static isValidIdentifier(t){return y2.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===h0}static keyField(){return new Ge([h0])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ct(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ct(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ct(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ct(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ge(n)}static emptyPath(){return new Ge([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.path=t}static fromPath(t){return new yt(te.fromString(t))}static fromName(t){return new yt(te.fromString(t).popFirst(5))}static empty(){return new yt(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return te.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new te(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=-1;function _2(i,t){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=bt.fromTimestamp(s===1e9?new be(n+1,0):new be(n,s));return new as(o,yt.empty(),t)}function v2(i){return new as(i.readTime,i.key,eu)}class as{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new as(bt.min(),yt.empty(),eu)}static max(){return new as(bt.max(),yt.empty(),eu)}}function E2(i,t){let n=i.readTime.compareTo(t.readTime);return n!==0?n:(n=yt.comparator(i.documentKey,t.documentKey),n!==0?n:Vt(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class b2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(i){if(i.code!==tt.FAILED_PRECONDITION||i.message!==T2)throw i;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new J((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):J.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):J.reject(n)}static resolve(t){return new J((n,s)=>{n(t)})}static reject(t){return new J((n,s)=>{s(t)})}static waitFor(t){return new J((n,s)=>{let o=0,u=0,f=!1;t.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(t){let n=J.resolve(!1);for(const s of t)n=n.next(o=>o?J.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(t,n){return new J((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(t,n){return new J((s,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):s()};u()})}}function A2(i){const t=i.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Co(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}jh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp=-1;function Bh(i){return i==null}function _h(i){return i===0&&1/i==-1/0}function S2(i){return typeof i=="number"&&Number.isInteger(i)&&!_h(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="";function w2(i){let t="";for(let n=0;n<i.length;n++)t.length>0&&(t=f0(t)),t=R2(i.get(n),t);return f0(t)}function R2(i,t){let n=t;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case AT:n+="";break;default:n+=u}}return n}function f0(i){return i+AT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(i){let t=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t++;return t}function ms(i,t){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t(n,i[n])}function ST(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(t,n){this.comparator=t,this.root=n||Fe.EMPTY}insert(t,n){return new ae(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(t){return new ae(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Qc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Qc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Qc(this.root,t,this.comparator,!0)}}class Qc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fe{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Fe.RED,this.left=o??Fe.EMPTY,this.right=u??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Fe(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Fe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Tt();const t=this.left.check();if(t!==this.right.check())throw Tt();return t+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt()}get value(){throw Tt()}get color(){throw Tt()}get left(){throw Tt()}get right(){throw Tt()}copy(t,n,s,o,u){return this}insert(t,n,s){return new Fe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(t){this.comparator=t,this.data=new ae(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new m0(this.data.getIterator())}getIteratorFrom(t){return new m0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Ne)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ne(this.comparator);return n.data=t,n}}class m0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(t){this.fields=t,t.sort(Ge.comparator)}static empty(){return new An([])}unionWith(t){let n=new Ne(Ge.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new An(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return mo(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new wT("Invalid base64 string: "+u):u}}(t);return new $e(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new $e(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}$e.EMPTY_BYTE_STRING=new $e("");const I2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(i){if($t(!!i),typeof i=="string"){let t=0;const n=I2.exec(i);if($t(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:pe(i.seconds),nanos:pe(i.nanos)}}function pe(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ls(i){return typeof i=="string"?$e.fromBase64String(i):$e.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="server_timestamp",IT="__type__",CT="__previous_value__",DT="__local_write_time__";function Np(i){var t,n;return((n=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[IT])===null||n===void 0?void 0:n.stringValue)===RT}function Hh(i){const t=i.mapValue.fields[CT];return Np(t)?Hh(t):t}function nu(i){const t=os(i.mapValue.fields[DT].timestampValue);return new be(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(t,n,s,o,u,f,m,p,g){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}const vh="(default)";class iu{constructor(t,n){this.projectId=t,this.database=n||vh}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database===vh}isEqual(t){return t instanceof iu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="__type__",D2="__max__",Yc={mapValue:{}},OT="__vector__",Eh="value";function us(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Np(i)?4:O2(i)?9007199254740991:N2(i)?10:11:Tt()}function bi(i,t){if(i===t)return!0;const n=us(i);if(n!==us(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return nu(i).isEqual(nu(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=os(o.timestampValue),m=os(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return function(o,u){return ls(o.bytesValue).isEqual(ls(u.bytesValue))}(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return function(o,u){return pe(o.geoPointValue.latitude)===pe(u.geoPointValue.latitude)&&pe(o.geoPointValue.longitude)===pe(u.geoPointValue.longitude)}(i,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return pe(o.integerValue)===pe(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=pe(o.doubleValue),m=pe(u.doubleValue);return f===m?_h(f)===_h(m):isNaN(f)&&isNaN(m)}return!1}(i,t);case 9:return mo(i.arrayValue.values||[],t.arrayValue.values||[],bi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(d0(f)!==d0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!bi(f[p],m[p])))return!1;return!0}(i,t);default:return Tt()}}function ru(i,t){return(i.values||[]).find(n=>bi(n,t))!==void 0}function po(i,t){if(i===t)return 0;const n=us(i),s=us(t);if(n!==s)return Vt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Vt(i.booleanValue,t.booleanValue);case 2:return function(u,f){const m=pe(u.integerValue||u.doubleValue),p=pe(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,t);case 3:return p0(i.timestampValue,t.timestampValue);case 4:return p0(nu(i),nu(t));case 5:return Vt(i.stringValue,t.stringValue);case 6:return function(u,f){const m=ls(u),p=ls(f);return m.compareTo(p)}(i.bytesValue,t.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Vt(m[g],p[g]);if(E!==0)return E}return Vt(m.length,p.length)}(i.referenceValue,t.referenceValue);case 8:return function(u,f){const m=Vt(pe(u.latitude),pe(f.latitude));return m!==0?m:Vt(pe(u.longitude),pe(f.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return g0(i.arrayValue,t.arrayValue);case 10:return function(u,f){var m,p,g,E;const A=u.fields||{},R=f.fields||{},O=(m=A[Eh])===null||m===void 0?void 0:m.arrayValue,k=(p=R[Eh])===null||p===void 0?void 0:p.arrayValue,G=Vt(((g=O==null?void 0:O.values)===null||g===void 0?void 0:g.length)||0,((E=k==null?void 0:k.values)===null||E===void 0?void 0:E.length)||0);return G!==0?G:g0(O,k)}(i.mapValue,t.mapValue);case 11:return function(u,f){if(u===Yc.mapValue&&f===Yc.mapValue)return 0;if(u===Yc.mapValue)return 1;if(f===Yc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let A=0;A<p.length&&A<E.length;++A){const R=Vt(p[A],E[A]);if(R!==0)return R;const O=po(m[p[A]],g[E[A]]);if(O!==0)return O}return Vt(p.length,E.length)}(i.mapValue,t.mapValue);default:throw Tt()}}function p0(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Vt(i,t);const n=os(i),s=os(t),o=Vt(n.seconds,s.seconds);return o!==0?o:Vt(n.nanos,s.nanos)}function g0(i,t){const n=i.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=po(n[o],s[o]);if(u)return u}return Vt(n.length,s.length)}function go(i){return Hm(i)}function Hm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=os(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return ls(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return yt.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Hm(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Hm(n.fields[f])}`;return o+"}"}(i.mapValue):Tt()}function sh(i){switch(us(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Hh(i);return t?16+sh(t):16;case 5:return 2*i.stringValue.length;case 6:return ls(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+sh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return ms(s.fields,(u,f)=>{o+=u.length+sh(f)}),o}(i.mapValue);default:throw Tt()}}function y0(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function qm(i){return!!i&&"integerValue"in i}function Op(i){return!!i&&"arrayValue"in i}function _0(i){return!!i&&"nullValue"in i}function v0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ah(i){return!!i&&"mapValue"in i}function N2(i){var t,n;return((n=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[NT])===null||n===void 0?void 0:n.stringValue)===OT}function Ql(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return ms(i.mapValue.fields,(n,s)=>t.mapValue.fields[n]=Ql(s)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ql(i.arrayValue.values[n]);return t}return Object.assign({},i)}function O2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===D2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t){this.value=t}static empty(){return new pn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!ah(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ql(n)}setAll(t){let n=Ge.emptyPath(),s={},o=[];t.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Ql(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());ah(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return bi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];ah(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){ms(n,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new pn(Ql(this.value))}}function xT(i){const t=[];return ms(i.fields,(n,s)=>{const o=new Ge([n]);if(ah(s)){const u=xT(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new An(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new Je(t,0,bt.min(),bt.min(),bt.min(),pn.empty(),0)}static newFoundDocument(t,n,s,o){return new Je(t,1,n,bt.min(),s,o,0)}static newNoDocument(t,n){return new Je(t,2,n,bt.min(),bt.min(),pn.empty(),0)}static newUnknownDocument(t,n){return new Je(t,3,n,bt.min(),bt.min(),pn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(t,n){this.position=t,this.inclusive=n}}function E0(i,t,n){let s=0;for(let o=0;o<i.position.length;o++){const u=t[o],f=i.position[o];if(u.field.isKeyField()?s=yt.comparator(yt.fromName(f.referenceValue),n.key):s=po(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function T0(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!bi(i.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(t,n="asc"){this.field=t,this.dir=n}}function x2(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{}class Te extends MT{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new V2(t,n,s):n==="array-contains"?new L2(t,s):n==="in"?new U2(t,s):n==="not-in"?new z2(t,s):n==="array-contains-any"?new j2(t,s):new Te(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new k2(t,s):new P2(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(po(n,this.value)):n!==null&&us(this.value)===us(n)&&this.matchesComparison(po(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends MT{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new Zn(t,n)}matches(t){return VT(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function VT(i){return i.op==="and"}function kT(i){return M2(i)&&VT(i)}function M2(i){for(const t of i.filters)if(t instanceof Zn)return!1;return!0}function Fm(i){if(i instanceof Te)return i.field.canonicalString()+i.op.toString()+go(i.value);if(kT(i))return i.filters.map(t=>Fm(t)).join(",");{const t=i.filters.map(n=>Fm(n)).join(",");return`${i.op}(${t})`}}function PT(i,t){return i instanceof Te?function(s,o){return o instanceof Te&&s.op===o.op&&s.field.isEqual(o.field)&&bi(s.value,o.value)}(i,t):i instanceof Zn?function(s,o){return o instanceof Zn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&PT(f,o.filters[m]),!0):!1}(i,t):void Tt()}function LT(i){return i instanceof Te?function(n){return`${n.field.canonicalString()} ${n.op} ${go(n.value)}`}(i):i instanceof Zn?function(n){return n.op.toString()+" {"+n.getFilters().map(LT).join(" ,")+"}"}(i):"Filter"}class V2 extends Te{constructor(t,n,s){super(t,n,s),this.key=yt.fromName(s.referenceValue)}matches(t){const n=yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class k2 extends Te{constructor(t,n){super(t,"in",n),this.keys=UT("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class P2 extends Te{constructor(t,n){super(t,"not-in",n),this.keys=UT("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function UT(i,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>yt.fromName(s.referenceValue))}class L2 extends Te{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Op(n)&&ru(n.arrayValue,this.value)}}class U2 extends Te{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&ru(this.value.arrayValue,n)}}class z2 extends Te{constructor(t,n){super(t,"not-in",n)}matches(t){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!ru(this.value.arrayValue,n)}}class j2 extends Te{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Op(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ru(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function b0(i,t=null,n=[],s=[],o=null,u=null,f=null){return new B2(i,t,n,s,o,u,f)}function xp(i){const t=St(i);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Fm(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Bh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>go(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>go(s)).join(",")),t.le=n}return t.le}function Mp(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!x2(i.orderBy[n],t.orderBy[n]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!PT(i.filters[n],t.filters[n]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!T0(i.startAt,t.startAt)&&T0(i.endAt,t.endAt)}function Gm(i){return yt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function H2(i,t,n,s,o,u,f,m){return new gu(i,t,n,s,o,u,f,m)}function qh(i){return new gu(i)}function A0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function zT(i){return i.collectionGroup!==null}function Yl(i){const t=St(i);if(t.he===null){t.he=[];const n=new Set;for(const u of t.explicitOrderBy)t.he.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ne(Ge.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.he.push(new bh(u,s))}),n.has(Ge.keyField().canonicalString())||t.he.push(new bh(Ge.keyField(),s))}return t.he}function vi(i){const t=St(i);return t.Pe||(t.Pe=q2(t,Yl(i))),t.Pe}function q2(i,t){if(i.limitType==="F")return b0(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new bh(o.field,u)});const n=i.endAt?new Th(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Th(i.startAt.position,i.startAt.inclusive):null;return b0(i.path,i.collectionGroup,t,i.filters,i.limit,n,s)}}function Km(i,t){const n=i.filters.concat([t]);return new gu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function $m(i,t,n){return new gu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,n,i.startAt,i.endAt)}function Fh(i,t){return Mp(vi(i),vi(t))&&i.limitType===t.limitType}function jT(i){return`${xp(vi(i))}|lt:${i.limitType}`}function eo(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>LT(o)).join(", ")}]`),Bh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>go(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>go(o)).join(",")),`Target(${s})`}(vi(i))}; limitType=${i.limitType})`}function Gh(i,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):yt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,t)&&function(s,o){for(const u of Yl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,t)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=E0(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,Yl(s),o)||s.endAt&&!function(f,m,p){const g=E0(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,Yl(s),o))}(i,t)}function F2(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function BT(i){return(t,n)=>{let s=!1;for(const o of Yl(i)){const u=G2(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function G2(i,t,n){const s=i.field.isKeyField()?yt.comparator(t.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?po(p,g):Tt()}(i.field,t,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Tt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ms(this.inner,(n,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return ST(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=new ae(yt.comparator);function or(){return K2}const HT=new ae(yt.comparator);function Fl(...i){let t=HT;for(const n of i)t=t.insert(n.key,n);return t}function qT(i){let t=HT;return i.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Ys(){return Xl()}function FT(){return Xl()}function Xl(){return new oa(i=>i.toString(),(i,t)=>i.isEqual(t))}const $2=new ae(yt.comparator),Q2=new Ne(yt.comparator);function xt(...i){let t=Q2;for(const n of i)t=t.add(n);return t}const Y2=new Ne(Vt);function X2(){return Y2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_h(t)?"-0":t}}function GT(i){return{integerValue:""+i}}function W2(i,t){return S2(t)?GT(t):Vp(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(){this._=void 0}}function Z2(i,t,n){return i instanceof su?function(o,u){const f={fields:{[IT]:{stringValue:RT},[DT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Np(u)&&(u=Hh(u)),u&&(f.fields[CT]=u),{mapValue:f}}(n,t):i instanceof yo?$T(i,t):i instanceof au?QT(i,t):function(o,u){const f=KT(o,u),m=S0(f)+S0(o.Ie);return qm(f)&&qm(o.Ie)?GT(m):Vp(o.serializer,m)}(i,t)}function J2(i,t,n){return i instanceof yo?$T(i,t):i instanceof au?QT(i,t):n}function KT(i,t){return i instanceof Ah?function(s){return qm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class su extends Kh{}class yo extends Kh{constructor(t){super(),this.elements=t}}function $T(i,t){const n=YT(t);for(const s of i.elements)n.some(o=>bi(o,s))||n.push(s);return{arrayValue:{values:n}}}class au extends Kh{constructor(t){super(),this.elements=t}}function QT(i,t){let n=YT(t);for(const s of i.elements)n=n.filter(o=>!bi(o,s));return{arrayValue:{values:n}}}class Ah extends Kh{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function S0(i){return pe(i.integerValue||i.doubleValue)}function YT(i){return Op(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(t,n){this.field=t,this.transform=n}}function tD(i,t){return i.field.isEqual(t.field)&&function(s,o){return s instanceof yo&&o instanceof yo||s instanceof au&&o instanceof au?mo(s.elements,o.elements,bi):s instanceof Ah&&o instanceof Ah?bi(s.Ie,o.Ie):s instanceof su&&o instanceof su}(i.transform,t.transform)}class eD{constructor(t,n){this.version=t,this.transformResults=n}}class Ei{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ei}static exists(t){return new Ei(void 0,t)}static updateTime(t){return new Ei(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function oh(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class $h{}function WT(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new JT(i.key,Ei.none()):new yu(i.key,i.data,Ei.none());{const n=i.data,s=pn.empty();let o=new Ne(Ge.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ps(i.key,s,new An(o.toArray()),Ei.none())}}function nD(i,t,n){i instanceof yu?function(o,u,f){const m=o.value.clone(),p=R0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,t,n):i instanceof ps?function(o,u,f){if(!oh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=R0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(ZT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function Wl(i,t,n,s){return i instanceof yu?function(u,f,m,p){if(!oh(u.precondition,f))return m;const g=u.value.clone(),E=I0(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(i,t,n,s):i instanceof ps?function(u,f,m,p){if(!oh(u.precondition,f))return m;const g=I0(u.fieldTransforms,p,f),E=f.data;return E.setAll(ZT(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(i,t,n,s):function(u,f,m){return oh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,t,n)}function iD(i,t){let n=null;for(const s of i.fieldTransforms){const o=t.data.field(s.field),u=KT(s.transform,o||null);u!=null&&(n===null&&(n=pn.empty()),n.set(s.field,u))}return n||null}function w0(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&mo(s,o,(u,f)=>tD(u,f))}(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class yu extends $h{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ps extends $h{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function ZT(i){const t=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);t.set(n,s)}}),t}function R0(i,t,n){const s=new Map;$t(i.length===n.length);for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,J2(f,m,n[o]))}return s}function I0(i,t,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,Z2(u,f,t))}return s}class JT extends $h{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rD extends $h{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&nD(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Wl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Wl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=FT();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=WT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(bt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),xt())}isEqual(t){return this.batchId===t.batchId&&mo(this.mutations,t.mutations,(n,s)=>w0(n,s))&&mo(this.baseMutations,t.baseMutations,(n,s)=>w0(n,s))}}class kp{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){$t(t.mutations.length===s.length);let o=function(){return $2}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new kp(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee,zt;function lD(i){switch(i){case tt.OK:return Tt();case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return Tt()}}function tb(i){if(i===void 0)return ar("GRPC error has no .code"),tt.UNKNOWN;switch(i){case Ee.OK:return tt.OK;case Ee.CANCELLED:return tt.CANCELLED;case Ee.UNKNOWN:return tt.UNKNOWN;case Ee.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case Ee.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case Ee.INTERNAL:return tt.INTERNAL;case Ee.UNAVAILABLE:return tt.UNAVAILABLE;case Ee.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case Ee.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case Ee.NOT_FOUND:return tt.NOT_FOUND;case Ee.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case Ee.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case Ee.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case Ee.ABORTED:return tt.ABORTED;case Ee.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case Ee.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case Ee.DATA_LOSS:return tt.DATA_LOSS;default:return Tt()}}(zt=Ee||(Ee={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=new is([4294967295,4294967295],0);function C0(i){const t=uD().encode(i),n=new pT;return n.update(t),new Uint8Array(n.digest())}function D0(i){const t=new DataView(i.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new is([n,s],0),new is([o,u],0)]}class Pp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Gl(`Invalid padding: ${n}`);if(s<0)throw new Gl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Gl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Gl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=is.fromNumber(this.Ee)}Ae(t,n,s){let o=t.add(n.multiply(is.fromNumber(s)));return o.compare(cD)===1&&(o=new is([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=C0(t),[s,o]=D0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Pp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(t){if(this.Ee===0)return;const n=C0(t),[s,o]=D0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,_u.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Qh(bt.min(),o,new ae(Vt),or(),xt())}}class _u{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new _u(s,n,xt(),xt(),xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(t,n,s,o){this.me=t,this.removedTargetIds=n,this.key=s,this.fe=o}}class eb{constructor(t,n){this.targetId=t,this.ge=n}}class nb{constructor(t,n,s=$e.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class N0{constructor(){this.pe=0,this.ye=O0(),this.we=$e.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.we=t)}Fe(){let t=xt(),n=xt(),s=xt();return this.ye.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Tt()}}),new _u(this.we,this.be,t,n,s)}Me(){this.Se=!1,this.ye=O0()}xe(t,n){this.Se=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.Se=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,$t(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class hD{constructor(t){this.ke=t,this.qe=new Map,this.Qe=or(),this.$e=Xc(),this.Ke=Xc(),this.Ue=new ae(Vt)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const s=this.He(n);switch(t.state){case 0:this.Je(n)&&s.Ce(t.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(t.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(t.resumeToken));break;default:Tt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(t){const n=t.targetId,s=t.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Gm(u))if(s===0){const f=new yt(u.path);this.ze(n,f,Je.newNoDocument(f,bt.min()))}else $t(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(t),p=m?this.nt(m,t,f):1;if(p!==0){this.Ye(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,g)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ls(s).toUint8Array()}catch(p){if(p instanceof wT)return fo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Pp(f,o,u)}catch(p){return fo(p instanceof Gl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(t,n,s){return n.ge.count===s-this.st(t,n.targetId)?0:2}st(t,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(t){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&Gm(m.target)){const p=new yt(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,Je.newNoDocument(p,t))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=xt();this.Ke.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(t));const o=new Qh(t,n,this.Ue,this.Qe,s);return this.Qe=or(),this.$e=Xc(),this.Ke=Xc(),this.Ue=new ae(Vt),o}Ge(t,n){if(!this.Je(t))return;const s=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(t))}ze(t,n,s){if(!this.Je(t))return;const o=this.He(t);this.ut(t,n)?o.xe(n,1):o.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(t)),this.Ke=this.Ke.insert(n,this.ct(n).add(t)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new N0,this.qe.set(t,n)),n}ct(t){let n=this.Ke.get(t);return n||(n=new Ne(Vt),this.Ke=this.Ke.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new Ne(Vt),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||ut("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new N0),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function Xc(){return new ae(yt.comparator)}function O0(){return new ae(yt.comparator)}const fD={asc:"ASCENDING",desc:"DESCENDING"},dD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mD={and:"AND",or:"OR"};class pD{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Qm(i,t){return i.useProto3Json||Bh(t)?t:{value:t}}function Sh(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ib(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function gD(i,t){return Sh(i,t.toTimestamp())}function Ti(i){return $t(!!i),bt.fromTimestamp(function(n){const s=os(n);return new be(s.seconds,s.nanos)}(i))}function Lp(i,t){return Ym(i,t).canonicalString()}function Ym(i,t){const n=function(o){return new te(["projects",o.projectId,"databases",o.database])}(i).child("documents");return t===void 0?n:n.child(t)}function rb(i){const t=te.fromString(i);return $t(ub(t)),t}function Xm(i,t){return Lp(i.databaseId,t.path)}function wm(i,t){const n=rb(t);if(n.get(1)!==i.databaseId.projectId)throw new ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new yt(ab(n))}function sb(i,t){return Lp(i.databaseId,t)}function yD(i){const t=rb(i);return t.length===4?te.emptyPath():ab(t)}function Wm(i){return new te(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function ab(i){return $t(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function x0(i,t,n){return{name:Xm(i,t),fields:n.value.mapValue.fields}}function _D(i,t){let n;if("targetChange"in t){t.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Tt()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?($t(E===void 0||typeof E=="string"),$e.fromBase64String(E||"")):($t(E===void 0||E instanceof Buffer||E instanceof Uint8Array),$e.fromUint8Array(E||new Uint8Array))}(i,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(g){const E=g.code===void 0?tt.UNKNOWN:tb(g.code);return new ct(E,g.message||"")}(f);n=new nb(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=wm(i,s.document.name),u=Ti(s.document.updateTime),f=s.document.createTime?Ti(s.document.createTime):bt.min(),m=new pn({mapValue:{fields:s.document.fields}}),p=Je.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new lh(g,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=wm(i,s.document),u=s.readTime?Ti(s.readTime):bt.min(),f=Je.newNoDocument(o,u),m=s.removedTargetIds||[];n=new lh([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=wm(i,s.document),u=s.removedTargetIds||[];n=new lh([],u,o,null)}else{if(!("filter"in t))return Tt();{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new oD(o,u),m=s.targetId;n=new eb(m,f)}}return n}function vD(i,t){let n;if(t instanceof yu)n={update:x0(i,t.key,t.value)};else if(t instanceof JT)n={delete:Xm(i,t.key)};else if(t instanceof ps)n={update:x0(i,t.key,t.data),updateMask:CD(t.fieldMask)};else{if(!(t instanceof rD))return Tt();n={verify:Xm(i,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof su)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof yo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof au)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ah)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Tt()}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:gD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Tt()}(i,t.precondition)),n}function ED(i,t){return i&&i.length>0?($t(t!==void 0),i.map(n=>function(o,u){let f=o.updateTime?Ti(o.updateTime):Ti(u);return f.isEqual(bt.min())&&(f=Ti(u)),new eD(f,o.transformResults||[])}(n,t))):[]}function TD(i,t){return{documents:[sb(i,t.path)]}}function bD(i,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=sb(i,o);const u=function(g){if(g.length!==0)return lb(Zn.create(g,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(R){return{field:no(R.field),direction:wD(R.dir)}}(E))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Qm(i,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{ht:n,parent:o}}function AD(i){let t=yD(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){$t(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=function(A){const R=ob(A);return R instanceof Zn&&kT(R)?R.getFilters():[R]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(R=>function(k){return new bh(io(k.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(R))}(n.orderBy));let m=null;n.limit&&(m=function(A){let R;return R=typeof A=="object"?A.value:A,Bh(R)?null:R}(n.limit));let p=null;n.startAt&&(p=function(A){const R=!!A.before,O=A.values||[];return new Th(O,R)}(n.startAt));let g=null;return n.endAt&&(g=function(A){const R=!A.before,O=A.values||[];return new Th(O,R)}(n.endAt)),H2(t,o,f,u,m,"F",p,g)}function SD(i,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function ob(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=io(n.unaryFilter.field);return Te.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=io(n.unaryFilter.field);return Te.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=io(n.unaryFilter.field);return Te.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=io(n.unaryFilter.field);return Te.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Tt()}}(i):i.fieldFilter!==void 0?function(n){return Te.create(io(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Tt()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Zn.create(n.compositeFilter.filters.map(s=>ob(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Tt()}}(n.compositeFilter.op))}(i):Tt()}function wD(i){return fD[i]}function RD(i){return dD[i]}function ID(i){return mD[i]}function no(i){return{fieldPath:i.canonicalString()}}function io(i){return Ge.fromServerFormat(i.fieldPath)}function lb(i){return i instanceof Te?function(n){if(n.op==="=="){if(v0(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NAN"}};if(_0(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(v0(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NOT_NAN"}};if(_0(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:no(n.field),op:RD(n.op),value:n.value}}}(i):i instanceof Zn?function(n){const s=n.getFilters().map(o=>lb(o));return s.length===1?s[0]:{compositeFilter:{op:ID(n.op),filters:s}}}(i):Tt()}function CD(i){const t=[];return i.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function ub(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(t,n,s,o,u=bt.min(),f=bt.min(),m=$e.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Jr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(t){this.Tt=t}}function ND(i){const t=AD({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?$m(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(){this.Tn=new xD}addToCollectionParentIndex(t,n){return this.Tn.add(n),J.resolve()}getCollectionParents(t,n){return J.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return J.resolve()}deleteFieldIndex(t,n){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,n){return J.resolve()}getDocumentsMatchingTarget(t,n){return J.resolve(null)}getIndexType(t,n){return J.resolve(0)}getFieldIndexes(t,n){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,n){return J.resolve(as.min())}getMinOffsetFromCollectionGroup(t,n){return J.resolve(as.min())}updateCollectionGroup(t,n,s){return J.resolve()}updateIndexEntries(t,n){return J.resolve()}}class xD{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Ne(te.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Ne(te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cb=41943040;class mn{static withCacheSize(t){return new mn(t,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(cb,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Kn(){return new _o(0)}static Un(){return new _o(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="LruGarbageCollector",MD=1048576;function k0([i,t],[n,s]){const o=Vt(i,n);return o===0?Vt(t,s):o}class VD{constructor(t){this.Hn=t,this.buffer=new Ne(k0),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();k0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class kD{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){ut(V0,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Co(n)?ut(V0,"Ignoring IndexedDB error during garbage collection: ",n):await Io(n)}await this.er(3e5)})}}class PD{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return J.resolve(jh.ae);const s=new VD(n);return this.tr.forEachTarget(t,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(t,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.tr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(M0)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),M0):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(t,o))).next(A=>(s=A,m=Date.now(),this.removeTargets(t,s,n))).next(A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(A=>(g=Date.now(),to()<=Ot.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function LD(i,t){return new PD(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(){this.changes=new oa(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&Wl(s.mutation,o,An.empty(),be.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,xt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=xt()){const o=Ys();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(u=>{let f=Fl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=Ys();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,xt()))}populateOverlays(t,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(t,n,s,o){let u=or();const f=Xl(),m=function(){return Xl()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ps)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Wl(E.mutation,g,E.mutation.getFieldMask(),be.now())):f.set(g.key,An.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var A;return m.set(g,new zD(E,(A=f.get(g))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(t,n){const s=Xl();let o=new ae((f,m)=>f-m),u=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||An.empty();E=m.applyToLocalView(g,E),s.set(p,E);const A=(o.get(m.batchId)||xt()).add(p);o=o.insert(m.batchId,A)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,A=FT();E.forEach(R=>{if(!u.has(R)){const O=WT(n.get(R),s.get(R));O!==null&&A.set(R,O),u=u.add(R)}}),f.push(this.documentOverlayCache.saveOverlays(t,g,A))}return J.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return yt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):zT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):J.resolve(Ys());let m=eu,p=u;return f.next(g=>J.forEach(g,(E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(t,E).next(R=>{p=p.insert(E,R)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,p,g,xt())).next(E=>({batchId:m,changes:qT(E)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new yt(n)).next(s=>{let o=Fl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Fl();return this.indexManager.getCollectionParents(t,u).next(m=>J.forEach(m,p=>{const g=function(A,R){return new gu(R,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next(E=>{E.forEach((A,R)=>{f=f.insert(A,R)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Je.newInvalidDocument(E)))});let m=Fl();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&Wl(E.mutation,g,An.empty(),be.now()),Gh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return J.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Ti(o.createTime)}}(n)),J.resolve()}getNamedQuery(t,n){return J.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:ND(o.bundledQuery),readTime:Ti(o.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(){this.overlays=new ae(yt.comparator),this.Rr=new Map}getOverlay(t,n){return J.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Ys();return J.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,u)=>{this.Et(t,n,u)}),J.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),J.resolve()}getOverlaysForCollection(t,n,s){const o=Ys(),u=n.length+1,f=new yt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new ae((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Ys(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Ys(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return J.resolve(m)}Et(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new aD(n,s));let u=this.Rr.get(n);u===void 0&&(u=xt(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(){this.sessionToken=$e.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(){this.Vr=new Ne(Ue.mr),this.gr=new Ne(Ue.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const s=new Ue(t,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.wr(new Ue(t,n))}br(t,n){t.forEach(s=>this.removeReference(s,n))}Sr(t){const n=new yt(new te([])),s=new Ue(n,t),o=new Ue(n,t+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new yt(new te([])),s=new Ue(n,t),o=new Ue(n,t+1);let u=xt();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new Ue(t,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ue{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return yt.comparator(t.key,n.key)||Vt(t.Cr,n.Cr)}static pr(t,n){return Vt(t.Cr,n.Cr)||yt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Ne(Ue.mr)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new sD(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Ue(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(t,n){return J.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Dp:this.Fr-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ue(n,0),o=new Ue(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ne(Vt);return n.forEach(o=>{const u=new Ue(o,0),f=new Ue(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),J.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;yt.isDocumentKey(u)||(u=u.child(""));const f=new Ue(new yt(u),0);let m=new Ne(Vt);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Cr)),!0)},f),J.resolve(this.Br(m))}Br(t){const n=[];return t.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){$t(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return J.forEach(n.mutations,o=>{const u=new Ue(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Mr=s})}qn(t){}containsKey(t,n){const s=new Ue(n,0),o=this.Mr.firstAfterOrEqual(s);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(t){this.kr=t,this.docs=function(){return new ae(yt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():Je.newInvalidDocument(n))}getEntries(t,n){let s=or();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Je.newInvalidDocument(o))}),J.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=or();const f=n.path,m=new yt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||E2(v2(E),s)<=0||(o.has(E.key)||Gh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(t,n,s,o){Tt()}qr(t,n){return J.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new KD(this)}getSize(t){return J.resolve(this.size)}}class KD extends UD{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(t,o)):this.Ir.removeEntry(s)}),J.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(t){this.persistence=t,this.Qr=new oa(n=>xp(n),Mp),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Up,this.targetCount=0,this.Ur=_o.Kn()}forEachTarget(t,n){return this.Qr.forEach((s,o)=>n(o)),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Ur.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),J.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Ur=new _o(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,J.resolve()}updateTargetData(t,n){return this.zn(n),J.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),J.waitFor(u).next(()=>o)}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,n){const s=this.Qr.get(n)||null;return J.resolve(s)}addMatchingKeys(t,n,s){return this.Kr.yr(n,s),J.resolve()}removeMatchingKeys(t,n,s){this.Kr.br(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),J.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.Kr.Sr(n),J.resolve()}getMatchingKeysForTargetId(t,n){const s=this.Kr.vr(n);return J.resolve(s)}containsKey(t,n){return J.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new jh(0),this.zr=!1,this.zr=!0,this.jr=new qD,this.referenceDelegate=t(this),this.Hr=new $D(this),this.indexManager=new OD,this.remoteDocumentCache=function(o){return new GD(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new DD(n),this.Yr=new BD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new HD,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.Wr[t.toKey()];return s||(s=new FD(n,this.referenceDelegate),this.Wr[t.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,s){ut("MemoryPersistence","Starting transaction:",t);const o=new QD(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(t,n){return J.or(Object.values(this.Wr).map(s=>()=>s.containsKey(t,n)))}}class QD extends b2{constructor(t){super(),this.currentSequenceNumber=t}}class zp{constructor(t){this.persistence=t,this.ti=new Up,this.ni=null}static ri(t){return new zp(t)}get ii(){if(this.ni)return this.ni;throw Tt()}addReference(t,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),J.resolve()}removeReference(t,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),J.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),J.resolve()}removeTarget(t,n){this.ti.Sr(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ii,s=>{const o=yt.fromPath(s);return this.si(t,o).next(u=>{u||n.removeEntry(o,bt.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return J.or([()=>J.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class wh{constructor(t,n){this.persistence=t,this.oi=new oa(s=>w2(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=LD(this,n)}static ri(t,n){return new wh(t,n)}Zr(){}Xr(t){return J.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}sr(t){let n=0;return this.rr(t,s=>{n++}).next(()=>n)}rr(t,n){return J.forEach(this.oi,(s,o)=>this.ar(t,s,o).next(u=>u?J.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(t,f=>this.ar(t,f,n).next(m=>{m||(s++,u.removeEntry(f,bt.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),J.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),J.resolve()}removeReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),J.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=sh(t.data.value)),n}ar(t,n,s){return J.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.oi.get(n);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(t,n){let s=xt(),o=xt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new jp(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return C1()?8:A2(en())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.rs(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(t,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new YD;return this._s(t,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(t,n,f,m.size)})}).next(()=>u.result)}us(t,n,s,o){return s.documentReadCount<this.es?(to()<=Ot.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),J.resolve()):(to()<=Ot.DEBUG&&ut("QueryEngine","Query:",eo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(to()<=Ot.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,vi(n))):J.resolve())}rs(t,n){if(A0(n))return J.resolve(null);let s=vi(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=$m(n,null,"F"),s=vi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=xt(...u);return this.ns.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,s).next(p=>{const g=this.cs(n,m);return this.ls(n,g,f,p.readTime)?this.rs(t,$m(n,null,"F")):this.hs(t,g,n,p)}))})))}ss(t,n,s,o){return A0(n)||o.isEqual(bt.min())?J.resolve(null):this.ns.getDocuments(t,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?J.resolve(null):(to()<=Ot.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),eo(n)),this.hs(t,f,n,_2(o,eu)).next(m=>m))})}cs(t,n){let s=new Ne(BT(t));return n.forEach((o,u)=>{Gh(t,u)&&(s=s.add(u))}),s}ls(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(t,n,s){return to()<=Ot.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",eo(n)),this.ns.getDocumentsMatchingQuery(t,n,as.min(),s)}hs(t,n,s,o){return this.ns.getDocumentsMatchingQuery(t,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp="LocalStore",WD=3e8;class ZD{constructor(t,n,s,o){this.persistence=t,this.Ps=n,this.serializer=o,this.Ts=new ae(Vt),this.Is=new oa(u=>xp(u),Mp),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(s)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new jD(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function JD(i,t,n,s){return new ZD(i,t,n,s)}async function fb(i,t){const n=St(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=xt();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:f,addedBatchIds:m}))})})}function tN(i,t){const n=St(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const A=g.batch,R=A.keys();let O=J.resolve();return R.forEach(k=>{O=O.next(()=>E.getEntry(p,k)).next(G=>{const L=g.docVersions.get(k);$t(L!==null),G.version.compareTo(L)<0&&(A.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),E.addEntry(G)))})}),O.next(()=>m.mutationQueue.removeMutationBatch(p,A))}(n,s,t,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=xt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function db(i){const t=St(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function eN(i,t){const n=St(i),s=t.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];t.targetChanges.forEach((E,A)=>{const R=o.get(A);if(!R)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,A).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,A)));let O=R.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(A)!==null?O=O.withResumeToken($e.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):E.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(E.resumeToken,s)),o=o.insert(A,O),function(G,L,q){return G.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=WD?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(R,O,E)&&m.push(n.Hr.updateTargetData(u,O))});let p=or(),g=xt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(nN(u,f,t.documentUpdates).next(E=>{p=E.Vs,g=E.fs})),!s.isEqual(bt.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(A=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return J.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ts=o,u))}function nN(i,t,n){let s=xt(),o=xt();return n.forEach(u=>s=s.add(u)),t.getEntries(i,s).next(u=>{let f=or();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(bt.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):ut(Bp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function iN(i,t){const n=St(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Dp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function rN(i,t){const n=St(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,t).next(u=>u?(o=u,J.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new Jr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(t,s.targetId)),s})}async function Zm(i,t,n){const s=St(i),o=s.Ts.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Co(f))throw f;ut(Bp,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ts=s.Ts.remove(t),s.Is.delete(o.target)}function P0(i,t,n){const s=St(i);let o=bt.min(),u=xt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const A=St(p),R=A.Is.get(E);return R!==void 0?J.resolve(A.Ts.get(R)):A.Hr.getTargetData(g,E)}(s,f,vi(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,t,n?o:bt.min(),n?u:xt())).next(m=>(sN(s,F2(t),m),{documents:m,gs:u})))}function sN(i,t,n){let s=i.Es.get(t)||bt.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Es.set(t,s)}class L0{constructor(){this.activeTargetIds=X2()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ss(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class aN{constructor(){this.ho=new L0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,s){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new L0,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="ConnectivityMonitor";class z0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ut(U0,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){ut(U0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wc=null;function Jm(){return Wc===null?Wc=function(){return 268435456+Math.round(2147483648*Math.random())}():Wc++,"0x"+Wc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="RestConnection",lN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uN{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===vh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}bo(t,n,s,o,u){const f=Jm(),m=this.So(t,n.toUriEncodedString());ut(Rm,`Sending RPC '${t}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(t,m,p,s).then(g=>(ut(Rm,`Received RPC '${t}' ${f}: `,g),g),g=>{throw fo(Rm,`RPC '${t}' ${f} failed with error: `,g,"url: ",m,"request:",s),g})}Co(t,n,s,o,u,f){return this.bo(t,n,s,o,u)}Do(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ro}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}So(t,n){const s=lN[t];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Ko(t){this.ko(t)}Uo(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const We="WebChannelConnection";class hN extends uN{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,s,o){const u=Jm();return new Promise((f,m)=>{const p=new gT;p.setWithCredentials(!0),p.listenOnce(yT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case rh.NO_ERROR:const E=p.getResponseJson();ut(We,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(E)),f(E);break;case rh.TIMEOUT:ut(We,`RPC '${t}' ${u} timed out`),m(new ct(tt.DEADLINE_EXCEEDED,"Request time out"));break;case rh.HTTP_ERROR:const A=p.getStatus();if(ut(We,`RPC '${t}' ${u} failed with status:`,A,"response text:",p.getResponseText()),A>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const O=R==null?void 0:R.error;if(O&&O.status&&O.message){const k=function(L){const q=L.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(q)>=0?q:tt.UNKNOWN}(O.status);m(new ct(k,O.message))}else m(new ct(tt.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ct(tt.UNAVAILABLE,"Connection failed."));break;default:Tt()}}finally{ut(We,`RPC '${t}' ${u} completed.`)}});const g=JSON.stringify(o);ut(We,`RPC '${t}' ${u} sending request:`,o),p.send(n,"POST",g,s,15)})}Wo(t,n,s){const o=Jm(),u=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=ET(),m=vT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ut(We,`Creating RPC '${t}' stream ${o}: ${E}`,p);const A=f.createWebChannel(E,p);let R=!1,O=!1;const k=new cN({Fo:L=>{O?ut(We,`Not sending because RPC '${t}' stream ${o} is closed:`,L):(R||(ut(We,`Opening RPC '${t}' stream ${o} transport.`),A.open(),R=!0),ut(We,`RPC '${t}' stream ${o} sending:`,L),A.send(L))},Mo:()=>A.close()}),G=(L,q,$)=>{L.listen(q,K=>{try{$(K)}catch(it){setTimeout(()=>{throw it},0)}})};return G(A,ql.EventType.OPEN,()=>{O||(ut(We,`RPC '${t}' stream ${o} transport opened.`),k.Qo())}),G(A,ql.EventType.CLOSE,()=>{O||(O=!0,ut(We,`RPC '${t}' stream ${o} transport closed`),k.Ko())}),G(A,ql.EventType.ERROR,L=>{O||(O=!0,fo(We,`RPC '${t}' stream ${o} transport errored:`,L),k.Ko(new ct(tt.UNAVAILABLE,"The operation could not be completed")))}),G(A,ql.EventType.MESSAGE,L=>{var q;if(!O){const $=L.data[0];$t(!!$);const K=$,it=(K==null?void 0:K.error)||((q=K[0])===null||q===void 0?void 0:q.error);if(it){ut(We,`RPC '${t}' stream ${o} received error:`,it);const st=it.status;let mt=function(S){const C=Ee[S];if(C!==void 0)return tb(C)}(st),N=it.message;mt===void 0&&(mt=tt.INTERNAL,N="Unknown error status: "+st+" with message "+it.message),O=!0,k.Ko(new ct(mt,N)),A.close()}else ut(We,`RPC '${t}' stream ${o} received:`,$),k.Uo($)}}),G(m,_T.STAT_EVENT,L=>{L.stat===Bm.PROXY?ut(We,`RPC '${t}' stream ${o} detected buffering proxy`):L.stat===Bm.NOPROXY&&ut(We,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{k.$o()},0),k}}function Im(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(i){return new pD(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Ti=t,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&ut("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="PersistentStream";class pb{constructor(t,n,s,o,u,f,m,p){this.Ti=t,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new mb(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===tt.RESOURCE_EXHAUSTED?(ar(n.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{t(()=>{const o=new ct(tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(t,n){const s=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return ut(j0,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(ut(j0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fN extends pb{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=_D(this.serializer,t),s=function(u){if(!("targetChange"in u))return bt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?bt.min():f.readTime?Ti(f.readTime):bt.min()}(t);return this.listener.p_(n,s)}y_(t){const n={};n.database=Wm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Gm(p)?{documents:TD(u,p)}:{query:bD(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=ib(u,f.resumeToken);const g=Qm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(bt.min())>0){m.readTime=Sh(u,f.snapshotVersion.toTimestamp());const g=Qm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,t);const s=SD(this.serializer,t);s&&(n.labels=s),this.I_(n)}w_(t){const n={};n.database=Wm(this.serializer),n.removeTarget=t,this.I_(n)}}class dN extends pb{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return $t(!!t.streamToken),this.lastStreamToken=t.streamToken,$t(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){$t(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=ED(t.writeResults,t.commitTime),s=Ti(t.commitTime);return this.listener.v_(s,n)}C_(){const t={};t.database=Wm(this.serializer),this.I_(t)}S_(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>vD(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{}class pN extends mN{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ct(tt.FAILED_PRECONDITION,"The client has already been terminated.")}bo(t,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.bo(t,Ym(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ct(tt.UNKNOWN,u.toString())})}Co(t,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(t,Ym(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ct(tt.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class gN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ar(n),this.N_=!1):ut("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="RemoteStore";class yN{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{la(this)&&(ut(na,"Restarting streams for network reachability change."),await async function(p){const g=St(p);g.W_.add(4),await vu(g),g.j_.set("Unknown"),g.W_.delete(4),await Xh(g)}(this))})}),this.j_=new gN(s,o)}}async function Xh(i){if(la(i))for(const t of i.G_)await t(!0)}async function vu(i){for(const t of i.G_)await t(!1)}function gb(i,t){const n=St(i);n.U_.has(t.targetId)||(n.U_.set(t.targetId,t),Gp(n)?Fp(n):Do(n).c_()&&qp(n,t))}function Hp(i,t){const n=St(i),s=Do(n);n.U_.delete(t),s.c_()&&yb(n,t),n.U_.size===0&&(s.c_()?s.P_():la(n)&&n.j_.set("Unknown"))}function qp(i,t){if(i.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Do(i).y_(t)}function yb(i,t){i.H_.Ne(t),Do(i).w_(t)}function Fp(i){i.H_=new hD({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>i.U_.get(t)||null,it:()=>i.datastore.serializer.databaseId}),Do(i).start(),i.j_.B_()}function Gp(i){return la(i)&&!Do(i).u_()&&i.U_.size>0}function la(i){return St(i).W_.size===0}function _b(i){i.H_=void 0}async function _N(i){i.j_.set("Online")}async function vN(i){i.U_.forEach((t,n)=>{qp(i,t)})}async function EN(i,t){_b(i),Gp(i)?(i.j_.q_(t),Fp(i)):i.j_.set("Unknown")}async function TN(i,t,n){if(i.j_.set("Online"),t instanceof nb&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.U_.delete(m),o.H_.removeTarget(m))}(i,t)}catch(s){ut(na,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Rh(i,s)}else if(t instanceof lh?i.H_.We(t):t instanceof eb?i.H_.Ze(t):i.H_.je(t),!n.isEqual(bt.min()))try{const s=await db(i.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.U_.get(g);E&&u.U_.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u.U_.get(p);if(!E)return;u.U_.set(p,E.withResumeToken($e.EMPTY_BYTE_STRING,E.snapshotVersion)),yb(u,p);const A=new Jr(E.target,p,g,E.sequenceNumber);qp(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){ut(na,"Failed to raise snapshot:",s),await Rh(i,s)}}async function Rh(i,t,n){if(!Co(t))throw t;i.W_.add(1),await vu(i),i.j_.set("Offline"),n||(n=()=>db(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ut(na,"Retrying IndexedDB access"),await n(),i.W_.delete(1),await Xh(i)})}function vb(i,t){return t().catch(n=>Rh(i,n,t))}async function Wh(i){const t=St(i),n=cs(t);let s=t.K_.length>0?t.K_[t.K_.length-1].batchId:Dp;for(;bN(t);)try{const o=await iN(t.localStore,s);if(o===null){t.K_.length===0&&n.P_();break}s=o.batchId,AN(t,o)}catch(o){await Rh(t,o)}Eb(t)&&Tb(t)}function bN(i){return la(i)&&i.K_.length<10}function AN(i,t){i.K_.push(t);const n=cs(i);n.c_()&&n.b_&&n.S_(t.mutations)}function Eb(i){return la(i)&&!cs(i).u_()&&i.K_.length>0}function Tb(i){cs(i).start()}async function SN(i){cs(i).C_()}async function wN(i){const t=cs(i);for(const n of i.K_)t.S_(n.mutations)}async function RN(i,t,n){const s=i.K_.shift(),o=kp.from(s,t,n);await vb(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Wh(i)}async function IN(i,t){t&&cs(i).b_&&await async function(s,o){if(function(f){return lD(f)&&f!==tt.ABORTED}(o.code)){const u=s.K_.shift();cs(s).h_(),await vb(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Wh(s)}}(i,t),Eb(i)&&Tb(i)}async function B0(i,t){const n=St(i);n.asyncQueue.verifyOperationInProgress(),ut(na,"RemoteStore received new credentials");const s=la(n);n.W_.add(3),await vu(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await Xh(n)}async function CN(i,t){const n=St(i);t?(n.W_.delete(2),await Xh(n)):t||(n.W_.add(2),await vu(n),n.j_.set("Unknown"))}function Do(i){return i.J_||(i.J_=function(n,s,o){const u=St(n);return u.M_(),new fN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:_N.bind(null,i),No:vN.bind(null,i),Lo:EN.bind(null,i),p_:TN.bind(null,i)}),i.G_.push(async t=>{t?(i.J_.h_(),Gp(i)?Fp(i):i.j_.set("Unknown")):(await i.J_.stop(),_b(i))})),i.J_}function cs(i){return i.Y_||(i.Y_=function(n,s,o){const u=St(n);return u.M_(),new dN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:SN.bind(null,i),Lo:IN.bind(null,i),D_:wN.bind(null,i),v_:RN.bind(null,i)}),i.G_.push(async t=>{t?(i.Y_.h_(),await Wh(i)):(await i.Y_.stop(),i.K_.length>0&&(ut(na,`Stopping write stream with ${i.K_.length} pending writes`),i.K_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new Kp(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $p(i,t){if(ar("AsyncQueue",`${t}: ${i}`),Co(i))return new ct(tt.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{static emptySet(t){return new lo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||yt.comparator(n.key,s.key):(n,s)=>yt.comparator(n.key,s.key),this.keyedMap=Fl(),this.sortedSet=new ae(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof lo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new lo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(){this.Z_=new ae(yt.comparator)}track(t){const n=t.doc.key,s=this.Z_.get(n);s?t.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Z_=this.Z_.remove(n):t.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):Tt():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,s)=>{t.push(s)}),t}}class vo{constructor(t,n,s,o,u,f,m,p,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new vo(t,n,lo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Fh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class NN{constructor(){this.queries=q0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=St(n),u=o.queries;o.queries=q0(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new ct(tt.ABORTED,"Firestore shutting down"))}}function q0(){return new oa(i=>jT(i),Fh)}async function Qp(i,t){const n=St(i);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.na()&&t.ra()&&(s=2):(u=new DN,s=t.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=$p(f,`Initialization of query '${eo(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.ta.push(t),t.sa(n.onlineState),u.ea&&t.oa(u.ea)&&Xp(n)}async function Yp(i,t){const n=St(i),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(t);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=t.ra()?0:1:!u.na()&&t.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function ON(i,t){const n=St(i);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&Xp(n)}function xN(i,t,n){const s=St(i),o=s.queries.get(t);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(t)}function Xp(i){i.ia.forEach(t=>{t.next()})}var tp,F0;(F0=tp||(tp={}))._a="default",F0.Cache="cache";class Wp{constructor(t,n,s){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new vo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=vo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==tp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(t){this.key=t}}class Ab{constructor(t){this.key=t}}class MN{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=xt(),this.mutatedKeys=xt(),this.ya=BT(t),this.wa=new lo(this.ya)}get ba(){return this.fa}Sa(t,n){const s=n?n.Da:new H0,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,A)=>{const R=o.get(E),O=Gh(this.query,A)?A:null,k=!!R&&this.mutatedKeys.has(R.key),G=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let L=!1;R&&O?R.data.isEqual(O.data)?k!==G&&(s.track({type:3,doc:O}),L=!0):this.va(R,O)||(s.track({type:2,doc:O}),L=!0,(p&&this.ya(O,p)>0||g&&this.ya(O,g)<0)&&(m=!0)):!R&&O?(s.track({type:0,doc:O}),L=!0):R&&!O&&(s.track({type:1,doc:R}),L=!0,(p||g)&&(m=!0)),L&&(O?(f=f.add(O),u=G?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const f=t.Da.X_();f.sort((E,A)=>function(O,k){const G=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt()}};return G(O)-G(k)}(E.type,A.type)||this.ya(E.doc,A.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,f.length!==0||g?{snapshot:new vo(this.query,t.wa,u,f,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new H0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=xt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return t.forEach(s=>{this.pa.has(s)||n.push(new Ab(s))}),this.pa.forEach(s=>{t.has(s)||n.push(new bb(s))}),n}Oa(t){this.fa=t.gs,this.pa=xt();const n=this.Sa(t.documents);return this.applyChanges(n,!0)}Na(){return vo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Zp="SyncEngine";class VN{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class kN{constructor(t){this.key=t,this.Ba=!1}}class PN{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new oa(m=>jT(m),Fh),this.qa=new Map,this.Qa=new Set,this.$a=new ae(yt.comparator),this.Ka=new Map,this.Ua=new Up,this.Wa={},this.Ga=new Map,this.za=_o.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function LN(i,t,n=!0){const s=Db(i);let o;const u=s.ka.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await Sb(s,t,n,!0),o}async function UN(i,t){const n=Db(i);await Sb(n,t,!0,!1)}async function Sb(i,t,n,s){const o=await rN(i.localStore,vi(t)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await zN(i,t,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&gb(i.remoteStore,o),m}async function zN(i,t,n,s,o){i.Ha=(A,R,O)=>async function(G,L,q,$){let K=L.view.Sa(q);K.ls&&(K=await P0(G.localStore,L.query,!1).then(({documents:N})=>L.view.Sa(N,K)));const it=$&&$.targetChanges.get(L.targetId),st=$&&$.targetMismatches.get(L.targetId)!=null,mt=L.view.applyChanges(K,G.isPrimaryClient,it,st);return K0(G,L.targetId,mt.Ma),mt.snapshot}(i,A,R,O);const u=await P0(i.localStore,t,!0),f=new MN(t,u.gs),m=f.Sa(u.documents),p=_u.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=f.applyChanges(m,i.isPrimaryClient,p);K0(i,n,g.Ma);const E=new VN(t,n,f);return i.ka.set(t,E),i.qa.has(n)?i.qa.get(n).push(t):i.qa.set(n,[t]),g.snapshot}async function jN(i,t,n){const s=St(i),o=s.ka.get(t),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!Fh(f,t))),void s.ka.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Zm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Hp(s.remoteStore,o.targetId),ep(s,o.targetId)}).catch(Io)):(ep(s,o.targetId),await Zm(s.localStore,o.targetId,!0))}async function BN(i,t){const n=St(i),s=n.ka.get(t),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Hp(n.remoteStore,s.targetId))}async function HN(i,t,n){const s=YN(i);try{const o=await function(f,m){const p=St(f),g=be.now(),E=m.reduce((O,k)=>O.add(k.key),xt());let A,R;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let k=or(),G=xt();return p.ds.getEntries(O,E).next(L=>{k=L,k.forEach((q,$)=>{$.isValidDocument()||(G=G.add(q))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,k)).next(L=>{A=L;const q=[];for(const $ of m){const K=iD($,A.get($.key).overlayedDocument);K!=null&&q.push(new ps($.key,K,xT(K.value.mapValue),Ei.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,q,m)}).next(L=>{R=L;const q=L.applyToLocalDocumentSet(A,G);return p.documentOverlayCache.saveOverlays(O,L.batchId,q)})}).then(()=>({batchId:R.batchId,changes:qT(A)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Wa[f.currentUser.toKey()];g||(g=new ae(Vt)),g=g.insert(m,p),f.Wa[f.currentUser.toKey()]=g}(s,o.batchId,n),await Eu(s,o.changes),await Wh(s.remoteStore)}catch(o){const u=$p(o,"Failed to persist write");n.reject(u)}}async function wb(i,t){const n=St(i);try{const s=await eN(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n.Ka.get(u);f&&($t(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?$t(f.Ba):o.removedDocuments.size>0&&($t(f.Ba),f.Ba=!1))}),await Eu(n,s,t)}catch(s){await Io(s)}}function G0(i,t,n){const s=St(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(t);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=St(f);p.onlineState=m;let g=!1;p.queries.forEach((E,A)=>{for(const R of A.ta)R.sa(m)&&(g=!0)}),g&&Xp(p)}(s.eventManager,t),o.length&&s.La.p_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function qN(i,t,n){const s=St(i);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Ka.get(t),u=o&&o.key;if(u){let f=new ae(yt.comparator);f=f.insert(u,Je.newNoDocument(u,bt.min()));const m=xt().add(u),p=new Qh(bt.min(),new Map,new ae(Vt),f,m);await wb(s,p),s.$a=s.$a.remove(u),s.Ka.delete(t),Jp(s)}else await Zm(s.localStore,t,!1).then(()=>ep(s,t,n)).catch(Io)}async function FN(i,t){const n=St(i),s=t.batch.batchId;try{const o=await tN(n.localStore,t);Ib(n,s,null),Rb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Eu(n,o)}catch(o){await Io(o)}}async function GN(i,t,n){const s=St(i);try{const o=await function(f,m){const p=St(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(A=>($t(A!==null),E=A.keys(),p.mutationQueue.removeMutationBatch(g,A))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,t);Ib(s,t,n),Rb(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Eu(s,o)}catch(o){await Io(o)}}function Rb(i,t){(i.Ga.get(t)||[]).forEach(n=>{n.resolve()}),i.Ga.delete(t)}function Ib(i,t,n){const s=St(i);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Wa[s.currentUser.toKey()]=o}}function ep(i,t,n=null){i.sharedClientState.removeLocalQueryTarget(t);for(const s of i.qa.get(t))i.ka.delete(s),n&&i.La.Ja(s,n);i.qa.delete(t),i.isPrimaryClient&&i.Ua.Sr(t).forEach(s=>{i.Ua.containsKey(s)||Cb(i,s)})}function Cb(i,t){i.Qa.delete(t.path.canonicalString());const n=i.$a.get(t);n!==null&&(Hp(i.remoteStore,n),i.$a=i.$a.remove(t),i.Ka.delete(n),Jp(i))}function K0(i,t,n){for(const s of n)s instanceof bb?(i.Ua.addReference(s.key,t),KN(i,s)):s instanceof Ab?(ut(Zp,"Document no longer in limbo: "+s.key),i.Ua.removeReference(s.key,t),i.Ua.containsKey(s.key)||Cb(i,s.key)):Tt()}function KN(i,t){const n=t.key,s=n.path.canonicalString();i.$a.get(n)||i.Qa.has(s)||(ut(Zp,"New document in limbo: "+n),i.Qa.add(s),Jp(i))}function Jp(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const t=i.Qa.values().next().value;i.Qa.delete(t);const n=new yt(te.fromString(t)),s=i.za.next();i.Ka.set(s,new kN(n)),i.$a=i.$a.insert(n,s),gb(i.remoteStore,new Jr(vi(qh(n.path)),s,"TargetPurposeLimboResolution",jh.ae))}}async function Eu(i,t,n){const s=St(i),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,t,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const A=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(g){o.push(g);const A=jp.Yi(p.targetId,g);u.push(A)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,g){const E=St(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>J.forEach(g,R=>J.forEach(R.Hi,O=>E.persistence.referenceDelegate.addReference(A,R.targetId,O)).next(()=>J.forEach(R.Ji,O=>E.persistence.referenceDelegate.removeReference(A,R.targetId,O)))))}catch(A){if(!Co(A))throw A;ut(Bp,"Failed to update sequence numbers: "+A)}for(const A of g){const R=A.targetId;if(!A.fromCache){const O=E.Ts.get(R),k=O.snapshotVersion,G=O.withLastLimboFreeSnapshotVersion(k);E.Ts=E.Ts.insert(R,G)}}}(s.localStore,u))}async function $N(i,t){const n=St(i);if(!n.currentUser.isEqual(t)){ut(Zp,"User change. New user:",t.toKey());const s=await fb(n.localStore,t);n.currentUser=t,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new ct(tt.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Eu(n,s.Rs)}}function QN(i,t){const n=St(i),s=n.Ka.get(t);if(s&&s.Ba)return xt().add(s.key);{let o=xt();const u=n.qa.get(t);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.ba)}return o}}function Db(i){const t=St(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=wb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=QN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=qN.bind(null,t),t.La.p_=ON.bind(null,t.eventManager),t.La.Ja=xN.bind(null,t.eventManager),t}function YN(i){const t=St(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=FN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=GN.bind(null,t),t}class Ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Yh(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return JD(this.persistence,new XD,t.initialUser,this.serializer)}Xa(t){return new hb(zp.ri,this.serializer)}Za(t){return new aN}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ih.provider={build:()=>new Ih};class XN extends Ih{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){$t(this.persistence.referenceDelegate instanceof wh);const s=this.persistence.referenceDelegate.garbageCollector;return new kD(s,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new hb(s=>wh.ri(s,n),this.serializer)}}class np{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>G0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=$N.bind(null,this.syncEngine),await CN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new NN}()}createDatastore(t){const n=Yh(t.databaseInfo.databaseId),s=function(u){return new hN(u)}(t.databaseInfo);return function(u,f,m,p){return new pN(u,f,m,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,u,f,m){return new yN(s,o,u,f,m)}(this.localStore,this.datastore,t.asyncQueue,n=>G0(this.syncEngine,n,0),function(){return z0.D()?new z0:new oN}())}createSyncEngine(t,n){return function(o,u,f,m,p,g,E){const A=new PN(o,u,f,m,p,g);return E&&(A.ja=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const u=St(o);ut(na,"RemoteStore shutting down."),u.W_.add(5),await vu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}np.provider={build:()=>new np};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):ar("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="FirestoreClient";class WN{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Ze.UNAUTHENTICATED,this.clientId=bT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ut(hs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ut(hs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=$p(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Cm(i,t){i.asyncQueue.verifyOperationInProgress(),ut(hs,"Initializing OfflineComponentProvider");const n=i.configuration;await t.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await fb(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=t}async function $0(i,t){i.asyncQueue.verifyOperationInProgress();const n=await ZN(i);ut(hs,"Initializing OnlineComponentProvider"),await t.initialize(n,i.configuration),i.setCredentialChangeListener(s=>B0(t.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>B0(t.remoteStore,o)),i._onlineComponents=t}async function ZN(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ut(hs,"Using user provided OfflineComponentProvider");try{await Cm(i,i._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===tt.FAILED_PRECONDITION||o.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;fo("Error using user provided cache. Falling back to memory cache: "+n),await Cm(i,new Ih)}}else ut(hs,"Using default OfflineComponentProvider"),await Cm(i,new XN(void 0));return i._offlineComponents}async function Nb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ut(hs,"Using user provided OnlineComponentProvider"),await $0(i,i._uninitializedComponentsProvider._online)):(ut(hs,"Using default OnlineComponentProvider"),await $0(i,new np))),i._onlineComponents}function JN(i){return Nb(i).then(t=>t.syncEngine)}async function Ch(i){const t=await Nb(i),n=t.eventManager;return n.onListen=LN.bind(null,t.syncEngine),n.onUnlisten=jN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=UN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=BN.bind(null,t.syncEngine),n}function tO(i,t,n={}){const s=new nr;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new tg({next:R=>{E.su(),f.enqueueAndForget(()=>Yp(u,A));const O=R.docs.has(m);!O&&R.fromCache?g.reject(new ct(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&R.fromCache&&p&&p.source==="server"?g.reject(new ct(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(R)},error:R=>g.reject(R)}),A=new Wp(qh(m.path),E,{includeMetadataChanges:!0,Ta:!0});return Qp(u,A)}(await Ch(i),i.asyncQueue,t,n,s)),s.promise}function eO(i,t,n={}){const s=new nr;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new tg({next:R=>{E.su(),f.enqueueAndForget(()=>Yp(u,A)),R.fromCache&&p.source==="server"?g.reject(new ct(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(R)},error:R=>g.reject(R)}),A=new Wp(m,E,{includeMetadataChanges:!0,Ta:!0});return Qp(u,A)}(await Ch(i),i.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(i,t,n){if(!n)throw new ct(tt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function nO(i,t,n,s){if(t===!0&&s===!0)throw new ct(tt.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Y0(i){if(!yt.isDocumentKey(i))throw new ct(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function X0(i){if(yt.isDocumentKey(i))throw new ct(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Zh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":Tt()}function Hn(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new ct(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zh(i);throw new ct(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="firestore.googleapis.com",W0=!0;class Z0{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ct(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Mb,this.ssl=W0}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:W0;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=cb;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<MD)throw new ct(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}nO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ob((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Jh{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Z0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Z0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new c2;switch(s.type){case"firstParty":return new m2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ct(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Q0.get(n);s&&(ut("ComponentProvider","Removing Datastore"),Q0.delete(n),s.terminate())}(this),Promise.resolve()}}function iO(i,t,n,s={}){var o;const u=(i=Hn(i,Jh))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),m=`${t}:${n}`;u.host!==Mb&&u.host!==m&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!ss(p,f)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Ze.MOCK_USER;else{g=T1(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new ct(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Ze(A)}i._authCredentials=new h2(new TT(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ua(this.firestore,t,this._query)}}class tn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new tn(this.firestore,t,this._key)}}class rs extends ua{constructor(t,n,s){super(t,n,qh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new tn(this.firestore,null,new yt(t))}withConverter(t){return new rs(this.firestore,t,this._path)}}function Vb(i,t,...n){if(i=Ae(i),xb("collection","path",t),i instanceof Jh){const s=te.fromString(t,...n);return X0(s),new rs(i,null,s)}{if(!(i instanceof tn||i instanceof rs))throw new ct(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(te.fromString(t,...n));return X0(s),new rs(i.firestore,null,s)}}function un(i,t,...n){if(i=Ae(i),arguments.length===1&&(t=bT.newId()),xb("doc","path",t),i instanceof Jh){const s=te.fromString(t,...n);return Y0(s),new tn(i,null,new yt(s))}{if(!(i instanceof tn||i instanceof rs))throw new ct(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(te.fromString(t,...n));return Y0(s),new tn(i.firestore,i instanceof rs?i.converter:null,new yt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="AsyncQueue";class tE{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new mb(this,"async_queue_retry"),this.bu=()=>{const s=Im();s&&ut(J0,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=t;const n=Im();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=Im();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new nr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Co(t))throw t;ut(J0,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.Su.then(()=>(this.pu=!0,t().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw ar("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=n,n}enqueueAfterDelay(t,n,s){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const o=Kp.createAndSchedule(this,t,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Tt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.Su,await t;while(t!==this.Su)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}function eE(i){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class ia extends Jh{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new tE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new tE(t),this._firestoreClient=void 0,await t}}}function rO(i,t){const n=OE(),s=vh,o=_p(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=v1("firestore");u&&iO(o,...u)}return o}function tf(i){if(i._terminated)throw new ct(tt.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||sO(i),i._firestoreClient}function sO(i){var t,n,s;const o=i._freezeSettings(),u=function(m,p,g,E){return new C2(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Ob(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((t=i._app)===null||t===void 0?void 0:t.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new WN(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Eo($e.fromBase64String(t))}catch(n){throw new ct(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Eo($e.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ct(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ct(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ct(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=/^__.*__$/;class oO{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new ps(t,this.data,this.fieldMask,n,this.fieldTransforms):new yu(t,this.data,n,this.fieldTransforms)}}class kb{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new ps(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function Pb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt()}}class nf{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new nf(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ku({path:s,Qu:!1});return o.$u(t),o}Ku(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return Dh(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(Pb(this.Lu)&&aO.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class lO{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Yh(t)}ju(t,n,s,o=!1){return new nf({Lu:t,methodName:n,zu:s,path:Ge.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ig(i){const t=i._freezeSettings(),n=Yh(i._databaseId);return new lO(i._databaseId,!!t.ignoreUndefinedProperties,n)}function uO(i,t,n,s,o,u={}){const f=i.ju(u.merge||u.mergeFields?2:0,t,n,o);ag("Data must be an object, but it was:",f,s);const m=Lb(s,f);let p,g;if(u.merge)p=new An(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const R=ip(t,A,n);if(!f.contains(R))throw new ct(tt.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);zb(E,R)||E.push(R)}p=new An(E),g=f.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,g=f.fieldTransforms;return new oO(new pn(m),p,g)}class rf extends Tu{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof rf}}function cO(i,t,n){return new nf({Lu:3,zu:t.settings.zu,methodName:i._methodName,Qu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class rg extends Tu{_toFieldTransform(t){return new XT(t.path,new su)}isEqual(t){return t instanceof rg}}class sg extends Tu{constructor(t,n){super(t),this.Hu=n}_toFieldTransform(t){const n=cO(this,t,!0),s=this.Hu.map(u=>No(u,n)),o=new yo(s);return new XT(t.path,o)}isEqual(t){return t instanceof sg&&ss(this.Hu,t.Hu)}}function hO(i,t,n,s){const o=i.ju(1,t,n);ag("Data must be an object, but it was:",o,s);const u=[],f=pn.empty();ms(s,(p,g)=>{const E=og(t,p,n);g=Ae(g);const A=o.Ku(E);if(g instanceof rf)u.push(E);else{const R=No(g,A);R!=null&&(u.push(E),f.set(E,R))}});const m=new An(u);return new kb(f,m,o.fieldTransforms)}function fO(i,t,n,s,o,u){const f=i.ju(1,t,n),m=[ip(t,s,n)],p=[o];if(u.length%2!=0)throw new ct(tt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)m.push(ip(t,u[R])),p.push(u[R+1]);const g=[],E=pn.empty();for(let R=m.length-1;R>=0;--R)if(!zb(g,m[R])){const O=m[R];let k=p[R];k=Ae(k);const G=f.Ku(O);if(k instanceof rf)g.push(O);else{const L=No(k,G);L!=null&&(g.push(O),E.set(O,L))}}const A=new An(g);return new kb(E,A,f.fieldTransforms)}function dO(i,t,n,s=!1){return No(n,i.ju(s?4:3,t))}function No(i,t){if(Ub(i=Ae(i)))return ag("Unsupported field value:",t,i),Lb(i,t);if(i instanceof Tu)return function(s,o){if(!Pb(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=No(m,o.Uu(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,t)}return function(s,o){if((s=Ae(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return W2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=be.fromDate(s);return{timestampValue:Sh(o.serializer,u)}}if(s instanceof be){const u=new be(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Sh(o.serializer,u)}}if(s instanceof eg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Eo)return{bytesValue:ib(o.serializer,s._byteString)};if(s instanceof tn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Lp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ng)return function(f,m){return{mapValue:{fields:{[NT]:{stringValue:OT},[Eh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Wu("VectorValues must only contain numeric values.");return Vp(m.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Zh(s)}`)}(i,t)}function Lb(i,t){const n={};return ST(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ms(i,(s,o)=>{const u=No(o,t.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function Ub(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof be||i instanceof eg||i instanceof Eo||i instanceof tn||i instanceof Tu||i instanceof ng)}function ag(i,t,n){if(!Ub(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Zh(n);throw s==="an object"?t.Wu(i+" a custom object"):t.Wu(i+" "+s)}}function ip(i,t,n){if((t=Ae(t))instanceof ef)return t._internalPath;if(typeof t=="string")return og(i,t);throw Dh("Field path arguments must be of type string or ",i,!1,void 0,n)}const mO=new RegExp("[~\\*/\\[\\]]");function og(i,t,n){if(t.search(mO)>=0)throw Dh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new ef(...t.split("."))._internalPath}catch{throw Dh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Dh(i,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ct(tt.INVALID_ARGUMENT,m+i+p)}function zb(i,t){return i.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new pO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(lg("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class pO extends jb{data(){return super.data()}}function lg(i,t){return typeof t=="string"?og(i,t):t instanceof ef?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ct(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ug{}class gO extends ug{}function yO(i,t,...n){let s=[];t instanceof ug&&s.push(t),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof cg).length,m=u.filter(p=>p instanceof sf).length;if(f>1||f>0&&m>0)throw new ct(tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class sf extends gO{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new sf(t,n,s)}_apply(t){const n=this._parse(t);return Hb(t._query,n),new ua(t.firestore,t.converter,Km(t._query,n))}_parse(t){const n=ig(t.firestore);return function(u,f,m,p,g,E,A){let R;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ct(tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){iE(A,E);const k=[];for(const G of A)k.push(nE(p,u,G));R={arrayValue:{values:k}}}else R=nE(p,u,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||iE(A,E),R=dO(m,f,A,E==="in"||E==="not-in");return Te.create(g,E,R)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function _O(i,t,n){const s=t,o=lg("where",i);return sf._create(o,s,n)}class cg extends ug{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new cg(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Zn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)Hb(f,p),f=Km(f,p)}(t._query,n),new ua(t.firestore,t.converter,Km(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function nE(i,t,n){if(typeof(n=Ae(n))=="string"){if(n==="")throw new ct(tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zT(t)&&n.indexOf("/")!==-1)throw new ct(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(te.fromString(n));if(!yt.isDocumentKey(s))throw new ct(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return y0(i,new yt(s))}if(n instanceof tn)return y0(i,n._key);throw new ct(tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zh(n)}.`)}function iE(i,t){if(!Array.isArray(i)||i.length===0)throw new ct(tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Hb(i,t){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new ct(tt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ct(tt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class vO{convertValue(t,n="none"){switch(us(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ls(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return ms(t,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(t){var n,s,o;const u=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[Eh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>pe(f.doubleValue));return new ng(u)}convertGeoPoint(t){return new eg(pe(t.latitude),pe(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Hh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(nu(t));default:return null}}convertTimestamp(t){const n=os(t);return new be(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=te.fromString(t);$t(ub(s));const o=new iu(s.get(1),s.get(3)),u=new yt(s.popFirst(5));return o.isEqual(n)||ar(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(i,t,n){let s;return s=i?i.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class qb extends jb{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(lg("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class uh extends qb{data(t={}){return super.data(t)}}class Fb{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Kl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new uh(this._firestore,this._userDataWriter,s.key,s,new Kl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ct(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new uh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new uh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:TO(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function TO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(i){i=Hn(i,tn);const t=Hn(i.firestore,ia);return tO(tf(t),i._key).then(n=>Yb(t,i,n))}class hg extends vO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Eo(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new tn(this.firestore,null,n)}}function Kb(i){i=Hn(i,ua);const t=Hn(i.firestore,ia),n=tf(t),s=new hg(t);return Bb(i._query),eO(n,i._query).then(o=>new Fb(t,s,i,o))}function Nh(i,t,n){i=Hn(i,tn);const s=Hn(i.firestore,ia),o=EO(i.converter,t);return Qb(s,[uO(ig(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Ei.none())])}function Xs(i,t,n,...s){i=Hn(i,tn);const o=Hn(i.firestore,ia),u=ig(o);let f;return f=typeof(t=Ae(t))=="string"||t instanceof ef?fO(u,"updateDoc",i._key,t,n,s):hO(u,"updateDoc",i._key,t),Qb(o,[f.toMutation(i._key,Ei.exists(!0))])}function $b(i,...t){var n,s,o;i=Ae(i);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof t[f]!="object"||eE(t[f])||(u=t[f],f++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(eE(t[f])){const A=t[f];t[f]=(n=A.next)===null||n===void 0?void 0:n.bind(A),t[f+1]=(s=A.error)===null||s===void 0?void 0:s.bind(A),t[f+2]=(o=A.complete)===null||o===void 0?void 0:o.bind(A)}let p,g,E;if(i instanceof tn)g=Hn(i.firestore,ia),E=qh(i._key.path),p={next:A=>{t[f]&&t[f](Yb(g,i,A))},error:t[f+1],complete:t[f+2]};else{const A=Hn(i,ua);g=Hn(A.firestore,ia),E=A._query;const R=new hg(g);p={next:O=>{t[f]&&t[f](new Fb(g,R,A,O))},error:t[f+1],complete:t[f+2]},Bb(i._query)}return function(R,O,k,G){const L=new tg(G),q=new Wp(O,L,k);return R.asyncQueue.enqueueAndForget(async()=>Qp(await Ch(R),q)),()=>{L.su(),R.asyncQueue.enqueueAndForget(async()=>Yp(await Ch(R),q))}}(tf(g),E,m,p)}function Qb(i,t){return function(s,o){const u=new nr;return s.asyncQueue.enqueueAndForget(async()=>HN(await JN(s),o,u)),u.promise}(tf(i),t)}function Yb(i,t,n){const s=n.docs.get(t._key),o=new hg(i);return new qb(i,o,t._key,s,new Kl(n.hasPendingWrites,n.fromCache),t.converter)}function To(){return new rg("serverTimestamp")}function bO(...i){return new sg("arrayUnion",i)}(function(t,n=!0){(function(o){Ro=o})(So),co(new Zs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new ia(new f2(s.getProvider("auth-internal")),new p2(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ct(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),ns(a0,o0,t),ns(a0,o0,"esm2017")})();const AO={apiKey:"AIzaSyA11oVCv4S-0-42FrUhck6h1lLL6dXAEtc",authDomain:"chatapp-16014.firebaseapp.com",projectId:"chatapp-16014",storageBucket:"chatapp-16014.firebasestorage.app",messagingSenderId:"881184754462",appId:"1:881184754462:web:e7388697d4f4205aefd70f"};NE(AO);const af=a2(),Ke=rO();function Xb(i){var t,n,s="";if(typeof i=="string"||typeof i=="number")s+=i;else if(typeof i=="object")if(Array.isArray(i)){var o=i.length;for(t=0;t<o;t++)i[t]&&(n=Xb(i[t]))&&(s&&(s+=" "),s+=n)}else for(n in i)i[n]&&(s&&(s+=" "),s+=n);return s}function Ws(){for(var i,t,n=0,s="",o=arguments.length;n<o;n++)(i=arguments[n])&&(t=Xb(i))&&(s&&(s+=" "),s+=t);return s}function SO(i){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=i:n.appendChild(document.createTextNode(i))}SO(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var bu=i=>typeof i=="number"&&!isNaN(i),ra=i=>typeof i=="string",lr=i=>typeof i=="function",wO=i=>ra(i)||bu(i),rp=i=>ra(i)||lr(i)?i:null,RO=(i,t)=>i===!1||bu(i)&&i>0?i:t,sp=i=>j.isValidElement(i)||ra(i)||lr(i)||bu(i);function IO(i,t,n=300){let{scrollHeight:s,style:o}=i;requestAnimationFrame(()=>{o.minHeight="initial",o.height=s+"px",o.transition=`all ${n}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(t,n)})})}function CO({enter:i,exit:t,appendPosition:n=!1,collapse:s=!0,collapseDuration:o=300}){return function({children:u,position:f,preventExitTransition:m,done:p,nodeRef:g,isIn:E,playToast:A}){let R=n?`${i}--${f}`:i,O=n?`${t}--${f}`:t,k=j.useRef(0);return j.useLayoutEffect(()=>{let G=g.current,L=R.split(" "),q=$=>{$.target===g.current&&(A(),G.removeEventListener("animationend",q),G.removeEventListener("animationcancel",q),k.current===0&&$.type!=="animationcancel"&&G.classList.remove(...L))};G.classList.add(...L),G.addEventListener("animationend",q),G.addEventListener("animationcancel",q)},[]),j.useEffect(()=>{let G=g.current,L=()=>{G.removeEventListener("animationend",L),s?IO(G,p,o):p()};E||(m?L():(k.current=1,G.className+=` ${O}`,G.addEventListener("animationend",L)))},[E]),Ft.createElement(Ft.Fragment,null,u)}}function rE(i,t){return{content:Wb(i.content,i.props),containerId:i.props.containerId,id:i.props.toastId,theme:i.props.theme,type:i.props.type,data:i.props.data||{},isLoading:i.props.isLoading,icon:i.props.icon,reason:i.removalReason,status:t}}function Wb(i,t,n=!1){return j.isValidElement(i)&&!ra(i.type)?j.cloneElement(i,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):lr(i)?i({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):i}function DO({closeToast:i,theme:t,ariaLabel:n="close"}){return Ft.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:s=>{s.stopPropagation(),i(!0)},"aria-label":n},Ft.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ft.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function NO({delay:i,isRunning:t,closeToast:n,type:s="default",hide:o,className:u,controlledProgress:f,progress:m,rtl:p,isIn:g,theme:E}){let A=o||f&&m===0,R={animationDuration:`${i}ms`,animationPlayState:t?"running":"paused"};f&&(R.transform=`scaleX(${m})`);let O=Ws("Toastify__progress-bar",f?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${E}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":p}),k=lr(u)?u({rtl:p,type:s,defaultClassName:O}):Ws(O,u),G={[f&&m>=1?"onTransitionEnd":"onAnimationEnd"]:f&&m<1?null:()=>{g&&n()}};return Ft.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":A},Ft.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${E} Toastify__progress-bar--${s}`}),Ft.createElement("div",{role:"progressbar","aria-hidden":A?"true":"false","aria-label":"notification timer",className:k,style:R,...G}))}var OO=1,Zb=()=>`${OO++}`;function xO(i,t,n){let s=1,o=0,u=[],f=[],m=t,p=new Map,g=new Set,E=$=>(g.add($),()=>g.delete($)),A=()=>{f=Array.from(p.values()),g.forEach($=>$())},R=({containerId:$,toastId:K,updateId:it})=>{let st=$?$!==i:i!==1,mt=p.has(K)&&it==null;return st||mt},O=($,K)=>{p.forEach(it=>{var st;(K==null||K===it.props.toastId)&&((st=it.toggle)==null||st.call(it,$))})},k=$=>{var K,it;(it=(K=$.props)==null?void 0:K.onClose)==null||it.call(K,$.removalReason),$.isActive=!1},G=$=>{if($==null)p.forEach(k);else{let K=p.get($);K&&k(K)}A()},L=()=>{o-=u.length,u=[]},q=$=>{var K,it;let{toastId:st,updateId:mt}=$.props,N=mt==null;$.staleId&&p.delete($.staleId),$.isActive=!0,p.set(st,$),A(),n(rE($,N?"added":"updated")),N&&((it=(K=$.props).onOpen)==null||it.call(K))};return{id:i,props:m,observe:E,toggle:O,removeToast:G,toasts:p,clearQueue:L,buildToast:($,K)=>{if(R(K))return;let{toastId:it,updateId:st,data:mt,staleId:N,delay:w}=K,S=st==null;S&&o++;let C={...m,style:m.toastStyle,key:s++,...Object.fromEntries(Object.entries(K).filter(([U,D])=>D!=null)),toastId:it,updateId:st,data:mt,isIn:!1,className:rp(K.className||m.toastClassName),progressClassName:rp(K.progressClassName||m.progressClassName),autoClose:K.isLoading?!1:RO(K.autoClose,m.autoClose),closeToast(U){p.get(it).removalReason=U,G(it)},deleteToast(){let U=p.get(it);if(U!=null){if(n(rE(U,"removed")),p.delete(it),o--,o<0&&(o=0),u.length>0){q(u.shift());return}A()}}};C.closeButton=m.closeButton,K.closeButton===!1||sp(K.closeButton)?C.closeButton=K.closeButton:K.closeButton===!0&&(C.closeButton=sp(m.closeButton)?m.closeButton:!0);let x={content:$,props:C,staleId:N};m.limit&&m.limit>0&&o>m.limit&&S?u.push(x):bu(w)?setTimeout(()=>{q(x)},w):q(x)},setProps($){m=$},setToggle:($,K)=>{let it=p.get($);it&&(it.toggle=K)},isToastActive:$=>{var K;return(K=p.get($))==null?void 0:K.isActive},getSnapshot:()=>f}}var cn=new Map,ou=[],ap=new Set,MO=i=>ap.forEach(t=>t(i)),Jb=()=>cn.size>0;function VO(){ou.forEach(i=>eA(i.content,i.options)),ou=[]}var kO=(i,{containerId:t})=>{var n;return(n=cn.get(t||1))==null?void 0:n.toasts.get(i)};function tA(i,t){var n;if(t)return!!((n=cn.get(t))!=null&&n.isToastActive(i));let s=!1;return cn.forEach(o=>{o.isToastActive(i)&&(s=!0)}),s}function PO(i){if(!Jb()){ou=ou.filter(t=>i!=null&&t.options.toastId!==i);return}if(i==null||wO(i))cn.forEach(t=>{t.removeToast(i)});else if(i&&("containerId"in i||"id"in i)){let t=cn.get(i.containerId);t?t.removeToast(i.id):cn.forEach(n=>{n.removeToast(i.id)})}}var LO=(i={})=>{cn.forEach(t=>{t.props.limit&&(!i.containerId||t.id===i.containerId)&&t.clearQueue()})};function eA(i,t){sp(i)&&(Jb()||ou.push({content:i,options:t}),cn.forEach(n=>{n.buildToast(i,t)}))}function UO(i){var t;(t=cn.get(i.containerId||1))==null||t.setToggle(i.id,i.fn)}function nA(i,t){cn.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(i,t==null?void 0:t.id)})}function zO(i){let t=i.containerId||1;return{subscribe(n){let s=xO(t,i,MO);cn.set(t,s);let o=s.observe(n);return VO(),()=>{o(),cn.delete(t)}},setProps(n){var s;(s=cn.get(t))==null||s.setProps(n)},getSnapshot(){var n;return(n=cn.get(t))==null?void 0:n.getSnapshot()}}}function jO(i){return ap.add(i),()=>{ap.delete(i)}}function BO(i){return i&&(ra(i.toastId)||bu(i.toastId))?i.toastId:Zb()}function Au(i,t){return eA(i,t),t.toastId}function of(i,t){return{...t,type:t&&t.type||i,toastId:BO(t)}}function lf(i){return(t,n)=>Au(t,of(i,n))}function kt(i,t){return Au(i,of("default",t))}kt.loading=(i,t)=>Au(i,of("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function HO(i,{pending:t,error:n,success:s},o){let u;t&&(u=ra(t)?kt.loading(t,o):kt.loading(t.render,{...o,...t}));let f={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},m=(g,E,A)=>{if(E==null){kt.dismiss(u);return}let R={type:g,...f,...o,data:A},O=ra(E)?{render:E}:E;return u?kt.update(u,{...R,...O}):kt(O.render,{...R,...O}),A},p=lr(i)?i():i;return p.then(g=>m("success",s,g)).catch(g=>m("error",n,g)),p}kt.promise=HO;kt.success=lf("success");kt.info=lf("info");kt.error=lf("error");kt.warning=lf("warning");kt.warn=kt.warning;kt.dark=(i,t)=>Au(i,of("default",{theme:"dark",...t}));function qO(i){PO(i)}kt.dismiss=qO;kt.clearWaitingQueue=LO;kt.isActive=tA;kt.update=(i,t={})=>{let n=kO(i,t);if(n){let{props:s,content:o}=n,u={delay:100,...s,...t,toastId:t.toastId||i,updateId:Zb()};u.toastId!==i&&(u.staleId=i);let f=u.render||o;delete u.render,Au(f,u)}};kt.done=i=>{kt.update(i,{progress:1})};kt.onChange=jO;kt.play=i=>nA(!0,i);kt.pause=i=>nA(!1,i);function FO(i){var t;let{subscribe:n,getSnapshot:s,setProps:o}=j.useRef(zO(i)).current;o(i);let u=(t=j.useSyncExternalStore(n,s,s))==null?void 0:t.slice();function f(m){if(!u)return[];let p=new Map;return i.newestOnTop&&u.reverse(),u.forEach(g=>{let{position:E}=g.props;p.has(E)||p.set(E,[]),p.get(E).push(g)}),Array.from(p,g=>m(g[0],g[1]))}return{getToastToRender:f,isToastActive:tA,count:u==null?void 0:u.length}}function GO(i){let[t,n]=j.useState(!1),[s,o]=j.useState(!1),u=j.useRef(null),f=j.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:m,pauseOnHover:p,closeToast:g,onClick:E,closeOnClick:A}=i;UO({id:i.toastId,containerId:i.containerId,fn:n}),j.useEffect(()=>{if(i.pauseOnFocusLoss)return R(),()=>{O()}},[i.pauseOnFocusLoss]);function R(){document.hasFocus()||q(),window.addEventListener("focus",L),window.addEventListener("blur",q)}function O(){window.removeEventListener("focus",L),window.removeEventListener("blur",q)}function k(N){if(i.draggable===!0||i.draggable===N.pointerType){$();let w=u.current;f.canCloseOnClick=!0,f.canDrag=!0,w.style.transition="none",i.draggableDirection==="x"?(f.start=N.clientX,f.removalDistance=w.offsetWidth*(i.draggablePercent/100)):(f.start=N.clientY,f.removalDistance=w.offsetHeight*(i.draggablePercent===80?i.draggablePercent*1.5:i.draggablePercent)/100)}}function G(N){let{top:w,bottom:S,left:C,right:x}=u.current.getBoundingClientRect();N.nativeEvent.type!=="touchend"&&i.pauseOnHover&&N.clientX>=C&&N.clientX<=x&&N.clientY>=w&&N.clientY<=S?q():L()}function L(){n(!0)}function q(){n(!1)}function $(){f.didMove=!1,document.addEventListener("pointermove",it),document.addEventListener("pointerup",st)}function K(){document.removeEventListener("pointermove",it),document.removeEventListener("pointerup",st)}function it(N){let w=u.current;if(f.canDrag&&w){f.didMove=!0,t&&q(),i.draggableDirection==="x"?f.delta=N.clientX-f.start:f.delta=N.clientY-f.start,f.start!==N.clientX&&(f.canCloseOnClick=!1);let S=i.draggableDirection==="x"?`${f.delta}px, var(--y)`:`0, calc(${f.delta}px + var(--y))`;w.style.transform=`translate3d(${S},0)`,w.style.opacity=`${1-Math.abs(f.delta/f.removalDistance)}`}}function st(){K();let N=u.current;if(f.canDrag&&f.didMove&&N){if(f.canDrag=!1,Math.abs(f.delta)>f.removalDistance){o(!0),i.closeToast(!0),i.collapseAll();return}N.style.transition="transform 0.2s, opacity 0.2s",N.style.removeProperty("transform"),N.style.removeProperty("opacity")}}let mt={onPointerDown:k,onPointerUp:G};return m&&p&&(mt.onMouseEnter=q,i.stacked||(mt.onMouseLeave=L)),A&&(mt.onClick=N=>{E&&E(N),f.canCloseOnClick&&g(!0)}),{playToast:L,pauseToast:q,isRunning:t,preventExitTransition:s,toastRef:u,eventHandlers:mt}}var KO=typeof window<"u"?j.useLayoutEffect:j.useEffect,uf=({theme:i,type:t,isLoading:n,...s})=>Ft.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:i==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...s});function $O(i){return Ft.createElement(uf,{...i},Ft.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function QO(i){return Ft.createElement(uf,{...i},Ft.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function YO(i){return Ft.createElement(uf,{...i},Ft.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function XO(i){return Ft.createElement(uf,{...i},Ft.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function WO(){return Ft.createElement("div",{className:"Toastify__spinner"})}var op={info:QO,warning:$O,success:YO,error:XO,spinner:WO},ZO=i=>i in op;function JO({theme:i,type:t,isLoading:n,icon:s}){let o=null,u={theme:i,type:t};return s===!1||(lr(s)?o=s({...u,isLoading:n}):j.isValidElement(s)?o=j.cloneElement(s,u):n?o=op.spinner():ZO(t)&&(o=op[t](u))),o}var tx=i=>{let{isRunning:t,preventExitTransition:n,toastRef:s,eventHandlers:o,playToast:u}=GO(i),{closeButton:f,children:m,autoClose:p,onClick:g,type:E,hideProgressBar:A,closeToast:R,transition:O,position:k,className:G,style:L,progressClassName:q,updateId:$,role:K,progress:it,rtl:st,toastId:mt,deleteToast:N,isIn:w,isLoading:S,closeOnClick:C,theme:x,ariaLabel:U}=i,D=Ws("Toastify__toast",`Toastify__toast-theme--${x}`,`Toastify__toast--${E}`,{"Toastify__toast--rtl":st},{"Toastify__toast--close-on-click":C}),fe=lr(G)?G({rtl:st,position:k,type:E,defaultClassName:D}):Ws(D,G),ne=JO(i),at=!!it||!p,_t={closeToast:R,type:E,theme:x},ft=null;return f===!1||(lr(f)?ft=f(_t):j.isValidElement(f)?ft=j.cloneElement(f,_t):ft=DO(_t)),Ft.createElement(O,{isIn:w,done:N,position:k,preventExitTransition:n,nodeRef:s,playToast:u},Ft.createElement("div",{id:mt,tabIndex:0,onClick:g,"data-in":w,className:fe,...o,style:L,ref:s,...w&&{role:K,"aria-label":U}},ne!=null&&Ft.createElement("div",{className:Ws("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!S})},ne),Wb(m,i,!t),ft,!i.customProgressBar&&Ft.createElement(NO,{...$&&!at?{key:`p-${$}`}:{},rtl:st,theme:x,delay:p,isRunning:t,isIn:w,closeToast:R,hide:A,type:E,className:q,controlledProgress:at,progress:it||0})))},ex=(i,t=!1)=>({enter:`Toastify--animate Toastify__${i}-enter`,exit:`Toastify--animate Toastify__${i}-exit`,appendPosition:t}),nx=CO(ex("bounce",!0)),ix={position:"top-right",transition:nx,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:i=>i.altKey&&i.code==="KeyT"};function cf(i){let t={...ix,...i},n=i.stacked,[s,o]=j.useState(!0),u=j.useRef(null),{getToastToRender:f,isToastActive:m,count:p}=FO(t),{className:g,style:E,rtl:A,containerId:R,hotKeys:O}=t;function k(L){let q=Ws("Toastify__toast-container",`Toastify__toast-container--${L}`,{"Toastify__toast-container--rtl":A});return lr(g)?g({position:L,rtl:A,defaultClassName:q}):Ws(q,rp(g))}function G(){n&&(o(!0),kt.play())}return KO(()=>{var L;if(n){let q=u.current.querySelectorAll('[data-in="true"]'),$=12,K=(L=t.position)==null?void 0:L.includes("top"),it=0,st=0;Array.from(q).reverse().forEach((mt,N)=>{let w=mt;w.classList.add("Toastify__toast--stacked"),N>0&&(w.dataset.collapsed=`${s}`),w.dataset.pos||(w.dataset.pos=K?"top":"bot");let S=it*(s?.2:1)+(s?0:$*N);w.style.setProperty("--y",`${K?S:S*-1}px`),w.style.setProperty("--g",`${$}`),w.style.setProperty("--s",`${1-(s?st:0)}`),it+=w.offsetHeight,st+=.025})}},[s,p,n]),j.useEffect(()=>{function L(q){var $;let K=u.current;O(q)&&(($=K.querySelector('[tabIndex="0"]'))==null||$.focus(),o(!1),kt.pause()),q.key==="Escape"&&(document.activeElement===K||K!=null&&K.contains(document.activeElement))&&(o(!0),kt.play())}return document.addEventListener("keydown",L),()=>{document.removeEventListener("keydown",L)}},[O]),Ft.createElement("section",{ref:u,className:"Toastify",id:R,onMouseEnter:()=>{n&&(o(!1),kt.pause())},onMouseLeave:G,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},f((L,q)=>{let $=q.length?{...E}:{...E,pointerEvents:"none"};return Ft.createElement("div",{tabIndex:-1,className:k(L),"data-stacked":n,style:$,key:`c-${L}`},q.map(({content:K,props:it})=>Ft.createElement(tx,{...it,stacked:n,collapseAll:G,isIn:m(it.toastId,it.containerId),key:`t-${it.key}`},K)))}))}const rx=()=>{const[i,t]=j.useState(!1),n=Vh(),s=async o=>{o.preventDefault();const u=o.target[0].value,f=o.target[1].value,m=o.target[2].value;try{const g=(await HI(af,f,m)).user;await GI(g,{displayName:u}),await Nh(un(Ke,"peoples",g.uid),{uid:g.uid,displayName:u,email:g.email,createdAt:new Date}),await Nh(un(Ke,"userChats",g.uid),{}),kt.success("Registration successful! "),console.log("navigate to chat app"),setTimeout(()=>{console.log("inside timeout"),n("/chat")},3e3)}catch(p){kt.error(p.code),console.error("Error:",p)}};return Y.jsxs("div",{className:"login-container",children:[Y.jsx(cf,{}),Y.jsx("h1",{className:"welcome-text",children:"Welcome"}),Y.jsx("p",{className:"subtitle",children:"Create Your Account"}),Y.jsxs("form",{onSubmit:s,children:[Y.jsxs("div",{className:"input-box",children:[Y.jsx("span",{className:"icon",children:""}),Y.jsx("input",{type:"text",placeholder:"Username",required:!0,autoFocus:!0})]}),Y.jsxs("div",{className:"input-box",children:[Y.jsx("span",{className:"icon",children:""}),Y.jsx("input",{type:"email",placeholder:"Email Id",required:!0})]}),Y.jsxs("div",{className:"input-box",children:[Y.jsx("span",{className:"icon",children:""}),Y.jsx("input",{type:i?"text":"password",placeholder:"Password",required:!0}),Y.jsx("button",{type:"button",onClick:()=>t(!i),className:"hide-btn",children:i?"":""})]}),Y.jsx("button",{type:"submit",className:"primary-button",children:"Register"})]}),Y.jsxs("p",{className:"register-link",children:["Already have an Account? ",Y.jsx(uo,{to:"/login",children:"Login"})]})]})},sx=()=>{const[i,t]=j.useState(!1),n=Vh(),s=async o=>{o.preventDefault();const u=o.target[0].value,f=o.target[1].value;try{await qI(af,u,f),kt.success("Login Successful."),setTimeout(()=>{n("/chat")},2e3)}catch(m){kt.error(m.code),console.log(m)}};return Y.jsxs("div",{className:"login-container",children:[Y.jsx(cf,{}),Y.jsx("h1",{className:"welcome-text",children:"Welcome"}),Y.jsx("p",{className:"subtitle",children:"Login to your account"}),Y.jsxs("form",{onSubmit:s,children:[Y.jsxs("div",{className:"input-box",children:[Y.jsx("span",{className:"icon",children:""}),Y.jsx("input",{type:"email",placeholder:"Email",required:!0,autoFocus:!0})]}),Y.jsxs("div",{className:"input-box",children:[Y.jsx("span",{className:"icon",children:""}),Y.jsx("input",{type:i?"text":"password",placeholder:"Password",required:!0}),Y.jsx("button",{type:"button",onClick:()=>t(!i),className:"hide-btn",children:i?"":""})]}),Y.jsx("button",{type:"submit",className:"primary-button",children:"Login"})]}),Y.jsxs("p",{className:"register-link",children:["Don't have an account? ",Y.jsx(uo,{to:"/register",children:"Register"})]})]})},ax=()=>Y.jsxs("div",{className:"register-wrapper",children:[Y.jsx("div",{className:"app-logo",children:"My Chat App"}),Y.jsxs("div",{className:"button-group",children:[Y.jsx(uo,{to:"/login",className:"primary-button",children:"Login"}),Y.jsx(uo,{to:"/register",className:"secondary-button",children:"Sign Up"})]})]}),Fn=j.createContext(),ox=({children:i})=>{const[t,n]=j.useState({}),[s,o]=j.useState(!1);return j.useEffect(()=>{QI(af,u=>{n(u)})},[]),Y.jsx(Fn.Provider,{value:{signInUser:t,model:s,setModel:o},children:i})},iA=j.createContext(),lx=({children:i})=>{const{signInUser:t}=j.useContext(Fn),n={chatId:"null",user:{}},s=(f,m)=>{switch(m.type){case"CHANGE_USER":return{user:m.payload,chatId:t.uid>m.payload.uid?t.uid+m.payload.uid:m.payload.uid+t.uid};default:return f}},[o,u]=j.useReducer(s,n);return Y.jsx(iA.Provider,{value:{state:o,dispatch:u},children:i})},fg=()=>j.useContext(iA),qe=[];for(let i=0;i<256;++i)qe.push((i+256).toString(16).slice(1));function ux(i,t=0){return(qe[i[t+0]]+qe[i[t+1]]+qe[i[t+2]]+qe[i[t+3]]+"-"+qe[i[t+4]]+qe[i[t+5]]+"-"+qe[i[t+6]]+qe[i[t+7]]+"-"+qe[i[t+8]]+qe[i[t+9]]+"-"+qe[i[t+10]]+qe[i[t+11]]+qe[i[t+12]]+qe[i[t+13]]+qe[i[t+14]]+qe[i[t+15]]).toLowerCase()}let Dm;const cx=new Uint8Array(16);function hx(){if(!Dm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Dm=crypto.getRandomValues.bind(crypto)}return Dm(cx)}const fx=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),sE={randomUUID:fx};function dx(i,t,n){var o;if(sE.randomUUID&&!i)return sE.randomUUID();i=i||{};const s=i.random??((o=i.rng)==null?void 0:o.call(i))??hx();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,ux(s)}const mx=()=>{const{state:i}=fg(),{signInUser:t}=j.useContext(Fn),[n,s]=j.useState(""),o=async()=>{if(i.chatId==="null"){kt.error("Select the User first."),s("");return}if(n.trim()===""){kt.error("Message cannot be empty!");return}await Xs(un(Ke,"chats",i.chatId),{message:bO({text:n,senderId:t.uid,id:dx(),date:be.now()})}),await Xs(un(Ke,"userChats",t.uid),{[i.chatId+".lastMessage"]:{text:n},[i.chatId+".date"]:To()}),await Xs(un(Ke,"userChats",i.user.uid),{[i.chatId+".lastMessage"]:{text:n},[i.chatId+".date"]:To()}),s("")};return Y.jsxs("div",{className:"input-container ",children:[Y.jsx(cf,{}),Y.jsx("span",{className:"emoji-icon",children:""}),Y.jsx("input",{type:"text",value:n,placeholder:"Message",className:"message-input w-75",onChange:u=>s(u.target.value)}),Y.jsx("button",{onClick:o,className:"send-button",children:""})]})};var rA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},aE=Ft.createContext&&Ft.createContext(rA),px=["attr","size","title"];function gx(i,t){if(i==null)return{};var n=yx(i,t),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(o=0;o<u.length;o++)s=u[o],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(n[s]=i[s])}return n}function yx(i,t){if(i==null)return{};var n={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;n[s]=i[s]}return n}function Oh(){return Oh=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},Oh.apply(this,arguments)}function oE(i,t){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,s)}return n}function xh(i){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oE(Object(n),!0).forEach(function(s){_x(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):oE(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}function _x(i,t,n){return t=vx(t),t in i?Object.defineProperty(i,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[t]=n,i}function vx(i){var t=Ex(i,"string");return typeof t=="symbol"?t:t+""}function Ex(i,t){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var s=n.call(i,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function sA(i){return i&&i.map((t,n)=>Ft.createElement(t.tag,xh({key:n},t.attr),sA(t.child)))}function hf(i){return t=>Ft.createElement(Tx,Oh({attr:xh({},i.attr)},t),sA(i.child))}function Tx(i){var t=n=>{var{attr:s,size:o,title:u}=i,f=gx(i,px),m=o||n.size||"1em",p;return n.className&&(p=n.className),i.className&&(p=(p?p+" ":"")+i.className),Ft.createElement("svg",Oh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,f,{className:p,style:xh(xh({color:i.color||n.color},n.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&Ft.createElement("title",null,u),i.children)};return aE!==void 0?Ft.createElement(aE.Consumer,null,n=>t(n)):t(rA)}function aA(i){return hf({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M13 8c0-2.21-1.79-4-4-4S5 5.79 5 8s1.79 4 4 4 4-1.79 4-4zm2 2v2h3v3h2v-3h3v-2h-3V7h-2v3h-3zM1 18v2h16v-2c0-2.66-5.33-4-8-4s-8 1.34-8 4z"},child:[]}]})(i)}function bx(i){return hf({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15.5 5H11l5 7-5 7h4.5l5-7z"},child:[]},{tag:"path",attr:{d:"M8.5 5H4l5 7-5 7h4.5l5-7z"},child:[]}]})(i)}const Ax=({userData:i})=>{var s;const{model:t,setModel:n}=j.useContext(Fn);return Y.jsxs("div",{className:"topbar",children:[Y.jsx("div",{className:"icons",children:Y.jsx("span",{className:"icon",onClick:()=>n(!t),children:Y.jsx(bx,{size:"40px"})})}),Y.jsx("div",{className:"user-info",children:Y.jsx("div",{className:"text-info",children:Y.jsx("span",{className:"user-name fs-5 text-capitalize",children:((s=i.user)==null?void 0:s.displayName)||" Select the User"})})})]})},Sx=({msg:i})=>{const t=j.useRef();return j.useEffect(()=>{var n;(n=t.current)==null||n.scrollIntoView({behavior:"smooth"})},[i]),Y.jsxs("div",{ref:t,className:"message sender",children:[Y.jsx("p",{className:"mb-0",children:i.text}),Y.jsx("span",{className:"msg-time text-black-50 align-self-end",children:i.date?new Date(i.date.seconds*1e3).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}):""})]})},wx=({msg:i})=>{const t=j.useRef();return j.useEffect(()=>{var n;(n=t.current)==null||n.scrollIntoView({behavior:"smooth"})},[i]),Y.jsxs("div",{ref:t,className:"message receiver align-self-end",children:[Y.jsx("p",{className:"mb-0",children:i.text}),Y.jsx("span",{className:"msg-time align-self-end",children:i.date?new Date(i.date.seconds*1e3).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}):""})]})},Rx=()=>{const{signInUser:i,model:t}=j.useContext(Fn),[n,s]=j.useState([]),{state:o}=fg();return j.useEffect(()=>{const u=$b(un(Ke,"chats",o.chatId),f=>{var m;s(((m=f.data())==null?void 0:m.message)||[])});return()=>{u()}},[o.chatId]),Y.jsxs("div",{className:"chat-container ",children:[Y.jsx(Ax,{userData:o}),Y.jsx("div",{className:"chat-box mb-4 d-flex flex-column  w-100 overflow-auto ",style:{scrollbarWidth:"none"},children:n.map((u,f)=>(u==null?void 0:u.senderId)===(i==null?void 0:i.uid)?Y.jsx(wx,{msg:u},f):Y.jsx(Sx,{msg:u},f))}),Y.jsx(mx,{})]})};function Ix(i){return hf({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(i)}const Cx=i=>{var f,m;const{dispatch:t}=fg(),{model:n,setModel:s}=j.useContext(Fn),o=p=>{window.innerWidth<769&&s(!n),t({type:"CHANGE_USER",payload:p})},u=i[1].userInfo.displayName.charAt(0);return Y.jsxs("div",{className:"chat-item",onClick:()=>o(i[1].userInfo),children:[Y.jsx("div",{className:"profileName text-center",children:Y.jsx("p",{className:"mb-5 text-capitalize",children:u})}),Y.jsxs("div",{className:"chat-info",children:[Y.jsxs("div",{className:"chat-header",children:[Y.jsx("h4",{className:"text-capitalize",children:i[1].userInfo.displayName}),Y.jsx("span",{className:"chat-time",children:new Date(((f=i[1].date)==null?void 0:f.seconds)*1e3).toLocaleDateString("en-US",{month:"long",day:"numeric"})})]}),Y.jsx("div",{className:"chat-message",children:Y.jsx("p",{children:(m=i[1].lastMessage)==null?void 0:m.text})})]})]})};function Dx(i){return hf({attr:{viewBox:"0 0 1024 1024",fill:"currentColor",fillRule:"evenodd"},child:[{tag:"path",attr:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64Zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372Zm128.013 198.826c.023.007.042.018.083.059l45.02 45.019c.04.04.05.06.058.083a.118.118 0 0 1 0 .07c-.007.022-.018.041-.059.082L557.254 512l127.861 127.862a.268.268 0 0 1 .05.06l.009.023a.118.118 0 0 1 0 .07c-.007.022-.018.041-.059.082l-45.019 45.02c-.04.04-.06.05-.083.058a.118.118 0 0 1-.07 0c-.022-.007-.041-.018-.082-.059L512 557.254 384.14 685.115c-.042.041-.06.052-.084.059a.118.118 0 0 1-.07 0c-.022-.007-.041-.018-.082-.059l-45.02-45.019c-.04-.04-.05-.06-.058-.083a.118.118 0 0 1 0-.07c.007-.022.018-.041.059-.082L466.745 512l-127.86-127.86a.268.268 0 0 1-.05-.061l-.009-.023a.118.118 0 0 1 0-.07c.007-.022.018-.041.059-.082l45.019-45.02c.04-.04.06-.05.083-.058a.118.118 0 0 1 .07 0c.022.007.041.018.082.059L512 466.745l127.862-127.86c.04-.041.06-.052.083-.059a.118.118 0 0 1 .07 0Z"},child:[]}]})(i)}const Nx=()=>{const{signInUser:i,model:t,setModel:n}=j.useContext(Fn);return Y.jsxs("div",{className:"navbar-container",children:[Y.jsxs("div",{className:"d-flex justify-content-between w-100",children:[Y.jsx("h2",{className:"brand-title m-0 mt-2",children:"You & Me"}),Y.jsx("button",{onClick:()=>YI(af),className:"logout-btn",children:"Logout"}),Y.jsx("div",{className:"icons mt-2",style:{color:" #7f8c8d"},onClick:()=>n(!t),children:Y.jsx(Dx,{size:"30px"})})]}),Y.jsx("marquee",{behavior:"alternate",direction:"",children:Y.jsxs("h4",{className:"username m-0 mt-1 text-capitalize",children:["Welcome ",i.displayName]})})]})},Ox=()=>{const[i,t]=j.useState(""),[n,s]=j.useState(""),{signInUser:o}=j.useContext(Fn),[u,f]=j.useState(!1),m=async()=>{const E=yO(Vb(Ke,"peoples"),_O("displayName","==",i.toLowerCase()));try{const A=await Kb(E);A.empty?kt.error("User Not Found "):A.forEach(R=>{s(R.data())})}catch(A){kt.error(A.code)}},p=o.uid>n.uid?o.uid+n.uid:n.uid+o.uid,g=async()=>{(await Gb(un(Ke,"chats",p))).exists()||Nh(un(Ke,"chats",p),{message:[]}),await Xs(un(Ke,"userChats",o.uid),{[p+".userInfo"]:{uid:n.uid,displayName:n.displayName},[p+".date"]:To()}),await Xs(un(Ke,"userChats",n.uid),{[p+".userInfo"]:{uid:o.uid,displayName:o.displayName},[p+".date"]:To()}),f(!0),t("")};return Y.jsxs("div",{className:"chat-list-header",children:[Y.jsx(cf,{}),Y.jsxs("div",{className:"search-bar",children:[Y.jsx("input",{type:"text",value:i,placeholder:"Search",onChange:E=>t(E.target.value)}),Y.jsx(Ix,{className:"search-icon",onClick:m})]}),n&&Y.jsx("div",{className:"chat-item search-list ",style:{display:u?"none":"block"},children:Y.jsx("div",{className:"chat-info",children:Y.jsxs("div",{className:"chat-header",children:[Y.jsx("h4",{className:"text-capitalize fs-5 mt-1",children:n.displayName}),Y.jsx("span",{onClick:g,className:"chat-time",children:Y.jsx(aA,{size:"30px"})})]})})})]})},xx=()=>{const[i,t]=j.useState([]),{signInUser:n}=j.useContext(Fn);j.useEffect(()=>{(async()=>{try{const f=(await Kb(Vb(Ke,"peoples"))).docs.map(m=>({id:m.id,...m.data()}));t(f)}catch(u){console.error("Error fetching users:",u)}})()},[]);const s=async o=>{const u=n.uid>o.uid?n.uid+o.uid:o.uid+n.uid;(await Gb(un(Ke,"chats",u))).exists()||Nh(un(Ke,"chats",u),{message:[]}),await Xs(un(Ke,"userChats",n.uid),{[u+".userInfo"]:{uid:o.uid,displayName:o.displayName},[u+".date"]:To()}),await Xs(un(Ke,"userChats",o.uid),{[u+".userInfo"]:{uid:n.uid,displayName:n.displayName},[u+".date"]:To()})};return Y.jsx("div",{className:"chat-suggest overflow-auto ",style:{scrollbarWidth:"none"},children:i.length>0?i.map(o=>Y.jsx("div",{className:"chat-item search-list",children:Y.jsx("div",{className:"chat-info",children:Y.jsxs("div",{className:"chat-header",children:[Y.jsx("h4",{className:"text-capitalize  mt-1",children:o.displayName}),Y.jsx("span",{className:"chat-time",onClick:()=>{s(o)},children:Y.jsx(aA,{size:"20px"})})]})})},o.id)):Y.jsx("p",{children:"No users found."})})},Mx=()=>{var o;const{signInUser:i,model:t}=j.useContext(Fn),[n,s]=j.useState([]);return j.useEffect(()=>{const u=()=>{const f=$b(un(Ke,"userChats",i.uid),m=>{s(m.data())});return()=>{f()}};i.uid&&u()},[i.uid]),Y.jsxs("div",{className:`chat-list-container ${t?"position-absolute z-3 d-block w-75 ":""}`,children:[Y.jsx(Nx,{}),Y.jsx(Ox,{}),Y.jsx("div",{className:"chat-list overflow-auto",style:{scrollbarWidth:"none"},children:Y.jsx("div",{className:"w-100",children:(o=Object.entries(n))==null?void 0:o.sort((u,f)=>f[1].date-u[1].date).map((u,f)=>Y.jsx(Cx,{...u},f))})}),Y.jsx("p",{style:{fontSize:"14px"},className:"mb-0 fw-bold",children:"Add New Freinds"}),Y.jsx("div",{children:Y.jsx(xx,{})})]})},Vx=()=>{const{model:i}=j.useContext(Fn);return Y.jsxs("div",{className:"ChatContainer d-flex gap-3 ",children:[Y.jsx(Mx,{}),Y.jsx(Rx,{})]})};function kx(){const{signInUser:i}=j.useContext(Fn),t=({children:n})=>i?n:Y.jsx(Nw,{to:"/"});return Y.jsx(e1,{children:Y.jsxs(xw,{children:[Y.jsx(jl,{path:"/",element:Y.jsx(ax,{})}),Y.jsx(jl,{path:"/login",element:Y.jsx(sx,{})}),Y.jsx(jl,{path:"/register",element:Y.jsx(rx,{})}),Y.jsx(jl,{path:"/chat",element:Y.jsx(t,{children:Y.jsx(Vx,{})})})]})})}BS.createRoot(document.getElementById("root")).render(Y.jsx(ox,{children:Y.jsx(lx,{children:Y.jsx(kx,{})})}));
